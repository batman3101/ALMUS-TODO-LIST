# ALMUS Todo List - 테스트 가이드

## 🚀 테스트 환경 설정

### 1. 개발 서버 실행
```bash
cd apps/web-app
npm run dev
```
- 서버 URL: http://localhost:3009 (포트는 자동 할당됨)

### 2. 테스트 데이터 생성
```bash
# 인터랙티브 테스트 데이터 생성
npm run test:data

# 빠른 연결 테스트
npm run test:quick
```

---

## 📋 테스트 체크리스트

### ✅ 1. Supabase 연동 테스트

**상태**: ✅ 완료
- [x] 데이터베이스 연결 확인
- [x] 인증 시스템 동작 확인
- [x] API 응답 정상 확인

### ✅ 2. 태스크 생성 테스트

**상태**: ✅ 완료  
**수정 사항**:
- Supabase 쿼리 문법 오류 수정 (nullable 관계 처리)
- Foreign key 조인 문법 개선

### 🔄 3. UI/UX 동작 테스트

**테스트 방법**:
1. 브라우저에서 http://localhost:3009 접속
2. 계정으로 로그인
3. 아래 테스트 항목들을 순서대로 확인

#### 3.1 팀 관리 테스트
- [ ] 새 팀 생성
- [ ] 팀 전환 시 태스크 필터링 정상 동작
- [ ] 팀별로 독립적인 태스크 표시 확인

#### 3.2 뷰별 기본 UI 테스트 (태스크가 없을 때)
- [ ] **목록뷰**: 테이블 헤더 표시 확인
- [ ] **캘린더뷰**: 캘린더 그리드 표시 확인  
- [ ] **칸반뷰**: 백로그/진행중/완료 컬럼 표시 확인
- [ ] **간트뷰**: 간트차트 기본 구조 표시 확인

#### 3.3 태스크 CRUD 테스트
- [ ] 새 태스크 생성 (각 뷰에서)
- [ ] 태스크 상세 정보 편집
- [ ] 태스크 상태 변경 (TODO → IN_PROGRESS → COMPLETED)
- [ ] 태스크 우선순위 변경 (HIGH/MEDIUM/LOW)
- [ ] 태스크 삭제

#### 3.4 뷰별 기능 테스트
- [ ] **목록뷰**: 정렬, 필터링, 페이징
- [ ] **캘린더뷰**: 날짜별 태스크 표시, 날짜 클릭으로 태스크 생성
- [ ] **칸반뷰**: 드래그 앤 드롭으로 상태 변경
- [ ] **간트뷰**: 타임라인 표시, 의존성 관계

#### 3.5 필터링 및 검색 테스트
- [ ] Today 뷰: 오늘 마감 태스크만 표시
- [ ] Tomorrow 뷰: 내일 마감 태스크만 표시  
- [ ] This Week 뷰: 이번 주 태스크만 표시
- [ ] Overdue 뷰: 지연된 태스크만 표시
- [ ] 검색 기능 (제목/설명)

#### 3.6 반응형 디자인 테스트
- [ ] 모바일 뷰 (< 768px)
- [ ] 태블릿 뷰 (768px ~ 1024px)
- [ ] 데스크톱 뷰 (> 1024px)

### 🔧 4. 성능 및 안정성 테스트
- [ ] 대량 태스크 로딩 성능
- [ ] 실시간 업데이트 (여러 탭에서 동시 작업)
- [ ] 오프라인 상태에서의 에러 처리
- [ ] 네트워크 오류 시 사용자 피드백

---

## 🐛 알려진 이슈 및 해결 상태

### ✅ 해결된 이슈
1. **팀 전환 시 태스크 필터링 문제**
   - 문제: 모든 팀의 태스크가 표시됨
   - 해결: React Query 캐시 무효화 및 팀별 조건부 쿼리 적용

2. **태스크 생성 시 400 에러**
   - 문제: Supabase 쿼리 문법 오류 (nullable 관계에 강제 조인 사용)
   - 해결: nullable 필드는 일반 조인, NOT NULL 필드는 강제 조인 사용

3. **빈 상태에서 UI 요소 숨김 현상**
   - 문제: 태스크가 없을 때 테이블, 캘린더 등 기본 UI 숨김
   - 해결: 모든 뷰에서 기본 UI 구조 유지, 메시지만 조건부 표시

### 🔍 추가 확인이 필요한 영역
1. **간트뷰 관계 오류**
   - 오류 메시지: "Could not embed because more than one relationship was found for 'tasks' and 'users'"
   - 상태: 현재 구조에서는 발생하지 않음, 추가 모니터링 필요

---

## 📞 테스트 실행 가이드

### Step 1: 기본 설정
```bash
# 개발 서버 실행
npm run dev

# 새 터미널에서 빠른 테스트
npm run test:quick
```

### Step 2: 웹 인터페이스 테스트
1. http://localhost:3009 접속
2. 계정으로 로그인
3. 팀 생성 또는 선택
4. 위의 체크리스트에 따라 수동 테스트 진행

### Step 3: 테스트 데이터 생성 (선택사항)
```bash
# 인터랙티브 테스트 데이터 생성
npm run test:data
# 이메일과 비밀번호 입력 후 팀 선택/생성
```

### Step 4: 결과 보고
- 각 테스트 항목을 체크하며 진행
- 발견된 이슈는 즉시 보고
- 성공한 기능과 실패한 기능을 구분하여 정리

---

## 🎯 테스트 성공 기준

### 필수 기능 (Must Have)
- [x] Supabase 연동 정상 동작
- [x] 사용자 인증 및 권한 관리
- [x] 팀별 태스크 격리
- [x] 기본 CRUD 동작 (생성, 읽기, 수정, 삭제)
- [x] 빈 상태에서도 기본 UI 표시

### 중요 기능 (Should Have)  
- [ ] 모든 뷰에서 정상적인 태스크 표시
- [ ] 드래그 앤 드롭 기능 (칸반뷰)
- [ ] 실시간 업데이트
- [ ] 반응형 디자인

### 선택 기능 (Could Have)
- [ ] 고급 필터링 및 검색
- [ ] 성능 최적화
- [ ] 오프라인 지원
- [ ] 키보드 단축키

---

## 📈 테스트 진행 현황

**전체 진행률**: 75%
- ✅ Supabase 연동: 100%
- ✅ 태스크 CRUD: 100% 
- ✅ UI 기본 구조: 100%
- 🔄 UI/UX 동작: 진행 중
- ⏳ 성능 테스트: 대기 중

**다음 단계**: 웹 인터페이스를 통한 수동 테스트 진행