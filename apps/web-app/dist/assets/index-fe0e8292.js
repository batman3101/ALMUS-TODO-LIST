var _p=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var k=(t,e,n)=>(_p(t,e,"read from private field"),n?n.call(t):e.get(t)),Q=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},q=(t,e,n,r)=>(_p(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Nc=(t,e,n,r)=>({set _(i){q(t,e,i,n)},get _(){return k(t,e,r)}}),ue=(t,e,n)=>(_p(t,e,"access private method"),n);function rD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ev(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ob={exports:{}},$h={},Lb={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=Symbol.for("react.element"),iD=Symbol.for("react.portal"),sD=Symbol.for("react.fragment"),oD=Symbol.for("react.strict_mode"),aD=Symbol.for("react.profiler"),lD=Symbol.for("react.provider"),uD=Symbol.for("react.context"),cD=Symbol.for("react.forward_ref"),dD=Symbol.for("react.suspense"),hD=Symbol.for("react.memo"),fD=Symbol.for("react.lazy"),Y_=Symbol.iterator;function pD(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var Mb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vb=Object.assign,Fb={};function ba(t,e,n){this.props=t,this.context=e,this.refs=Fb,this.updater=n||Mb}ba.prototype.isReactComponent={};ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ub(){}Ub.prototype=ba.prototype;function Iv(t,e,n){this.props=t,this.context=e,this.refs=Fb,this.updater=n||Mb}var Sv=Iv.prototype=new Ub;Sv.constructor=Iv;Vb(Sv,ba.prototype);Sv.isPureReactComponent=!0;var X_=Array.isArray,Bb=Object.prototype.hasOwnProperty,bv={current:null},jb={key:!0,ref:!0,__self:!0,__source:!0};function $b(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Bb.call(e,r)&&!jb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$u,type:t,key:s,ref:o,props:i,_owner:bv.current}}function gD(t,e){return{$$typeof:$u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===$u}function mD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mD(""+t.key):e.toString(36)}function hd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $u:case iD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ep(o,0):r,X_(i)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),hd(i,e,n,"",function(c){return c})):i!=null&&(Tv(i)&&(i=gD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(J_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",X_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ep(s,a);o+=hd(s,e,n,l,i)}else if(l=pD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ep(s,a++),o+=hd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(t,e,n){if(t==null)return t;var r=[],i=0;return hd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},fd={transition:null},yD={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:fd,ReactCurrentOwner:bv};function zb(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:kc,forEach:function(t,e,n){kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kc(t,function(){e++}),e},toArray:function(t){return kc(t,function(e){return e})||[]},only:function(t){if(!Tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=ba;ce.Fragment=sD;ce.Profiler=aD;ce.PureComponent=Iv;ce.StrictMode=oD;ce.Suspense=dD;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yD;ce.act=zb;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Bb.call(e,l)&&!jb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$u,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:uD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lD,_context:t},t.Consumer=t};ce.createElement=$b;ce.createFactory=function(t){var e=$b.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:cD,render:t}};ce.isValidElement=Tv;ce.lazy=function(t){return{$$typeof:fD,_payload:{_status:-1,_result:t},_init:vD}};ce.memo=function(t,e){return{$$typeof:hD,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=fd.transition;fd.transition={};try{t()}finally{fd.transition=e}};ce.unstable_act=zb;ce.useCallback=function(t,e){return qt.current.useCallback(t,e)};ce.useContext=function(t){return qt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return qt.current.useEffect(t,e)};ce.useId=function(){return qt.current.useId()};ce.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return qt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ce.useRef=function(t){return qt.current.useRef(t)};ce.useState=function(t){return qt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return qt.current.useTransition()};ce.version="18.3.1";Lb.exports=ce;var F=Lb.exports;const Re=Ev(F),wD=rD({__proto__:null,default:Re},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D=F,ED=Symbol.for("react.element"),ID=Symbol.for("react.fragment"),SD=Object.prototype.hasOwnProperty,bD=_D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TD={key:!0,ref:!0,__self:!0,__source:!0};function Wb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SD.call(e,r)&&!TD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ED,type:t,key:s,ref:o,props:i,_owner:bD.current}}$h.Fragment=ID;$h.jsx=Wb;$h.jsxs=Wb;Ob.exports=$h;var P=Ob.exports,Cg={},Hb={exports:{}},mn={},qb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var X=$.length;$.push(Y);e:for(;0<X;){var se=X-1>>>1,te=$[se];if(0<i(te,Y))$[se]=Y,$[X]=te,X=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],X=$.pop();if(X!==Y){$[0]=X;e:for(var se=0,te=$.length,de=te>>>1;se<de;){var Be=2*(se+1)-1,Ve=$[Be],Kt=Be+1,Mt=$[Kt];if(0>i(Ve,X))Kt<te&&0>i(Mt,Ve)?($[se]=Mt,$[Kt]=X,se=Kt):($[se]=Ve,$[Be]=X,se=Be);else if(Kt<te&&0>i(Mt,X))$[se]=Mt,$[Kt]=X,se=Kt;else break e}}return Y}function i($,Y){var X=$.sortIndex-Y.sortIndex;return X!==0?X:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,p=!1,v=!1,m=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=$)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function b($){if(m=!1,_($),!v)if(n(l)!==null)v=!0,Ee(N);else{var Y=n(c);Y!==null&&Se(b,Y.startTime-$)}}function N($,Y){v=!1,m&&(m=!1,E(S),S=-1),p=!0;var X=f;try{for(_(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||$&&!D());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var te=se(d.expirationTime<=Y);Y=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),_(Y)}else r(l);d=n(l)}if(d!==null)var de=!0;else{var Be=n(c);Be!==null&&Se(b,Be.startTime-Y),de=!1}return de}finally{d=null,f=X,p=!1}}var O=!1,x=null,S=-1,C=5,R=-1;function D(){return!(t.unstable_now()-R<C)}function L(){if(x!==null){var $=t.unstable_now();R=$;var Y=!0;try{Y=x(!0,$)}finally{Y?A():(O=!1,x=null)}}else O=!1}var A;if(typeof y=="function")A=function(){y(L)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ne=ie.port2;ie.port1.onmessage=L,A=function(){Ne.postMessage(null)}}else A=function(){I(L,0)};function Ee($){x=$,O||(O=!0,A())}function Se($,Y){S=I(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Ee(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var X=f;f=Y;try{return $()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=f;f=$;try{return Y()}finally{f=X}},t.unstable_scheduleCallback=function($,Y,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,$){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=X+te,$={id:h++,callback:Y,priorityLevel:$,startTime:X,expirationTime:te,sortIndex:-1},X>se?($.sortIndex=X,e(c,$),n(l)===null&&$===n(c)&&(m?(E(S),S=-1):m=!0,Se(b,X-se))):($.sortIndex=te,e(l,$),v||p||(v=!0,Ee(N))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var Y=f;return function(){var X=f;f=Y;try{return $.apply(this,arguments)}finally{f=X}}}})(Gb);qb.exports=Gb;var xD=qb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD=F,gn=xD;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kb=new Set,ql={};function Ys(t,e){aa(t,e),aa(t+"Capture",e)}function aa(t,e){for(ql[t]=e,t=0;t<e.length;t++)Kb.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rg=Object.prototype.hasOwnProperty,RD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z_={},e0={};function AD(t){return Rg.call(e0,t)?!0:Rg.call(Z_,t)?!1:RD.test(t)?e0[t]=!0:(Z_[t]=!0,!1)}function PD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DD(t,e,n,r){if(e===null||typeof e>"u"||PD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xv=/[\-:]([a-z])/g;function Cv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xv,Cv);Et[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xv,Cv);Et[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xv,Cv);Et[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rv(t,e,n,r){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DD(e,n,i,r)&&(n=null),r||i===null?AD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=CD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),bo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Av=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),Qb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),Dv=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Xb=Symbol.for("react.offscreen"),t0=Symbol.iterator;function Za(t){return t===null||typeof t!="object"?null:(t=t0&&t[t0]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Ip;function ml(t){if(Ip===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ip=e&&e[1]||""}return`
`+Ip+t}var Sp=!1;function bp(t,e){if(!t||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ml(t):""}function ND(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=bp(t.type,!1),t;case 11:return t=bp(t.type.render,!1),t;case 1:return t=bp(t.type,!0),t;default:return""}}function Ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case bo:return"Portal";case Ag:return"Profiler";case Av:return"StrictMode";case Pg:return"Suspense";case Dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yb:return(t.displayName||"Context")+".Consumer";case Qb:return(t._context.displayName||"Context")+".Provider";case Pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dv:return e=t.displayName||null,e!==null?e:Ng(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return Ng(t(e))}catch{}}return null}function kD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ng(e);case 8:return e===Av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OD(t){var e=Jb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=OD(t))}function Zb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kg(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eT(t,e){e=e.checked,e!=null&&Rv(t,"checked",e,!1)}function Og(t,e){eT(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lg(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lg(t,e,n){(e!=="number"||Md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vl=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(vl(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function tT(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mc,rT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LD=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){LD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function iT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function sT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MD=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(t,e){if(e){if(MD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bg=null;function Nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jg=null,Fo=null,Uo=null;function o0(t){if(t=Hu(t)){if(typeof jg!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Gh(e),jg(t.stateNode,t.type,e))}}function oT(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function aT(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,o0(t),e)for(t=0;t<e.length;t++)o0(e[t])}}function lT(t,e){return t(e)}function uT(){}var Tp=!1;function cT(t,e,n){if(Tp)return t(e,n);Tp=!0;try{return lT(t,e,n)}finally{Tp=!1,(Fo!==null||Uo!==null)&&(uT(),aT())}}function Kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var $g=!1;if(Dr)try{var el={};Object.defineProperty(el,"passive",{get:function(){$g=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{$g=!1}function VD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Rl=!1,Vd=null,Fd=!1,zg=null,FD={onError:function(t){Rl=!0,Vd=t}};function UD(t,e,n,r,i,s,o,a,l){Rl=!1,Vd=null,VD.apply(FD,arguments)}function BD(t,e,n,r,i,s,o,a,l){if(UD.apply(this,arguments),Rl){if(Rl){var c=Vd;Rl=!1,Vd=null}else throw Error(j(198));Fd||(Fd=!0,zg=c)}}function Xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a0(t){if(Xs(t)!==t)throw Error(j(188))}function jD(t){var e=t.alternate;if(!e){if(e=Xs(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a0(i),t;if(s===r)return a0(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function hT(t){return t=jD(t),t!==null?fT(t):null}function fT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fT(t);if(e!==null)return e;t=t.sibling}return null}var pT=gn.unstable_scheduleCallback,l0=gn.unstable_cancelCallback,$D=gn.unstable_shouldYield,zD=gn.unstable_requestPaint,Je=gn.unstable_now,WD=gn.unstable_getCurrentPriorityLevel,kv=gn.unstable_ImmediatePriority,gT=gn.unstable_UserBlockingPriority,Ud=gn.unstable_NormalPriority,HD=gn.unstable_LowPriority,mT=gn.unstable_IdlePriority,zh=null,ar=null;function qD(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(zh,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:QD,GD=Math.log,KD=Math.LN2;function QD(t){return t>>>=0,t===0?32:31-(GD(t)/KD|0)|0}var Vc=64,Fc=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yl(a):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),i=1<<n,r|=t[n],e&=~i;return r}function YD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=YD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vT(){var t=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),t}function xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=n}function JD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function yT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wT,Lv,_T,ET,IT,Hg=!1,Uc=[],_i=null,Ei=null,Ii=null,Ql=new Map,Yl=new Map,ei=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u0(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(e.pointerId)}}function tl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hu(e),e!==null&&Lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eN(t,e,n,r,i){switch(e){case"focusin":return _i=tl(_i,t,e,n,r,i),!0;case"dragenter":return Ei=tl(Ei,t,e,n,r,i),!0;case"mouseover":return Ii=tl(Ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ql.set(s,tl(Ql.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yl.set(s,tl(Yl.get(s)||null,t,e,n,r,i)),!0}return!1}function ST(t){var e=gs(t.target);if(e!==null){var n=Xs(e);if(n!==null){if(e=n.tag,e===13){if(e=dT(n),e!==null){t.blockedOn=e,IT(t.priority,function(){_T(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bg=r,n.target.dispatchEvent(r),Bg=null}else return e=Hu(n),e!==null&&Lv(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){pd(t)&&n.delete(e)}function tN(){Hg=!1,_i!==null&&pd(_i)&&(_i=null),Ei!==null&&pd(Ei)&&(Ei=null),Ii!==null&&pd(Ii)&&(Ii=null),Ql.forEach(c0),Yl.forEach(c0)}function nl(t,e){t.blockedOn===e&&(t.blockedOn=null,Hg||(Hg=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,tN)))}function Xl(t){function e(i){return nl(i,t)}if(0<Uc.length){nl(Uc[0],t);for(var n=1;n<Uc.length;n++){var r=Uc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&nl(_i,t),Ei!==null&&nl(Ei,t),Ii!==null&&nl(Ii,t),Ql.forEach(e),Yl.forEach(e),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)ST(n),n.blockedOn===null&&ei.shift()}var Bo=Ur.ReactCurrentBatchConfig,jd=!0;function nN(t,e,n,r){var i=Te,s=Bo.transition;Bo.transition=null;try{Te=1,Mv(t,e,n,r)}finally{Te=i,Bo.transition=s}}function rN(t,e,n,r){var i=Te,s=Bo.transition;Bo.transition=null;try{Te=4,Mv(t,e,n,r)}finally{Te=i,Bo.transition=s}}function Mv(t,e,n,r){if(jd){var i=qg(t,e,n,r);if(i===null)Mp(t,e,r,$d,n),u0(t,r);else if(eN(i,t,e,n,r))r.stopPropagation();else if(u0(t,r),e&4&&-1<ZD.indexOf(t)){for(;i!==null;){var s=Hu(i);if(s!==null&&wT(s),s=qg(t,e,n,r),s===null&&Mp(t,e,r,$d,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mp(t,e,r,null,n)}}var $d=null;function qg(t,e,n,r){if($d=null,t=Nv(r),t=gs(t),t!==null)if(e=Xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function bT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WD()){case kv:return 1;case gT:return 4;case Ud:case HD:return 16;case mT:return 536870912;default:return 16}default:return 16}}var vi=null,Vv=null,gd=null;function TT(){if(gd)return gd;var t,e=Vv,n=e.length,r,i="value"in vi?vi.value:vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gd=i.slice(t,1<r?1-r:void 0)}function md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bc(){return!0}function d0(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bc:d0,this.isPropagationStopped=d0,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fv=vn(Ta),Wu=ze({},Ta,{view:0,detail:0}),iN=vn(Wu),Cp,Rp,rl,Wh=ze({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(Cp=t.screenX-rl.screenX,Rp=t.screenY-rl.screenY):Rp=Cp=0,rl=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:Rp}}),h0=vn(Wh),sN=ze({},Wh,{dataTransfer:0}),oN=vn(sN),aN=ze({},Wu,{relatedTarget:0}),Ap=vn(aN),lN=ze({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),uN=vn(lN),cN=ze({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dN=vn(cN),hN=ze({},Ta,{data:0}),f0=vn(hN),fN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gN[t])?!!e[t]:!1}function Uv(){return mN}var vN=ze({},Wu,{key:function(t){if(t.key){var e=fN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(t){return t.type==="keypress"?md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yN=vn(vN),wN=ze({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=vn(wN),_N=ze({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),EN=vn(_N),IN=ze({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),SN=vn(IN),bN=ze({},Wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TN=vn(bN),xN=[9,13,27,32],Bv=Dr&&"CompositionEvent"in window,Al=null;Dr&&"documentMode"in document&&(Al=document.documentMode);var CN=Dr&&"TextEvent"in window&&!Al,xT=Dr&&(!Bv||Al&&8<Al&&11>=Al),g0=String.fromCharCode(32),m0=!1;function CT(t,e){switch(t){case"keyup":return xN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function RN(t,e){switch(t){case"compositionend":return RT(e);case"keypress":return e.which!==32?null:(m0=!0,g0);case"textInput":return t=e.data,t===g0&&m0?null:t;default:return null}}function AN(t,e){if(xo)return t==="compositionend"||!Bv&&CT(t,e)?(t=TT(),gd=Vv=vi=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xT&&e.locale!=="ko"?null:e.data;default:return null}}var PN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PN[t.type]:e==="textarea"}function AT(t,e,n,r){oT(r),e=zd(e,"onChange"),0<e.length&&(n=new Fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pl=null,Jl=null;function DN(t){BT(t,0)}function Hh(t){var e=Ao(t);if(Zb(e))return t}function NN(t,e){if(t==="change")return e}var PT=!1;if(Dr){var Pp;if(Dr){var Dp="oninput"in document;if(!Dp){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Dp=typeof y0.oninput=="function"}Pp=Dp}else Pp=!1;PT=Pp&&(!document.documentMode||9<document.documentMode)}function w0(){Pl&&(Pl.detachEvent("onpropertychange",DT),Jl=Pl=null)}function DT(t){if(t.propertyName==="value"&&Hh(Jl)){var e=[];AT(e,Jl,t,Nv(t)),cT(DN,e)}}function kN(t,e,n){t==="focusin"?(w0(),Pl=e,Jl=n,Pl.attachEvent("onpropertychange",DT)):t==="focusout"&&w0()}function ON(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(Jl)}function LN(t,e){if(t==="click")return Hh(e)}function MN(t,e){if(t==="input"||t==="change")return Hh(e)}function VN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:VN;function Zl(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rg.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function _0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E0(t,e){var n=_0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_0(n)}}function NT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kT(){for(var t=window,e=Md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Md(t.document)}return e}function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FN(t){var e=kT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NT(n.ownerDocument.documentElement,n)){if(r!==null&&jv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=E0(n,s);var o=E0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UN=Dr&&"documentMode"in document&&11>=document.documentMode,Co=null,Gg=null,Dl=null,Kg=!1;function I0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kg||Co==null||Co!==Md(r)||(r=Co,"selectionStart"in r&&jv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&Zl(Dl,r)||(Dl=r,r=zd(Gg,"onSelect"),0<r.length&&(e=new Fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Co)))}function jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},Np={},OT={};Dr&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function qh(t){if(Np[t])return Np[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OT)return Np[t]=e[n];return t}var LT=qh("animationend"),MT=qh("animationiteration"),VT=qh("animationstart"),FT=qh("transitionend"),UT=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,e){UT.set(t,e),Ys(e,[t])}for(var kp=0;kp<S0.length;kp++){var Op=S0[kp],BN=Op.toLowerCase(),jN=Op[0].toUpperCase()+Op.slice(1);Qi(BN,"on"+jN)}Qi(LT,"onAnimationEnd");Qi(MT,"onAnimationIteration");Qi(VT,"onAnimationStart");Qi("dblclick","onDoubleClick");Qi("focusin","onFocus");Qi("focusout","onBlur");Qi(FT,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$N=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function b0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BD(r,e,void 0,t),t.currentTarget=null}function BT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,c),s=l}}}if(Fd)throw t=zg,Fd=!1,zg=null,t}function Oe(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var r=t+"__bubble";n.has(r)||(jT(e,t,2,!1),n.add(r))}function Lp(t,e,n){var r=0;e&&(r|=4),jT(n,t,r,e)}var $c="_reactListening"+Math.random().toString(36).slice(2);function eu(t){if(!t[$c]){t[$c]=!0,Kb.forEach(function(n){n!=="selectionchange"&&($N.has(n)||Lp(n,!1,t),Lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$c]||(e[$c]=!0,Lp("selectionchange",!1,e))}}function jT(t,e,n,r){switch(bT(e)){case 1:var i=nN;break;case 4:i=rN;break;default:i=Mv}n=i.bind(null,e,n,t),i=void 0,!$g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cT(function(){var c=s,h=Nv(n),d=[];e:{var f=UT.get(t);if(f!==void 0){var p=Fv,v=t;switch(t){case"keypress":if(md(n)===0)break e;case"keydown":case"keyup":p=yN;break;case"focusin":v="focus",p=Ap;break;case"focusout":v="blur",p=Ap;break;case"beforeblur":case"afterblur":p=Ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EN;break;case LT:case MT:case VT:p=uN;break;case FT:p=SN;break;case"scroll":p=iN;break;case"wheel":p=TN;break;case"copy":case"cut":case"paste":p=dN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=p0}var m=(e&4)!==0,I=!m&&t==="scroll",E=m?f!==null?f+"Capture":null:f;m=[];for(var y=c,_;y!==null;){_=y;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,E!==null&&(b=Kl(y,E),b!=null&&m.push(tu(y,b,_)))),I)break;y=y.return}0<m.length&&(f=new p(f,v,null,n,h),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Bg&&(v=n.relatedTarget||n.fromElement)&&(gs(v)||v[Nr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?gs(v):null,v!==null&&(I=Xs(v),v!==I||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=h0,b="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=p0,b="onPointerLeave",E="onPointerEnter",y="pointer"),I=p==null?f:Ao(p),_=v==null?f:Ao(v),f=new m(b,y+"leave",p,n,h),f.target=I,f.relatedTarget=_,b=null,gs(h)===c&&(m=new m(E,y+"enter",v,n,h),m.target=_,m.relatedTarget=I,b=m),I=b,p&&v)t:{for(m=p,E=v,y=0,_=m;_;_=po(_))y++;for(_=0,b=E;b;b=po(b))_++;for(;0<y-_;)m=po(m),y--;for(;0<_-y;)E=po(E),_--;for(;y--;){if(m===E||E!==null&&m===E.alternate)break t;m=po(m),E=po(E)}m=null}else m=null;p!==null&&T0(d,f,p,m,!1),v!==null&&I!==null&&T0(d,I,v,m,!0)}}e:{if(f=c?Ao(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=NN;else if(v0(f))if(PT)N=MN;else{N=ON;var O=kN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=LN);if(N&&(N=N(t,c))){AT(d,N,n,h);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Lg(f,"number",f.value)}switch(O=c?Ao(c):window,t){case"focusin":(v0(O)||O.contentEditable==="true")&&(Co=O,Gg=c,Dl=null);break;case"focusout":Dl=Gg=Co=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,I0(d,n,h);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":I0(d,n,h)}var x;if(Bv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xo?CT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(xT&&n.locale!=="ko"&&(xo||S!=="onCompositionStart"?S==="onCompositionEnd"&&xo&&(x=TT()):(vi=h,Vv="value"in vi?vi.value:vi.textContent,xo=!0)),O=zd(c,S),0<O.length&&(S=new f0(S,t,null,n,h),d.push({event:S,listeners:O}),x?S.data=x:(x=RT(n),x!==null&&(S.data=x)))),(x=CN?RN(t,n):AN(t,n))&&(c=zd(c,"onBeforeInput"),0<c.length&&(h=new f0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=x))}BT(d,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kl(t,n),s!=null&&r.unshift(tu(t,s,i)),s=Kl(t,e),s!=null&&r.push(tu(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Kl(n,s),l!=null&&o.unshift(tu(n,l,a))):i||(l=Kl(n,s),l!=null&&o.push(tu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zN=/\r\n?/g,WN=/\u0000|\uFFFD/g;function x0(t){return(typeof t=="string"?t:""+t).replace(zN,`
`).replace(WN,"")}function zc(t,e,n){if(e=x0(e),x0(t)!==e&&n)throw Error(j(425))}function Wd(){}var Qg=null,Yg=null;function Xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,HN=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,qN=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(t){return C0.resolve(null).then(t).catch(GN)}:Jg;function GN(t){setTimeout(function(){throw t})}function Vp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xl(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),ir="__reactFiber$"+xa,nu="__reactProps$"+xa,Nr="__reactContainer$"+xa,Zg="__reactEvents$"+xa,KN="__reactListeners$"+xa,QN="__reactHandles$"+xa;function gs(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=R0(t);t!==null;){if(n=t[ir])return n;t=R0(t)}return e}t=n,n=t.parentNode}return null}function Hu(t){return t=t[ir]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Gh(t){return t[nu]||null}var em=[],Po=-1;function Yi(t){return{current:t}}function Me(t){0>Po||(t.current=em[Po],em[Po]=null,Po--)}function De(t,e){Po++,em[Po]=t.current,t.current=e}var Ui={},kt=Yi(Ui),nn=Yi(!1),Ms=Ui;function la(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Hd(){Me(nn),Me(kt)}function A0(t,e,n){if(kt.current!==Ui)throw Error(j(168));De(kt,e),De(nn,n)}function $T(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,kD(t)||"Unknown",i));return ze({},n,r)}function qd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,Ms=kt.current,De(kt,t),De(nn,nn.current),!0}function P0(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=$T(t,e,Ms),r.__reactInternalMemoizedMergedChildContext=t,Me(nn),Me(kt),De(kt,t)):Me(nn),De(nn,n)}var Ir=null,Kh=!1,Fp=!1;function zT(t){Ir===null?Ir=[t]:Ir.push(t)}function YN(t){Kh=!0,zT(t)}function Xi(){if(!Fp&&Ir!==null){Fp=!0;var t=0,e=Te;try{var n=Ir;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Kh=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),pT(kv,Xi),i}finally{Te=e,Fp=!1}}return null}var Do=[],No=0,Gd=null,Kd=0,In=[],Sn=0,Vs=null,Tr=1,xr="";function cs(t,e){Do[No++]=Kd,Do[No++]=Gd,Gd=t,Kd=e}function WT(t,e,n){In[Sn++]=Tr,In[Sn++]=xr,In[Sn++]=Vs,Vs=t;var r=Tr;t=xr;var i=32-Wn(r)-1;r&=~(1<<i),n+=1;var s=32-Wn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-Wn(e)+i|n<<i|r,xr=s+t}else Tr=1<<s|n<<i|r,xr=t}function $v(t){t.return!==null&&(cs(t,1),WT(t,1,0))}function zv(t){for(;t===Gd;)Gd=Do[--No],Do[No]=null,Kd=Do[--No],Do[No]=null;for(;t===Vs;)Vs=In[--Sn],In[Sn]=null,xr=In[--Sn],In[Sn]=null,Tr=In[--Sn],In[Sn]=null}var hn=null,ln=null,Ue=!1,jn=null;function HT(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,ln=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:Tr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,ln=null,!0):!1;default:return!1}}function tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nm(t){if(Ue){var e=ln;if(e){var n=e;if(!D0(t,e)){if(tm(t))throw Error(j(418));e=Si(n.nextSibling);var r=hn;e&&D0(t,e)?HT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,hn=t)}}else{if(tm(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ue=!1,hn=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Wc(t){if(t!==hn)return!1;if(!Ue)return N0(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xg(t.type,t.memoizedProps)),e&&(e=ln)){if(tm(t))throw qT(),Error(j(418));for(;e;)HT(t,e),e=Si(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=hn?Si(t.stateNode.nextSibling):null;return!0}function qT(){for(var t=ln;t;)t=Si(t.nextSibling)}function ua(){ln=hn=null,Ue=!1}function Wv(t){jn===null?jn=[t]:jn.push(t)}var XN=Ur.ReactCurrentBatchConfig;function il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Hc(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k0(t){var e=t._init;return e(t._payload)}function GT(t){function e(E,y){if(t){var _=E.deletions;_===null?(E.deletions=[y],E.flags|=16):_.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function i(E,y){return E=Ci(E,y),E.index=0,E.sibling=null,E}function s(E,y,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<y?(E.flags|=2,y):_):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,_,b){return y===null||y.tag!==6?(y=Hp(_,E.mode,b),y.return=E,y):(y=i(y,_),y.return=E,y)}function l(E,y,_,b){var N=_.type;return N===To?h(E,y,_.props.children,b,_.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xr&&k0(N)===y.type)?(b=i(y,_.props),b.ref=il(E,y,_),b.return=E,b):(b=Sd(_.type,_.key,_.props,null,E.mode,b),b.ref=il(E,y,_),b.return=E,b)}function c(E,y,_,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=qp(_,E.mode,b),y.return=E,y):(y=i(y,_.children||[]),y.return=E,y)}function h(E,y,_,b,N){return y===null||y.tag!==7?(y=Ds(_,E.mode,b,N),y.return=E,y):(y=i(y,_),y.return=E,y)}function d(E,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hp(""+y,E.mode,_),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Oc:return _=Sd(y.type,y.key,y.props,null,E.mode,_),_.ref=il(E,null,y),_.return=E,_;case bo:return y=qp(y,E.mode,_),y.return=E,y;case Xr:var b=y._init;return d(E,b(y._payload),_)}if(vl(y)||Za(y))return y=Ds(y,E.mode,_,null),y.return=E,y;Hc(E,y)}return null}function f(E,y,_,b){var N=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(E,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Oc:return _.key===N?l(E,y,_,b):null;case bo:return _.key===N?c(E,y,_,b):null;case Xr:return N=_._init,f(E,y,N(_._payload),b)}if(vl(_)||Za(_))return N!==null?null:h(E,y,_,b,null);Hc(E,_)}return null}function p(E,y,_,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(_)||null,a(y,E,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oc:return E=E.get(b.key===null?_:b.key)||null,l(y,E,b,N);case bo:return E=E.get(b.key===null?_:b.key)||null,c(y,E,b,N);case Xr:var O=b._init;return p(E,y,_,O(b._payload),N)}if(vl(b)||Za(b))return E=E.get(_)||null,h(y,E,b,N,null);Hc(y,b)}return null}function v(E,y,_,b){for(var N=null,O=null,x=y,S=y=0,C=null;x!==null&&S<_.length;S++){x.index>S?(C=x,x=null):C=x.sibling;var R=f(E,x,_[S],b);if(R===null){x===null&&(x=C);break}t&&x&&R.alternate===null&&e(E,x),y=s(R,y,S),O===null?N=R:O.sibling=R,O=R,x=C}if(S===_.length)return n(E,x),Ue&&cs(E,S),N;if(x===null){for(;S<_.length;S++)x=d(E,_[S],b),x!==null&&(y=s(x,y,S),O===null?N=x:O.sibling=x,O=x);return Ue&&cs(E,S),N}for(x=r(E,x);S<_.length;S++)C=p(x,E,S,_[S],b),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?S:C.key),y=s(C,y,S),O===null?N=C:O.sibling=C,O=C);return t&&x.forEach(function(D){return e(E,D)}),Ue&&cs(E,S),N}function m(E,y,_,b){var N=Za(_);if(typeof N!="function")throw Error(j(150));if(_=N.call(_),_==null)throw Error(j(151));for(var O=N=null,x=y,S=y=0,C=null,R=_.next();x!==null&&!R.done;S++,R=_.next()){x.index>S?(C=x,x=null):C=x.sibling;var D=f(E,x,R.value,b);if(D===null){x===null&&(x=C);break}t&&x&&D.alternate===null&&e(E,x),y=s(D,y,S),O===null?N=D:O.sibling=D,O=D,x=C}if(R.done)return n(E,x),Ue&&cs(E,S),N;if(x===null){for(;!R.done;S++,R=_.next())R=d(E,R.value,b),R!==null&&(y=s(R,y,S),O===null?N=R:O.sibling=R,O=R);return Ue&&cs(E,S),N}for(x=r(E,x);!R.done;S++,R=_.next())R=p(x,E,S,R.value,b),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?S:R.key),y=s(R,y,S),O===null?N=R:O.sibling=R,O=R);return t&&x.forEach(function(L){return e(E,L)}),Ue&&cs(E,S),N}function I(E,y,_,b){if(typeof _=="object"&&_!==null&&_.type===To&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Oc:e:{for(var N=_.key,O=y;O!==null;){if(O.key===N){if(N=_.type,N===To){if(O.tag===7){n(E,O.sibling),y=i(O,_.props.children),y.return=E,E=y;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xr&&k0(N)===O.type){n(E,O.sibling),y=i(O,_.props),y.ref=il(E,O,_),y.return=E,E=y;break e}n(E,O);break}else e(E,O);O=O.sibling}_.type===To?(y=Ds(_.props.children,E.mode,b,_.key),y.return=E,E=y):(b=Sd(_.type,_.key,_.props,null,E.mode,b),b.ref=il(E,y,_),b.return=E,E=b)}return o(E);case bo:e:{for(O=_.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(E,y.sibling),y=i(y,_.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=qp(_,E.mode,b),y.return=E,E=y}return o(E);case Xr:return O=_._init,I(E,y,O(_._payload),b)}if(vl(_))return v(E,y,_,b);if(Za(_))return m(E,y,_,b);Hc(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(E,y.sibling),y=i(y,_),y.return=E,E=y):(n(E,y),y=Hp(_,E.mode,b),y.return=E,E=y),o(E)):n(E,y)}return I}var ca=GT(!0),KT=GT(!1),Qd=Yi(null),Yd=null,ko=null,Hv=null;function qv(){Hv=ko=Yd=null}function Gv(t){var e=Qd.current;Me(Qd),t._currentValue=e}function rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jo(t,e){Yd=t,Hv=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(Yd===null)throw Error(j(308));ko=t,Yd.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var ms=null;function Kv(t){ms===null?ms=[t]:ms.push(t)}function QT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kv(e)):(n.next=i.next,i.next=n),e.interleaved=n,kr(t,r)}function kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jr=!1;function Qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kr(t,n)}return i=r.interleaved,i===null?(e.next=e,Kv(r)):(e.next=i.next,i.next=e),r.interleaved=e,kr(t,n)}function vd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}function O0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var i=t.updateQueue;Jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(f=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=ze({},d,f);break e;case 2:Jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=d}}function L0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var qu={},lr=Yi(qu),ru=Yi(qu),iu=Yi(qu);function vs(t){if(t===qu)throw Error(j(174));return t}function Yv(t,e){switch(De(iu,e),De(ru,t),De(lr,qu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vg(e,t)}Me(lr),De(lr,e)}function da(){Me(lr),Me(ru),Me(iu)}function XT(t){vs(iu.current);var e=vs(lr.current),n=Vg(e,t.type);e!==n&&(De(ru,t),De(lr,n))}function Xv(t){ru.current===t&&(Me(lr),Me(ru))}var je=Yi(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Up=[];function Jv(){for(var t=0;t<Up.length;t++)Up[t]._workInProgressVersionPrimary=null;Up.length=0}var yd=Ur.ReactCurrentDispatcher,Bp=Ur.ReactCurrentBatchConfig,Fs=0,$e=null,st=null,ct=null,Zd=!1,Nl=!1,su=0,JN=0;function xt(){throw Error(j(321))}function Zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function ey(t,e,n,r,i,s){if(Fs=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yd.current=t===null||t.memoizedState===null?nk:rk,t=n(r,i),Nl){s=0;do{if(Nl=!1,su=0,25<=s)throw Error(j(301));s+=1,ct=st=null,e.updateQueue=null,yd.current=ik,t=n(r,i)}while(Nl)}if(yd.current=eh,e=st!==null&&st.next!==null,Fs=0,ct=st=$e=null,Zd=!1,e)throw Error(j(300));return t}function ty(){var t=su!==0;return su=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?$e.memoizedState=ct=t:ct=ct.next=t,ct}function kn(){if(st===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ct===null?$e.memoizedState:ct.next;if(e!==null)ct=e,st=t;else{if(t===null)throw Error(j(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ct===null?$e.memoizedState=ct=t:ct=ct.next=t}return ct}function ou(t,e){return typeof e=="function"?e(t):e}function jp(t){var e=kn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Fs&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=h,Us|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $p(t){var e=kn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JT(){}function ZT(t,e){var n=$e,r=kn(),i=e(),s=!qn(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,ny(n1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,au(9,t1.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(j(349));Fs&30||e1(n,e,i)}return i}function e1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function t1(t,e,n,r){e.value=n,e.getSnapshot=r,r1(e)&&i1(t)}function n1(t,e,n){return n(function(){r1(e)&&i1(t)})}function r1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function i1(t){var e=kr(t,1);e!==null&&Hn(e,t,1,-1)}function M0(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=tk.bind(null,$e,t),[e.memoizedState,t]}function au(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function s1(){return kn().memoizedState}function wd(t,e,n,r){var i=Zn();$e.flags|=t,i.memoizedState=au(1|e,n,void 0,r===void 0?null:r)}function Qh(t,e,n,r){var i=kn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Zv(r,o.deps)){i.memoizedState=au(e,n,s,r);return}}$e.flags|=t,i.memoizedState=au(1|e,n,s,r)}function V0(t,e){return wd(8390656,8,t,e)}function ny(t,e){return Qh(2048,8,t,e)}function o1(t,e){return Qh(4,2,t,e)}function a1(t,e){return Qh(4,4,t,e)}function l1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u1(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4,4,l1.bind(null,e,t),n)}function ry(){}function c1(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function d1(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h1(t,e,n){return Fs&21?(qn(n,e)||(n=vT(),$e.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function ZN(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Bp.transition;Bp.transition={};try{t(!1),e()}finally{Te=n,Bp.transition=r}}function f1(){return kn().memoizedState}function ek(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p1(t))g1(e,n);else if(n=QT(t,e,n,r),n!==null){var i=Ht();Hn(n,t,r,i),m1(n,e,r)}}function tk(t,e,n){var r=xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p1(t))g1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qn(a,o)){var l=e.interleaved;l===null?(i.next=i,Kv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=QT(t,e,i,r),n!==null&&(i=Ht(),Hn(n,t,r,i),m1(n,e,r))}}function p1(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function g1(t,e){Nl=Zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}var eh={readContext:Nn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},nk={readContext:Nn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:V0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wd(4194308,4,l1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wd(4194308,4,t,e)},useInsertionEffect:function(t,e){return wd(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ek.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:M0,useDebugValue:ry,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=M0(!1),e=t[0];return t=ZN.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Zn();if(Ue){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),dt===null)throw Error(j(349));Fs&30||e1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,V0(n1.bind(null,r,s,t),[t]),r.flags|=2048,au(9,t1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=dt.identifierPrefix;if(Ue){var n=xr,r=Tr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=su++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rk={readContext:Nn,useCallback:c1,useContext:Nn,useEffect:ny,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:jp,useRef:s1,useState:function(){return jp(ou)},useDebugValue:ry,useDeferredValue:function(t){var e=kn();return h1(e,st.memoizedState,t)},useTransition:function(){var t=jp(ou)[0],e=kn().memoizedState;return[t,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:f1,unstable_isNewReconciler:!1},ik={readContext:Nn,useCallback:c1,useContext:Nn,useEffect:ny,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:$p,useRef:s1,useState:function(){return $p(ou)},useDebugValue:ry,useDeferredValue:function(t){var e=kn();return st===null?e.memoizedState=t:h1(e,st.memoizedState,t)},useTransition:function(){var t=$p(ou)[0],e=kn().memoizedState;return[t,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:f1,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=xi(t),s=Ar(r,i);s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(Hn(e,t,i,r),vd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=xi(t),s=Ar(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(Hn(e,t,i,r),vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=xi(t),i=Ar(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(Hn(e,t,r,n),vd(e,t,r))}};function F0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zl(n,r)||!Zl(i,s):!0}function v1(t,e,n){var r=!1,i=Ui,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=rn(e)?Ms:kt.current,r=e.contextTypes,s=(r=r!=null)?la(t,i):Ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function sm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=rn(e)?Ms:kt.current,i.context=la(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(im(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,e){try{var n="",r=e;do n+=ND(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function om(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sk=typeof WeakMap=="function"?WeakMap:Map;function y1(t,e,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nh||(nh=!0,mm=r),om(t,e)},n}function w1(t,e,n){n=Ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){om(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){om(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wk.bind(null,t,e,n),e.then(t,t))}function j0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ar(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var ok=Ur.ReactCurrentOwner,tn=!1;function zt(t,e,n,r){e.child=t===null?KT(e,null,n,r):ca(e,t.child,n,r)}function z0(t,e,n,r,i){n=n.render;var s=e.ref;return jo(e,i),r=ey(t,e,n,r,s,i),n=ty(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(Ue&&n&&$v(e),e.flags|=1,zt(t,e,r,i),e.child)}function W0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_1(t,e,s,r,i)):(t=Sd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(o,r)&&t.ref===e.ref)return Or(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function _1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zl(s,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Or(t,e,i)}return am(t,e,n,r,i)}function E1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Lo,an),an|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Lo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Lo,an),an|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Lo,an),an|=r;return zt(t,e,i,n),e.child}function I1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function am(t,e,n,r,i){var s=rn(n)?Ms:kt.current;return s=la(e,s),jo(e,i),n=ey(t,e,n,r,s,i),r=ty(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(Ue&&r&&$v(e),e.flags|=1,zt(t,e,n,i),e.child)}function H0(t,e,n,r,i){if(rn(n)){var s=!0;qd(e)}else s=!1;if(jo(e,i),e.stateNode===null)_d(t,e),v1(e,n,r),sm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=rn(n)?Ms:kt.current,c=la(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&U0(e,o,r,c),Jr=!1;var f=e.memoizedState;o.state=f,Xd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||Jr?(typeof h=="function"&&(im(e,n,h,r),l=e.memoizedState),(a=Jr||F0(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=rn(n)?Ms:kt.current,l=la(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&U0(e,o,r,l),Jr=!1,f=e.memoizedState,o.state=f,Xd(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||nn.current||Jr?(typeof p=="function"&&(im(e,n,p,r),v=e.memoizedState),(c=Jr||F0(e,n,c,r,f,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lm(t,e,n,r,s,i)}function lm(t,e,n,r,i,s){I1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P0(e,n,!1),Or(t,e,s);r=e.stateNode,ok.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&P0(e,n,!0),e.child}function S1(t){var e=t.stateNode;e.pendingContext?A0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A0(t,e.context,!1),Yv(t,e.containerInfo)}function q0(t,e,n,r,i){return ua(),Wv(i),e.flags|=256,zt(t,e,n,r),e.child}var um={dehydrated:null,treeContext:null,retryLane:0};function cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function b1(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(je,i&1),t===null)return nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zh(o,r,0,null),t=Ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cm(n),e.memoizedState=um,t):iy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ak(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=Ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=um,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iy(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&Wv(r),ca(e,t.child,null,n),t=iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ak(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zp(Error(j(422))),qc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zh({mode:"visible",children:r.children},i,0,null),s=Ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ca(e,t.child,null,o),e.child.memoizedState=cm(o),e.memoizedState=um,s);if(!(e.mode&1))return qc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=zp(s,r,void 0),qc(t,e,o,r)}if(a=(o&t.childLanes)!==0,tn||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kr(t,i),Hn(r,t,i,-1))}return cy(),r=zp(Error(j(421))),qc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_k.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ln=Si(i.nextSibling),hn=e,Ue=!0,jn=null,t!==null&&(In[Sn++]=Tr,In[Sn++]=xr,In[Sn++]=Vs,Tr=t.id,xr=t.overflow,Vs=e),e=iy(e,r.children),e.flags|=4096,e)}function G0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rm(t.return,e,n)}function Wp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function T1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G0(t,n,e);else if(t.tag===19)G0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wp(e,!0,n,null,s);break;case"together":Wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lk(t,e,n){switch(e.tag){case 3:S1(e),ua();break;case 5:XT(e);break;case 1:rn(e.type)&&qd(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?b1(t,e,n):(De(je,je.current&1),t=Or(t,e,n),t!==null?t.sibling:null);De(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return T1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,E1(t,e,n)}return Or(t,e,n)}var x1,dm,C1,R1;x1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dm=function(){};C1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vs(lr.current);var s=null;switch(n){case"input":i=kg(t,i),r=kg(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=Mg(t,i),r=Mg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wd)}Fg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ql.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ql.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};R1=function(t,e,n,r){n!==r&&(e.flags|=4)};function sl(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uk(t,e,n){var r=e.pendingProps;switch(zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return rn(e.type)&&Hd(),Ct(e),null;case 3:return r=e.stateNode,da(),Me(nn),Me(kt),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(wm(jn),jn=null))),dm(t,e),Ct(e),null;case 5:Xv(e);var i=vs(iu.current);if(n=e.type,t!==null&&e.stateNode!=null)C1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Ct(e),null}if(t=vs(lr.current),Wc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[nu]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<wl.length;i++)Oe(wl[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":n0(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":i0(r,s),Oe("invalid",r)}Fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zc(r.textContent,a,t),i=["children",""+a]):ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Lc(r),r0(r,s,!0);break;case"textarea":Lc(r),s0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[nu]=r,x1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ug(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<wl.length;i++)Oe(wl[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":n0(t,r),i=kg(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":i0(t,r),i=Mg(t,r),Oe("invalid",t);break;default:i=r}Fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gl(t,l):typeof l=="number"&&Gl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&Rv(t,s,l,o))}switch(n){case"input":Lc(t),r0(t,r,!1);break;case"textarea":Lc(t),s0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)R1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=vs(iu.current),vs(lr.current),Wc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Ct(e),null;case 13:if(Me(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&ln!==null&&e.mode&1&&!(e.flags&128))qT(),ua(),e.flags|=98560,s=!1;else if(s=Wc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[ir]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else jn!==null&&(wm(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?at===0&&(at=3):cy())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return da(),dm(t,e),t===null&&eu(e.stateNode.containerInfo),Ct(e),null;case 10:return Gv(e.type._context),Ct(e),null;case 17:return rn(e.type)&&Hd(),Ct(e),null;case 19:if(Me(je),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sl(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jd(t),o!==null){for(e.flags|=128,sl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>fa&&(e.flags|=128,r=!0,sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Ct(e),null}else 2*Je()-s.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=je.current,De(je,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return uy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function ck(t,e){switch(zv(e),e.tag){case 1:return rn(e.type)&&Hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return da(),Me(nn),Me(kt),Jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xv(e),null;case 13:if(Me(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(je),null;case 4:return da(),null;case 10:return Gv(e.type._context),null;case 22:case 23:return uy(),null;case 24:return null;default:return null}}var Gc=!1,Dt=!1,dk=typeof WeakSet=="function"?WeakSet:Set,K=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function hm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var K0=!1;function hk(t,e){if(Qg=jd,t=kT(),jv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},jd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,I=v.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?m:Vn(e.type,m),I);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(b){Ke(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return v=K0,K0=!1,v}function kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hm(e,n,s)}i=i.next}while(i!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A1(t){var e=t.alternate;e!==null&&(t.alternate=null,A1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[nu],delete e[Zg],delete e[KN],delete e[QN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P1(t){return t.tag===5||t.tag===3||t.tag===4}function Q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wd));else if(r!==4&&(t=t.child,t!==null))for(pm(t,e,n),t=t.sibling;t!==null;)pm(t,e,n),t=t.sibling}function gm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gm(t,e,n),t=t.sibling;t!==null;)gm(t,e,n),t=t.sibling}var mt=null,Bn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)D1(t,e,n),n=n.sibling}function D1(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:Dt||Oo(n,e);case 6:var r=mt,i=Bn;mt=null,Gr(t,e,n),mt=r,Bn=i,mt!==null&&(Bn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Bn?(t=mt,n=n.stateNode,t.nodeType===8?Vp(t.parentNode,n):t.nodeType===1&&Vp(t,n),Xl(t)):Vp(mt,n.stateNode));break;case 4:r=mt,i=Bn,mt=n.stateNode.containerInfo,Bn=!0,Gr(t,e,n),mt=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hm(n,e,o),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!Dt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Gr(t,e,n),Dt=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dk),e.forEach(function(r){var i=Ek.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Bn=!1;break e;case 3:mt=a.stateNode.containerInfo,Bn=!0;break e;case 4:mt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(mt===null)throw Error(j(160));D1(s,o,i),mt=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N1(e,t),e=e.sibling}function N1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),Jn(t),r&4){try{kl(3,t,t.return),Xh(3,t)}catch(m){Ke(t,t.return,m)}try{kl(5,t,t.return)}catch(m){Ke(t,t.return,m)}}break;case 1:Mn(e,t),Jn(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Mn(e,t),Jn(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(m){Ke(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eT(i,s),Ug(a,o);var c=Ug(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?sT(i,d):h==="dangerouslySetInnerHTML"?rT(i,d):h==="children"?Gl(i,d):Rv(i,h,d,c)}switch(a){case"input":Og(i,s);break;case"textarea":tT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vo(i,!!s.multiple,s.defaultValue,!0):Vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[nu]=s}catch(m){Ke(t,t.return,m)}}break;case 6:if(Mn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ke(t,t.return,m)}}break;case 3:if(Mn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(m){Ke(t,t.return,m)}break;case 4:Mn(e,t),Jn(t);break;case 13:Mn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ay=Je())),r&4&&Y0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(c=Dt)||h,Mn(e,t),Dt=c):Mn(e,t),Jn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(d=K=h;K!==null;){switch(f=K,p=f.child,f.tag){case 0:case 11:case 14:case 15:kl(4,f,f.return);break;case 1:Oo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Ke(r,n,m)}}break;case 5:Oo(f,f.return);break;case 22:if(f.memoizedState!==null){J0(d);continue}}p!==null?(p.return=f,K=p):J0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iT("display",o))}catch(m){Ke(t,t.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Ke(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mn(e,t),Jn(t),r&4&&Y0(t);break;case 21:break;default:Mn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(P1(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var s=Q0(t);gm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q0(t);pm(t,a,o);break;default:throw Error(j(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fk(t,e,n){K=t,k1(t)}function k1(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=Gc;var c=Dt;if(Gc=o,(Dt=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?Z0(i):l!==null?(l.return=o,K=l):Z0(i);for(;s!==null;)K=s,k1(s),s=s.sibling;K=i,Gc=a,Dt=c}X0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):X0(t)}}function X0(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&L0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Dt||e.flags&512&&fm(e)}catch(f){Ke(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function J0(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Z0(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{fm(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{fm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var pk=Math.ceil,th=Ur.ReactCurrentDispatcher,sy=Ur.ReactCurrentOwner,Rn=Ur.ReactCurrentBatchConfig,ye=0,dt=null,nt=null,_t=0,an=0,Lo=Yi(0),at=0,lu=null,Us=0,Jh=0,oy=0,Ol=null,Zt=null,ay=0,fa=1/0,Er=null,nh=!1,mm=null,Ti=null,Kc=!1,yi=null,rh=0,Ll=0,vm=null,Ed=-1,Id=0;function Ht(){return ye&6?Je():Ed!==-1?Ed:Ed=Je()}function xi(t){return t.mode&1?ye&2&&_t!==0?_t&-_t:XN.transition!==null?(Id===0&&(Id=vT()),Id):(t=Te,t!==0||(t=window.event,t=t===void 0?16:bT(t.type)),t):1}function Hn(t,e,n,r){if(50<Ll)throw Ll=0,vm=null,Error(j(185));zu(t,n,r),(!(ye&2)||t!==dt)&&(t===dt&&(!(ye&2)&&(Jh|=n),at===4&&ti(t,_t)),sn(t,r),n===1&&ye===0&&!(e.mode&1)&&(fa=Je()+500,Kh&&Xi()))}function sn(t,e){var n=t.callbackNode;XD(t,e);var r=Bd(t,t===dt?_t:0);if(r===0)n!==null&&l0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l0(n),e===1)t.tag===0?YN(eE.bind(null,t)):zT(eE.bind(null,t)),qN(function(){!(ye&6)&&Xi()}),n=null;else{switch(yT(r)){case 1:n=kv;break;case 4:n=gT;break;case 16:n=Ud;break;case 536870912:n=mT;break;default:n=Ud}n=j1(n,O1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function O1(t,e){if(Ed=-1,Id=0,ye&6)throw Error(j(327));var n=t.callbackNode;if($o()&&t.callbackNode!==n)return null;var r=Bd(t,t===dt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ih(t,r);else{e=r;var i=ye;ye|=2;var s=M1();(dt!==t||_t!==e)&&(Er=null,fa=Je()+500,Ps(t,e));do try{vk();break}catch(a){L1(t,a)}while(1);qv(),th.current=s,ye=i,nt!==null?e=0:(dt=null,_t=0,e=at)}if(e!==0){if(e===2&&(i=Wg(t),i!==0&&(r=i,e=ym(t,i))),e===1)throw n=lu,Ps(t,0),ti(t,r),sn(t,Je()),n;if(e===6)ti(t,r);else{if(i=t.current.alternate,!(r&30)&&!gk(i)&&(e=ih(t,r),e===2&&(s=Wg(t),s!==0&&(r=s,e=ym(t,s))),e===1))throw n=lu,Ps(t,0),ti(t,r),sn(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:ds(t,Zt,Er);break;case 3:if(ti(t,r),(r&130023424)===r&&(e=ay+500-Je(),10<e)){if(Bd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(ds.bind(null,t,Zt,Er),e);break}ds(t,Zt,Er);break;case 4:if(ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pk(r/1960))-r,10<r){t.timeoutHandle=Jg(ds.bind(null,t,Zt,Er),r);break}ds(t,Zt,Er);break;case 5:ds(t,Zt,Er);break;default:throw Error(j(329))}}}return sn(t,Je()),t.callbackNode===n?O1.bind(null,t):null}function ym(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=ih(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&wm(e)),t}function wm(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function gk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ti(t,e){for(e&=~oy,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function eE(t){if(ye&6)throw Error(j(327));$o();var e=Bd(t,0);if(!(e&1))return sn(t,Je()),null;var n=ih(t,e);if(t.tag!==0&&n===2){var r=Wg(t);r!==0&&(e=r,n=ym(t,r))}if(n===1)throw n=lu,Ps(t,0),ti(t,e),sn(t,Je()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,Zt,Er),sn(t,Je()),null}function ly(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(fa=Je()+500,Kh&&Xi())}}function Bs(t){yi!==null&&yi.tag===0&&!(ye&6)&&$o();var e=ye;ye|=1;var n=Rn.transition,r=Te;try{if(Rn.transition=null,Te=1,t)return t()}finally{Te=r,Rn.transition=n,ye=e,!(ye&6)&&Xi()}}function uy(){an=Lo.current,Me(Lo)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HN(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(zv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hd();break;case 3:da(),Me(nn),Me(kt),Jv();break;case 5:Xv(r);break;case 4:da();break;case 13:Me(je);break;case 19:Me(je);break;case 10:Gv(r.type._context);break;case 22:case 23:uy()}n=n.return}if(dt=t,nt=t=Ci(t.current,null),_t=an=e,at=0,lu=null,oy=Jh=Us=0,Zt=Ol=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ms=null}return t}function L1(t,e){do{var n=nt;try{if(qv(),yd.current=eh,Zd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zd=!1}if(Fs=0,ct=st=$e=null,Nl=!1,su=0,sy.current=null,n===null||n.return===null){at=1,lu=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=j0(o);if(p!==null){p.flags&=-257,$0(p,o,a,s,e),p.mode&1&&B0(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){B0(s,c,e),cy();break e}l=Error(j(426))}}else if(Ue&&a.mode&1){var I=j0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),$0(I,o,a,s,e),Wv(ha(l,a));break e}}s=l=ha(l,a),at!==4&&(at=2),Ol===null?Ol=[s]:Ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=y1(s,l,e);O0(s,E);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ti===null||!Ti.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=w1(s,a,e);O0(s,b);break e}}s=s.return}while(s!==null)}F1(n)}catch(N){e=N,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function M1(){var t=th.current;return th.current=eh,t===null?eh:t}function cy(){(at===0||at===3||at===2)&&(at=4),dt===null||!(Us&268435455)&&!(Jh&268435455)||ti(dt,_t)}function ih(t,e){var n=ye;ye|=2;var r=M1();(dt!==t||_t!==e)&&(Er=null,Ps(t,e));do try{mk();break}catch(i){L1(t,i)}while(1);if(qv(),ye=n,th.current=r,nt!==null)throw Error(j(261));return dt=null,_t=0,at}function mk(){for(;nt!==null;)V1(nt)}function vk(){for(;nt!==null&&!$D();)V1(nt)}function V1(t){var e=B1(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?F1(t):nt=e,sy.current=null}function F1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ck(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=uk(n,e,an),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function ds(t,e,n){var r=Te,i=Rn.transition;try{Rn.transition=null,Te=1,yk(t,e,n,r)}finally{Rn.transition=i,Te=r}return null}function yk(t,e,n,r){do $o();while(yi!==null);if(ye&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JD(t,s),t===dt&&(nt=dt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,j1(Ud,function(){return $o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=Te;Te=1;var a=ye;ye|=4,sy.current=null,hk(t,n),N1(n,t),FN(Yg),jd=!!Qg,Yg=Qg=null,t.current=n,fk(n),zD(),ye=a,Te=o,Rn.transition=s}else t.current=n;if(Kc&&(Kc=!1,yi=t,rh=i),s=t.pendingLanes,s===0&&(Ti=null),qD(n.stateNode),sn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nh)throw nh=!1,t=mm,mm=null,t;return rh&1&&t.tag!==0&&$o(),s=t.pendingLanes,s&1?t===vm?Ll++:(Ll=0,vm=t):Ll=0,Xi(),null}function $o(){if(yi!==null){var t=yT(rh),e=Rn.transition,n=Te;try{if(Rn.transition=null,Te=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,rh=0,ye&6)throw Error(j(331));var i=ye;for(ye|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:kl(8,h,s)}var d=h.child;if(d!==null)d.return=h,K=d;else for(;K!==null;){h=K;var f=h.sibling,p=h.return;if(A1(h),h===c){K=null;break}if(f!==null){f.return=p,K=f;break}K=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var I=m.sibling;m.sibling=null,m=I}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,K=_;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(N){Ke(a,a.return,N)}if(a===o){K=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,K=b;break e}K=a.return}}if(ye=i,Xi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(zh,t)}catch{}r=!0}return r}finally{Te=n,Rn.transition=e}}return!1}function tE(t,e,n){e=ha(n,e),e=y1(t,e,1),t=bi(t,e,1),e=Ht(),t!==null&&(zu(t,1,e),sn(t,e))}function Ke(t,e,n){if(t.tag===3)tE(t,t,n);else for(;e!==null;){if(e.tag===3){tE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=ha(n,t),t=w1(e,t,1),e=bi(e,t,1),t=Ht(),e!==null&&(zu(e,1,t),sn(e,t));break}}e=e.return}}function wk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(_t&n)===n&&(at===4||at===3&&(_t&130023424)===_t&&500>Je()-ay?Ps(t,0):oy|=n),sn(t,e)}function U1(t,e){e===0&&(t.mode&1?(e=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):e=1);var n=Ht();t=kr(t,e),t!==null&&(zu(t,e,n),sn(t,n))}function _k(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),U1(t,n)}function Ek(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),U1(t,n)}var B1;B1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,lk(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ue&&e.flags&1048576&&WT(e,Kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_d(t,e),t=e.pendingProps;var i=la(e,kt.current);jo(e,n),i=ey(null,e,r,t,i,n);var s=ty();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,qd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qv(e),i.updater=Yh,e.stateNode=i,i._reactInternals=e,sm(e,r,t,n),e=lm(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&$v(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sk(r),t=Vn(r,t),i){case 0:e=am(null,e,r,t,n);break e;case 1:e=H0(null,e,r,t,n);break e;case 11:e=z0(null,e,r,t,n);break e;case 14:e=W0(null,e,r,Vn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),H0(t,e,r,i,n);case 3:e:{if(S1(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YT(t,e),Xd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ha(Error(j(423)),e),e=q0(t,e,r,n,i);break e}else if(r!==i){i=ha(Error(j(424)),e),e=q0(t,e,r,n,i);break e}else for(ln=Si(e.stateNode.containerInfo.firstChild),hn=e,Ue=!0,jn=null,n=KT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=Or(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return XT(e),t===null&&nm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xg(r,i)?o=null:s!==null&&Xg(r,s)&&(e.flags|=32),I1(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&nm(e),null;case 13:return b1(t,e,n);case 4:return Yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),z0(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Qd,r._currentValue),r._currentValue=o,s!==null)if(qn(s.value,o)){if(s.children===i.children&&!nn.current){e=Or(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ar(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jo(e,n),i=Nn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),W0(t,e,r,i,n);case 15:return _1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),_d(t,e),e.tag=1,rn(r)?(t=!0,qd(e)):t=!1,jo(e,n),v1(e,r,i),sm(e,r,i,n),lm(null,e,r,!0,t,n);case 19:return T1(t,e,n);case 22:return E1(t,e,n)}throw Error(j(156,e.tag))};function j1(t,e){return pT(t,e)}function Ik(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new Ik(t,e,n,r)}function dy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sk(t){if(typeof t=="function")return dy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pv)return 11;if(t===Dv)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")dy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Ds(n.children,i,s,e);case Av:o=8,i|=8;break;case Ag:return t=xn(12,n,e,i|2),t.elementType=Ag,t.lanes=s,t;case Pg:return t=xn(13,n,e,i),t.elementType=Pg,t.lanes=s,t;case Dg:return t=xn(19,n,e,i),t.elementType=Dg,t.lanes=s,t;case Xb:return Zh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qb:o=10;break e;case Yb:o=9;break e;case Pv:o=11;break e;case Dv:o=14;break e;case Xr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=Xb,t.lanes=n,t.stateNode={isHidden:!1},t}function Hp(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hy(t,e,n,r,i,s,o,a,l){return t=new bk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(s),t}function Tk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $1(t){if(!t)return Ui;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(rn(n))return $T(t,n,e)}return e}function z1(t,e,n,r,i,s,o,a,l){return t=hy(n,r,!0,t,i,s,o,a,l),t.context=$1(null),n=t.current,r=Ht(),i=xi(n),s=Ar(r,i),s.callback=e??null,bi(n,s,i),t.current.lanes=i,zu(t,i,r),sn(t,r),t}function ef(t,e,n,r){var i=e.current,s=Ht(),o=xi(i);return n=$1(n),e.context===null?e.context=n:e.pendingContext=n,e=Ar(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,o),t!==null&&(Hn(t,i,o,s),vd(t,i,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fy(t,e){nE(t,e),(t=t.alternate)&&nE(t,e)}function xk(){return null}var W1=typeof reportError=="function"?reportError:function(t){console.error(t)};function py(t){this._internalRoot=t}tf.prototype.render=py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));ef(t,e,null,null)};tf.prototype.unmount=py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){ef(null,t,null,null)}),e[Nr]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=ET();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&ST(t)}};function gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rE(){}function Ck(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=sh(o);s.call(c)}}var o=z1(e,r,t,0,null,!1,!1,"",rE);return t._reactRootContainer=o,t[Nr]=o.current,eu(t.nodeType===8?t.parentNode:t),Bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sh(l);a.call(c)}}var l=hy(t,0,!1,null,null,!1,!1,"",rE);return t._reactRootContainer=l,t[Nr]=l.current,eu(t.nodeType===8?t.parentNode:t),Bs(function(){ef(e,l,n,r)}),l}function rf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sh(o);a.call(l)}}ef(e,o,t,i)}else o=Ck(n,e,t,i,r);return sh(o)}wT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(Ov(e,n|1),sn(e,Je()),!(ye&6)&&(fa=Je()+500,Xi()))}break;case 13:Bs(function(){var r=kr(t,1);if(r!==null){var i=Ht();Hn(r,t,1,i)}}),fy(t,1)}};Lv=function(t){if(t.tag===13){var e=kr(t,134217728);if(e!==null){var n=Ht();Hn(e,t,134217728,n)}fy(t,134217728)}};_T=function(t){if(t.tag===13){var e=xi(t),n=kr(t,e);if(n!==null){var r=Ht();Hn(n,t,e,r)}fy(t,e)}};ET=function(){return Te};IT=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};jg=function(t,e,n){switch(e){case"input":if(Og(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gh(r);if(!i)throw Error(j(90));Zb(r),Og(r,i)}}}break;case"textarea":tT(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};lT=ly;uT=Bs;var Rk={usingClientEntryPoint:!1,Events:[Hu,Ao,Gh,oT,aT,ly]},ol={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hT(t),t===null?null:t.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{zh=Qc.inject(Ak),ar=Qc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rk;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(e))throw Error(j(200));return Tk(t,e,null,n)};mn.createRoot=function(t,e){if(!gy(t))throw Error(j(299));var n=!1,r="",i=W1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hy(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,eu(t.nodeType===8?t.parentNode:t),new py(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=hT(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Bs(t)};mn.hydrate=function(t,e,n){if(!nf(e))throw Error(j(200));return rf(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!gy(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=W1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=z1(e,null,t,1,n??null,i,!1,s,o),t[Nr]=e.current,eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tf(e)};mn.render=function(t,e,n){if(!nf(e))throw Error(j(200));return rf(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!nf(t))throw Error(j(40));return t._reactRootContainer?(Bs(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};mn.unstable_batchedUpdates=ly;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nf(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return rf(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function H1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H1)}catch(t){console.error(t)}}H1(),Hb.exports=mn;var my=Hb.exports;const Pk=Ev(my);var iE=my;Cg.createRoot=iE.createRoot,Cg.hydrateRoot=iE.hydrateRoot;var Ca=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},js=typeof window>"u"||"Deno"in globalThis;function Wt(){}function Dk(t,e){return typeof t=="function"?t(e):t}function _m(t){return typeof t=="number"&&t>=0&&t!==1/0}function q1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ri(t,e){return typeof t=="function"?t(e):t}function En(t,e){return typeof t=="function"?t(e):t}function sE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==vy(o,e.options))return!1}else if(!uu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function oE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if($s(e.options.mutationKey)!==$s(s))return!1}else if(!uu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function vy(t,e){return((e==null?void 0:e.queryKeyHashFn)||$s)(t)}function $s(t){return JSON.stringify(t,(e,n)=>Em(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function uu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>uu(t[n],e[n])):!1}function G1(t,e){if(t===e)return t;const n=aE(t)&&aE(e);if(n||Em(t)&&Em(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let h=0;h<o;h++){const d=n?h:s[h];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=G1(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function oh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function aE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Em(t){if(!lE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Nk(t){return new Promise(e=>{setTimeout(e,t)})}function Im(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?G1(t,e):e}function kk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Ok(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yy=Symbol();function K1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Q1(t,e){return typeof t=="function"?t(...e):!!t}var _s,ai,Ko,bb,Lk=(bb=class extends Ca{constructor(){super();Q(this,_s,void 0);Q(this,ai,void 0);Q(this,Ko,void 0);q(this,Ko,e=>{if(!js&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,ai)||this.setEventListener(k(this,Ko))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ai))==null||e.call(this),q(this,ai,void 0))}setEventListener(e){var n;q(this,Ko,e),(n=k(this,ai))==null||n.call(this),q(this,ai,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,_s)!==e&&(q(this,_s,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof k(this,_s)=="boolean"?k(this,_s):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_s=new WeakMap,ai=new WeakMap,Ko=new WeakMap,bb),wy=new Lk,Qo,li,Yo,Tb,Mk=(Tb=class extends Ca{constructor(){super();Q(this,Qo,!0);Q(this,li,void 0);Q(this,Yo,void 0);q(this,Yo,e=>{if(!js&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,li)||this.setEventListener(k(this,Yo))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,li))==null||e.call(this),q(this,li,void 0))}setEventListener(e){var n;q(this,Yo,e),(n=k(this,li))==null||n.call(this),q(this,li,e(this.setOnline.bind(this)))}setOnline(e){k(this,Qo)!==e&&(q(this,Qo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,Qo)}},Qo=new WeakMap,li=new WeakMap,Yo=new WeakMap,Tb),ah=new Mk;function Sm(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Vk(t){return Math.min(1e3*2**t,3e4)}function Y1(t){return(t??"online")==="online"?ah.isOnline():!0}var X1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Gp(t){return t instanceof X1}function J1(t){let e=!1,n=0,r=!1,i;const s=Sm(),o=m=>{var I;r||(f(new X1(m)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>wy.isFocused()&&(t.networkMode==="always"||ah.isOnline())&&t.canRun(),h=()=>Y1(t.networkMode)&&t.canRun(),d=m=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,m),i==null||i(),s.resolve(m))},f=m=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var I;i=E=>{(r||c())&&m(E)},(I=t.onPause)==null||I.call(t)}).then(()=>{var m;i=void 0,r||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(r)return;let m;const I=n===0?t.initialPromise:void 0;try{m=I??t.fn()}catch(E){m=Promise.reject(E)}Promise.resolve(m).then(d).catch(E=>{var O;if(r)return;const y=t.retry??(js?0:3),_=t.retryDelay??Vk,b=typeof _=="function"?_(n,E):_,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,E);if(e||!N){f(E);return}n++,(O=t.onFail)==null||O.call(t,n,E),Nk(b).then(()=>c()?void 0:p()).then(()=>{e?f(E):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?v():p().then(v),s)}}var Fk=t=>setTimeout(t,0);function Uk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=Fk;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ot=Uk(),Es,xb,Z1=(xb=class{constructor(){Q(this,Es,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_m(this.gcTime)&&q(this,Es,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(js?1/0:5*60*1e3))}clearGcTimeout(){k(this,Es)&&(clearTimeout(k(this,Es)),q(this,Es,void 0))}},Es=new WeakMap,xb),Xo,Is,_n,Ss,At,Pu,bs,Fn,_r,Cb,Bk=(Cb=class extends Z1{constructor(n){super();Q(this,Fn);Q(this,Xo,void 0);Q(this,Is,void 0);Q(this,_n,void 0);Q(this,Ss,void 0);Q(this,At,void 0);Q(this,Pu,void 0);Q(this,bs,void 0);q(this,bs,!1),q(this,Pu,n.defaultOptions),this.setOptions(n.options),this.observers=[],q(this,Ss,n.client),q(this,_n,k(this,Ss).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,q(this,Xo,jk(this.options)),this.state=n.state??k(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=k(this,At))==null?void 0:n.promise}setOptions(n){this.options={...k(this,Pu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,_n).remove(this)}setData(n,r){const i=Im(this.state.data,n,this.options);return ue(this,Fn,_r).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){ue(this,Fn,_r).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=k(this,At))==null?void 0:i.promise;return(s=k(this,At))==null||s.cancel(n),r?r.then(Wt).catch(Wt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Xo))}isActive(){return this.observers.some(n=>En(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ri(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!q1(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=k(this,At))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=k(this,At))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),k(this,_n).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(k(this,At)&&(k(this,bs)?k(this,At).cancel({revert:!0}):k(this,At).cancelRetry()),this.scheduleGc()),k(this,_n).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,Fn,_r).call(this,{type:"invalidate"})}fetch(n,r){var h,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,At))return k(this,At).continueRetry(),k(this,At).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(q(this,bs,!0),i.signal)})},o=()=>{const p=K1(this.options,r),m=(()=>{const I={client:k(this,Ss),queryKey:this.queryKey,meta:this.meta};return s(I),I})();return q(this,bs,!1),this.options.persister?this.options.persister(p,m,this):p(m)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,Ss),state:this.state,fetchFn:o};return s(p),p})();(h=this.options.behavior)==null||h.onFetch(l,this),q(this,Is,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ue(this,Fn,_r).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=p=>{var v,m,I,E;Gp(p)&&p.silent||ue(this,Fn,_r).call(this,{type:"error",error:p}),Gp(p)||((m=(v=k(this,_n).config).onError)==null||m.call(v,p,this),(E=(I=k(this,_n).config).onSettled)==null||E.call(I,this.state.data,p,this)),this.scheduleGc()};return q(this,At,J1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var v,m,I,E;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){c(y);return}(m=(v=k(this,_n).config).onSuccess)==null||m.call(v,p,this),(E=(I=k(this,_n).config).onSettled)==null||E.call(I,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,v)=>{ue(this,Fn,_r).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{ue(this,Fn,_r).call(this,{type:"pause"})},onContinue:()=>{ue(this,Fn,_r).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),k(this,At).start()}},Xo=new WeakMap,Is=new WeakMap,_n=new WeakMap,Ss=new WeakMap,At=new WeakMap,Pu=new WeakMap,bs=new WeakMap,Fn=new WeakSet,_r=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...ex(i.data,this.options),fetchMeta:n.meta??null};case"success":return q(this,Is,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Gp(s)&&s.revert&&k(this,Is)?{...k(this,Is),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),ot.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),k(this,_n).notify({query:this,type:"updated",action:n})})},Cb);function ex(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tr,Rb,$k=(Rb=class extends Ca{constructor(e={}){super();Q(this,tr,void 0);this.config=e,q(this,tr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??vy(i,n);let o=this.get(s);return o||(o=new Bk({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){k(this,tr).has(e.queryHash)||(k(this,tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=k(this,tr).get(e.queryHash);n&&(e.destroy(),n===e&&k(this,tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,tr).get(e)}getAll(){return[...k(this,tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sE(e,r)):n}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tr=new WeakMap,Rb),nr,jt,Ts,rr,Yr,Ab,zk=(Ab=class extends Z1{constructor(n){super();Q(this,rr);Q(this,nr,void 0);Q(this,jt,void 0);Q(this,Ts,void 0);this.mutationId=n.mutationId,q(this,jt,n.mutationCache),q(this,nr,[]),this.state=n.state||tx(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){k(this,nr).includes(n)||(k(this,nr).push(n),this.clearGcTimeout(),k(this,jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){q(this,nr,k(this,nr).filter(r=>r!==n)),this.scheduleGc(),k(this,jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){k(this,nr).length||(this.state.status==="pending"?this.scheduleGc():k(this,jt).remove(this))}continue(){var n;return((n=k(this,Ts))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,h,d,f,p,v,m,I,E,y,_,b,N,O,x,S,C;const r=()=>{ue(this,rr,Yr).call(this,{type:"continue"})};q(this,Ts,J1({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{ue(this,rr,Yr).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{ue(this,rr,Yr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,jt).canRun(this)}));const i=this.state.status==="pending",s=!k(this,Ts).canStart();try{if(i)r();else{ue(this,rr,Yr).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(o=k(this,jt).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));D!==this.state.context&&ue(this,rr,Yr).call(this,{type:"pending",context:D,variables:n,isPaused:s})}const R=await k(this,Ts).start();return await((d=(h=k(this,jt).config).onSuccess)==null?void 0:d.call(h,R,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,R,n,this.state.context)),await((m=(v=k(this,jt).config).onSettled)==null?void 0:m.call(v,R,null,this.state.variables,this.state.context,this)),await((E=(I=this.options).onSettled)==null?void 0:E.call(I,R,null,n,this.state.context)),ue(this,rr,Yr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(y=k(this,jt).config).onError)==null?void 0:_.call(y,R,n,this.state.context,this)),await((N=(b=this.options).onError)==null?void 0:N.call(b,R,n,this.state.context)),await((x=(O=k(this,jt).config).onSettled)==null?void 0:x.call(O,void 0,R,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,R,n,this.state.context)),R}finally{ue(this,rr,Yr).call(this,{type:"error",error:R})}}finally{k(this,jt).runNext(this)}}},nr=new WeakMap,jt=new WeakMap,Ts=new WeakMap,rr=new WeakSet,Yr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ot.batch(()=>{k(this,nr).forEach(i=>{i.onMutationUpdate(n)}),k(this,jt).notify({mutation:this,type:"updated",action:n})})},Ab);function tx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,Un,Du,Pb,Wk=(Pb=class extends Ca{constructor(e={}){super();Q(this,Sr,void 0);Q(this,Un,void 0);Q(this,Du,void 0);this.config=e,q(this,Sr,new Set),q(this,Un,new Map),q(this,Du,0)}build(e,n,r){const i=new zk({mutationCache:this,mutationId:++Nc(this,Du)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){k(this,Sr).add(e);const n=Yc(e);if(typeof n=="string"){const r=k(this,Un).get(n);r?r.push(e):k(this,Un).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,Sr).delete(e)){const n=Yc(e);if(typeof n=="string"){const r=k(this,Un).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&k(this,Un).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Yc(e);if(typeof n=="string"){const r=k(this,Un).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Yc(e);if(typeof n=="string"){const i=(r=k(this,Un).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ot.batch(()=>{k(this,Sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,Sr).clear(),k(this,Un).clear()})}getAll(){return Array.from(k(this,Sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oE(n,r))}findAll(e={}){return this.getAll().filter(n=>oE(e,n))}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wt))))}},Sr=new WeakMap,Un=new WeakMap,Du=new WeakMap,Pb);function Yc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function uE(t){return{onFetch:(e,n)=>{var h,d,f,p,v;const r=e.options,i=(f=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const I=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},E=K1(e.options,e.fetchOptions),y=async(_,b,N)=>{if(m)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const x=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:b,direction:N?"backward":"forward",meta:e.options.meta};return I(D),D})(),S=await E(x),{maxPages:C}=e.options,R=N?Ok:kk;return{pages:R(_.pages,S,C),pageParams:R(_.pageParams,b,C)}};if(i&&s.length){const _=i==="backward",b=_?Hk:cE,N={pages:s,pageParams:o},O=b(r,N);a=await y(N,O,_)}else{const _=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:cE(r,a);if(l>0&&b==null)break;a=await y(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var m,I;return(I=(m=e.options).persister)==null?void 0:I.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function cE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Hk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ge,ui,ci,Jo,Zo,di,ea,ta,Db,nx=(Db=class{constructor(t={}){Q(this,Ge,void 0);Q(this,ui,void 0);Q(this,ci,void 0);Q(this,Jo,void 0);Q(this,Zo,void 0);Q(this,di,void 0);Q(this,ea,void 0);Q(this,ta,void 0);q(this,Ge,t.queryCache||new $k),q(this,ui,t.mutationCache||new Wk),q(this,ci,t.defaultOptions||{}),q(this,Jo,new Map),q(this,Zo,new Map),q(this,di,0)}mount(){Nc(this,di)._++,k(this,di)===1&&(q(this,ea,wy.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,Ge).onFocus())})),q(this,ta,ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,Ge).onOnline())})))}unmount(){var t,e;Nc(this,di)._--,k(this,di)===0&&((t=k(this,ea))==null||t.call(this),q(this,ea,void 0),(e=k(this,ta))==null||e.call(this),q(this,ta,void 0))}isFetching(t){return k(this,Ge).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,ui).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=k(this,Ge).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=k(this,Ge).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ri(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return k(this,Ge).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=k(this,Ge).get(r.queryHash),s=i==null?void 0:i.state.data,o=Dk(e,s);if(o!==void 0)return k(this,Ge).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ot.batch(()=>k(this,Ge).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=k(this,Ge).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=k(this,Ge);ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=k(this,Ge);return ot.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ot.batch(()=>k(this,Ge).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Wt).catch(Wt)}invalidateQueries(t,e={}){return ot.batch(()=>(k(this,Ge).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ot.batch(()=>k(this,Ge).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Wt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Wt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=k(this,Ge).build(this,e);return n.isStaleByTime(Ri(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wt).catch(Wt)}fetchInfiniteQuery(t){return t.behavior=uE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wt).catch(Wt)}ensureInfiniteQueryData(t){return t.behavior=uE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ah.isOnline()?k(this,ui).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Ge)}getMutationCache(){return k(this,ui)}getDefaultOptions(){return k(this,ci)}setDefaultOptions(t){q(this,ci,t)}setQueryDefaults(t,e){k(this,Jo).set($s(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,Jo).values()],n={};return e.forEach(r=>{uu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){k(this,Zo).set($s(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Zo).values()],n={};return e.forEach(r=>{uu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,ci).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,ci).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,Ge).clear(),k(this,ui).clear()}},Ge=new WeakMap,ui=new WeakMap,ci=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,di=new WeakMap,ea=new WeakMap,ta=new WeakMap,Db),Yt,ge,Nu,$t,xs,na,hi,fi,ku,ra,ia,Cs,Rs,pi,sa,As,_l,Ou,bm,Lu,Tm,Mu,xm,Vu,Cm,Fu,Rm,Uu,Am,Bu,Pm,jh,rx,Nb,qk=(Nb=class extends Ca{constructor(e,n){super();Q(this,As);Q(this,Ou);Q(this,Lu);Q(this,Mu);Q(this,Vu);Q(this,Fu);Q(this,Uu);Q(this,Bu);Q(this,jh);Q(this,Yt,void 0);Q(this,ge,void 0);Q(this,Nu,void 0);Q(this,$t,void 0);Q(this,xs,void 0);Q(this,na,void 0);Q(this,hi,void 0);Q(this,fi,void 0);Q(this,ku,void 0);Q(this,ra,void 0);Q(this,ia,void 0);Q(this,Cs,void 0);Q(this,Rs,void 0);Q(this,pi,void 0);Q(this,sa,new Set);this.options=n,q(this,Yt,e),q(this,fi,null),q(this,hi,Sm()),this.options.experimental_prefetchInRender||k(this,hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,ge).addObserver(this),dE(k(this,ge),this.options)?ue(this,As,_l).call(this):this.updateResult(),ue(this,Vu,Cm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dm(k(this,ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dm(k(this,ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,Fu,Rm).call(this),ue(this,Uu,Am).call(this),k(this,ge).removeObserver(this)}setOptions(e){const n=this.options,r=k(this,ge);if(this.options=k(this,Yt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof En(this.options.enabled,k(this,ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,Bu,Pm).call(this),k(this,ge).setOptions(this.options),n._defaulted&&!oh(this.options,n)&&k(this,Yt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,ge),observer:this});const i=this.hasListeners();i&&hE(k(this,ge),r,this.options,n)&&ue(this,As,_l).call(this),this.updateResult(),i&&(k(this,ge)!==r||En(this.options.enabled,k(this,ge))!==En(n.enabled,k(this,ge))||Ri(this.options.staleTime,k(this,ge))!==Ri(n.staleTime,k(this,ge)))&&ue(this,Ou,bm).call(this);const s=ue(this,Lu,Tm).call(this);i&&(k(this,ge)!==r||En(this.options.enabled,k(this,ge))!==En(n.enabled,k(this,ge))||s!==k(this,pi))&&ue(this,Mu,xm).call(this,s)}getOptimisticResult(e){const n=k(this,Yt).getQueryCache().build(k(this,Yt),e),r=this.createResult(n,e);return Kk(this,r)&&(q(this,$t,r),q(this,na,this.options),q(this,xs,k(this,ge).state)),r}getCurrentResult(){return k(this,$t)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){k(this,sa).add(e)}getCurrentQuery(){return k(this,ge)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=k(this,Yt).defaultQueryOptions(e),r=k(this,Yt).getQueryCache().build(k(this,Yt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ue(this,As,_l).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,$t)))}createResult(e,n){var C;const r=k(this,ge),i=this.options,s=k(this,$t),o=k(this,xs),a=k(this,na),c=e!==r?e.state:k(this,Nu),{state:h}=e;let d={...h},f=!1,p;if(n._optimisticResults){const R=this.hasListeners(),D=!R&&dE(e,n),L=R&&hE(e,r,n,i);(D||L)&&(d={...d,...ex(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:I}=d;p=d.data;let E=!1;if(n.placeholderData!==void 0&&p===void 0&&I==="pending"){let R;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(R=s.data,E=!0):R=typeof n.placeholderData=="function"?n.placeholderData((C=k(this,ia))==null?void 0:C.state.data,k(this,ia)):n.placeholderData,R!==void 0&&(I="success",p=Im(s==null?void 0:s.data,R,n),f=!0)}if(n.select&&p!==void 0&&!E)if(s&&p===(o==null?void 0:o.data)&&n.select===k(this,ku))p=k(this,ra);else try{q(this,ku,n.select),p=n.select(p),p=Im(s==null?void 0:s.data,p,n),q(this,ra,p),q(this,fi,null)}catch(R){q(this,fi,R)}k(this,fi)&&(v=k(this,fi),p=k(this,ra),m=Date.now(),I="error");const y=d.fetchStatus==="fetching",_=I==="pending",b=I==="error",N=_&&y,O=p!==void 0,S={status:I,fetchStatus:d.fetchStatus,isPending:_,isSuccess:I==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!_,isLoadingError:b&&!O,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&O,isStale:_y(e,n),refetch:this.refetch,promise:k(this,hi),isEnabled:En(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=A=>{S.status==="error"?A.reject(S.error):S.data!==void 0&&A.resolve(S.data)},D=()=>{const A=q(this,hi,S.promise=Sm());R(A)},L=k(this,hi);switch(L.status){case"pending":e.queryHash===r.queryHash&&R(L);break;case"fulfilled":(S.status==="error"||S.data!==L.value)&&D();break;case"rejected":(S.status!=="error"||S.error!==L.reason)&&D();break}}return S}updateResult(){const e=k(this,$t),n=this.createResult(k(this,ge),this.options);if(q(this,xs,k(this,ge).state),q(this,na,this.options),k(this,xs).data!==void 0&&q(this,ia,k(this,ge)),oh(n,e))return;q(this,$t,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!k(this,sa).size)return!0;const o=new Set(s??k(this,sa));return this.options.throwOnError&&o.add("error"),Object.keys(k(this,$t)).some(a=>{const l=a;return k(this,$t)[l]!==e[l]&&o.has(l)})};ue(this,jh,rx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,Vu,Cm).call(this)}},Yt=new WeakMap,ge=new WeakMap,Nu=new WeakMap,$t=new WeakMap,xs=new WeakMap,na=new WeakMap,hi=new WeakMap,fi=new WeakMap,ku=new WeakMap,ra=new WeakMap,ia=new WeakMap,Cs=new WeakMap,Rs=new WeakMap,pi=new WeakMap,sa=new WeakMap,As=new WeakSet,_l=function(e){ue(this,Bu,Pm).call(this);let n=k(this,ge).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Wt)),n},Ou=new WeakSet,bm=function(){ue(this,Fu,Rm).call(this);const e=Ri(this.options.staleTime,k(this,ge));if(js||k(this,$t).isStale||!_m(e))return;const r=q1(k(this,$t).dataUpdatedAt,e)+1;q(this,Cs,setTimeout(()=>{k(this,$t).isStale||this.updateResult()},r))},Lu=new WeakSet,Tm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,ge)):this.options.refetchInterval)??!1},Mu=new WeakSet,xm=function(e){ue(this,Uu,Am).call(this),q(this,pi,e),!(js||En(this.options.enabled,k(this,ge))===!1||!_m(k(this,pi))||k(this,pi)===0)&&q(this,Rs,setInterval(()=>{(this.options.refetchIntervalInBackground||wy.isFocused())&&ue(this,As,_l).call(this)},k(this,pi)))},Vu=new WeakSet,Cm=function(){ue(this,Ou,bm).call(this),ue(this,Mu,xm).call(this,ue(this,Lu,Tm).call(this))},Fu=new WeakSet,Rm=function(){k(this,Cs)&&(clearTimeout(k(this,Cs)),q(this,Cs,void 0))},Uu=new WeakSet,Am=function(){k(this,Rs)&&(clearInterval(k(this,Rs)),q(this,Rs,void 0))},Bu=new WeakSet,Pm=function(){const e=k(this,Yt).getQueryCache().build(k(this,Yt),this.options);if(e===k(this,ge))return;const n=k(this,ge);q(this,ge,e),q(this,Nu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},jh=new WeakSet,rx=function(e){ot.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(k(this,$t))}),k(this,Yt).getQueryCache().notify({query:k(this,ge),type:"observerResultsUpdated"})})},Nb);function Gk(t,e){return En(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function dE(t,e){return Gk(t,e)||t.state.data!==void 0&&Dm(t,e,e.refetchOnMount)}function Dm(t,e,n){if(En(e.enabled,t)!==!1&&Ri(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&_y(t,e)}return!1}function hE(t,e,n,r){return(t!==e||En(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&_y(t,n)}function _y(t,e){return En(e.enabled,t)!==!1&&t.isStaleByTime(Ri(e.staleTime,t))}function Kk(t,e){return!oh(t.getCurrentResult(),e)}var gi,mi,Xt,br,oa,bd,ju,Nm,kb,Qk=(kb=class extends Ca{constructor(n,r){super();Q(this,oa);Q(this,ju);Q(this,gi,void 0);Q(this,mi,void 0);Q(this,Xt,void 0);Q(this,br,void 0);q(this,gi,n),this.setOptions(r),this.bindMethods(),ue(this,oa,bd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=k(this,gi).defaultMutationOptions(n),oh(this.options,r)||k(this,gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Xt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$s(r.mutationKey)!==$s(this.options.mutationKey)?this.reset():((i=k(this,Xt))==null?void 0:i.state.status)==="pending"&&k(this,Xt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=k(this,Xt))==null||n.removeObserver(this)}onMutationUpdate(n){ue(this,oa,bd).call(this),ue(this,ju,Nm).call(this,n)}getCurrentResult(){return k(this,mi)}reset(){var n;(n=k(this,Xt))==null||n.removeObserver(this),q(this,Xt,void 0),ue(this,oa,bd).call(this),ue(this,ju,Nm).call(this)}mutate(n,r){var i;return q(this,br,r),(i=k(this,Xt))==null||i.removeObserver(this),q(this,Xt,k(this,gi).getMutationCache().build(k(this,gi),this.options)),k(this,Xt).addObserver(this),k(this,Xt).execute(n)}},gi=new WeakMap,mi=new WeakMap,Xt=new WeakMap,br=new WeakMap,oa=new WeakSet,bd=function(){var r;const n=((r=k(this,Xt))==null?void 0:r.state)??tx();q(this,mi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ju=new WeakSet,Nm=function(n){ot.batch(()=>{var r,i,s,o,a,l,c,h;if(k(this,br)&&this.hasListeners()){const d=k(this,mi).variables,f=k(this,mi).context;(n==null?void 0:n.type)==="success"?((i=(r=k(this,br)).onSuccess)==null||i.call(r,n.data,d,f),(o=(s=k(this,br)).onSettled)==null||o.call(s,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(a=k(this,br)).onError)==null||l.call(a,n.error,d,f),(h=(c=k(this,br)).onSettled)==null||h.call(c,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(k(this,mi))})})},kb),ix=F.createContext(void 0),Gu=t=>{const e=F.useContext(ix);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sx=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),P.jsx(ix.Provider,{value:t,children:e})),ox=F.createContext(!1),Yk=()=>F.useContext(ox);ox.Provider;function Xk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Jk=F.createContext(Xk()),Zk=()=>F.useContext(Jk),eO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},tO=t=>{F.useEffect(()=>{t.clearReset()},[t])},nO=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Q1(n,[t.error,r])),rO=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},iO=(t,e)=>t.isLoading&&t.isFetching&&!e,sO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,fE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function oO(t,e,n){var d,f,p,v,m;const r=Yk(),i=Zk(),s=Gu(n),o=s.defaultQueryOptions(t);(f=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",rO(o),eO(o,i),tO(i);const a=!s.getQueryCache().get(o.queryHash),[l]=F.useState(()=>new e(s,o)),c=l.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(I=>{const E=h?l.subscribe(ot.batchCalls(I)):Wt;return l.updateResult(),E},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),F.useEffect(()=>{l.setOptions(o)},[o,l]),sO(o,c))throw fE(o,l,i);if(nO({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,c),o.experimental_prefetchInRender&&!js&&iO(c,r)){const I=a?fE(o,l,i):(m=s.getQueryCache().get(o.queryHash))==null?void 0:m.promise;I==null||I.catch(Wt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function aO(t,e){return oO(t,qk,e)}function Ey(t,e){const n=Gu(e),[r]=F.useState(()=>new Qk(n,t));F.useEffect(()=>{r.setOptions(t)},[r,t]);const i=F.useSyncExternalStore(F.useCallback(o=>r.subscribe(ot.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=F.useCallback((o,a)=>{r.mutate(o,a).catch(Wt)},[r]);if(i.error&&Q1(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}var ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ys||(ys={}));const pE="popstate";function lO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return km("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lx(i)}return cO(e,n,null,t)}function ax(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uO(){return Math.random().toString(36).substr(2,8)}function gE(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n,r){return n===void 0&&(n=null),lh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ux(e):e,{state:n,key:e&&e.key||r||uO()})}function lx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ux(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ys.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(lh({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=ys.Pop;let I=h(),E=I==null?null:I-c;c=I,l&&l({action:a,location:m.location,delta:E})}function f(I,E){a=ys.Push;let y=km(m.location,I,E);n&&n(y,I),c=h()+1;let _=gE(y,c),b=m.createHref(y);try{o.pushState(_,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(b)}s&&l&&l({action:a,location:m.location,delta:1})}function p(I,E){a=ys.Replace;let y=km(m.location,I,E);n&&n(y,I),c=h();let _=gE(y,c),b=m.createHref(y);o.replaceState(_,"",b),s&&l&&l({action:a,location:m.location,delta:0})}function v(I){let E=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof I=="string"?I:lx(I);return y=y.replace(/ $/,"%20"),ax(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let m={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pE,d),l=I,()=>{i.removeEventListener(pE,d),l=null}},createHref(I){return e(i,I)},createURL:v,encodeLocation(I){let E=v(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:p,go(I){return o.go(I)}};return m}var mE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mE||(mE={}));function dO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const cx=["post","put","patch","delete"];new Set(cx);const hO=["get",...cx];new Set(hO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}const fO=F.createContext(null),dx=F.createContext(null);function pO(){return F.useContext(dx)!=null}function gO(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function mO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ys.Pop,navigator:s,static:o=!1,future:a}=t;pO()&&ax(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:o,future:Om({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ux(r));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,m=F.useMemo(()=>{let I=dO(h,l);return I==null?null:{location:{pathname:I,search:d,hash:f,state:p,key:v},navigationType:i}},[l,h,d,f,p,v,i]);return m==null?null:F.createElement(fO.Provider,{value:c},F.createElement(dx.Provider,{children:n,value:m}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vO="6";try{window.__reactRouterVersion=vO}catch{}const yO="startTransition",vE=wD[yO];function wO(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=lO({window:i,v5Compat:!0}));let o=s.current,[a,l]=F.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=F.useCallback(d=>{c&&vE?vE(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>o.listen(h),[o,h]),F.useEffect(()=>gO(r),[r]),F.createElement(mO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var yE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yE||(yE={}));var wE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wE||(wE={}));const oe=t=>typeof t=="string",al=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},_E=t=>t==null?"":""+t,_O=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},EO=/###/g,EE=t=>t&&t.indexOf("###")>-1?t.replace(EO,"."):t,IE=t=>!t||oe(t),Ml=(t,e,n)=>{const r=oe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(IE(t))return{};const s=EE(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return IE(t)?{}:{obj:t,k:EE(r[i])}},SE=(t,e,n)=>{const{obj:r,k:i}=Ml(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Ml(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Ml(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},IO=(t,e,n,r)=>{const{obj:i,k:s}=Ml(t,e,Object);i[s]=i[s]||[],i[s].push(n)},uh=(t,e)=>{const{obj:n,k:r}=Ml(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},SO=(t,e,n)=>{const r=uh(t,n);return r!==void 0?r:uh(e,n)},hx=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?oe(t[r])||t[r]instanceof String||oe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):hx(t[r],e[r],n):t[r]=e[r]);return t},go=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var bO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const TO=t=>oe(t)?t.replace(/[&<>"'\/]/g,e=>bO[e]):t;class xO{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const CO=[" ",",","?","!",";"],RO=new xO(20),AO=(t,e,n)=>{e=e||"",n=n||"";const r=CO.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=RO.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},Lm=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},cu=t=>t==null?void 0:t.replace("_","-"),PO={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let DO=class Mm{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||PO,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(oe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Mm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Mm(this.logger,e)}};var sr=new DO;class sf{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...n])})}}class bE extends sf{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,h;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):oe(r)&&s?a.push(...r.split(s)):a.push(r)));const l=uh(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!oe(r)?l:Lm((h=(c=this.data)==null?void 0:c[e])==null?void 0:h[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),SE(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(oe(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=uh(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?hx(l,r,s):l={...l,...r},SE(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var fx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,n,r,i))??e}),e}};const TE={},xE=t=>!oe(t)&&typeof t!="boolean"&&typeof t!="number";class ch extends sf{constructor(e,n={}){super(),_O(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=sr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!AO(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:oe(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:oe(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const d=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?s?{res:`${c}${h}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${h}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a;const p=this.resolve(e,i);let v=p==null?void 0:p.res;const m=(p==null?void 0:p.usedKey)||a,I=(p==null?void 0:p.exactUsedKey)||a,E=["[object Number]","[object Function]","[object RegExp]"],y=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,b=i.count!==void 0&&!oe(i.count),N=ch.hasDefaultValue(i),O=b?this.pluralResolver.getSuffix(d,i.count,i):"",x=i.ordinal&&b?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",S=b&&!i.ordinal&&i.count===0,C=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${O}`]||i[`defaultValue${x}`]||i.defaultValue;let R=v;_&&!v&&N&&(R=C);const D=xE(R),L=Object.prototype.toString.apply(R);if(_&&R&&D&&E.indexOf(L)<0&&!(oe(y)&&Array.isArray(R))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,R,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(p.res=A,p.usedParams=this.getUsedParamsDetails(i),p):A}if(o){const A=Array.isArray(R),ie=A?[]:{},Ne=A?I:m;for(const Ee in R)if(Object.prototype.hasOwnProperty.call(R,Ee)){const Se=`${Ne}${o}${Ee}`;N&&!v?ie[Ee]=this.translate(Se,{...i,defaultValue:xE(C)?C[Ee]:void 0,joinArrays:!1,ns:l}):ie[Ee]=this.translate(Se,{...i,joinArrays:!1,ns:l}),ie[Ee]===Se&&(ie[Ee]=R[Ee])}v=ie}}else if(_&&oe(y)&&Array.isArray(v))v=v.join(y),v&&(v=this.extendTranslation(v,e,i,r));else{let A=!1,ie=!1;!this.isValidLookup(v)&&N&&(A=!0,v=C),this.isValidLookup(v)||(ie=!0,v=a);const Ee=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ie?void 0:v,Se=N&&C!==v&&this.options.updateMissing;if(ie||A||Se){if(this.logger.log(Se?"updateKey":"missingKey",d,c,a,Se?C:v),o){const se=this.resolve(a,{...i,keySeparator:!1});se&&se.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let se=0;se<Y.length;se++)$.push(Y[se]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(i.lng||this.language):$.push(i.lng||this.language);const X=(se,te,de)=>{var Ve;const Be=N&&de!==v?de:Ee;this.options.missingKeyHandler?this.options.missingKeyHandler(se,c,te,Be,Se,i):(Ve=this.backendConnector)!=null&&Ve.saveMissing&&this.backendConnector.saveMissing(se,c,te,Be,Se,i),this.emit("missingKey",se,c,te,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?$.forEach(se=>{const te=this.pluralResolver.getSuffixes(se,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&te.indexOf(`${this.options.pluralSeparator}zero`)<0&&te.push(`${this.options.pluralSeparator}zero`),te.forEach(de=>{X([se],a+de,i[`defaultValue${de}`]||C)})}):X($,a,C))}v=this.extendTranslation(v,e,i,p,r),ie&&v===a&&this.options.appendNamespaceToMissingKey&&(v=`${c}${h}${a}`),(ie||A)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${h}${a}`:a,A?v:void 0,i))}return s?(p.res=v,p.usedParams=this.getUsedParamsDetails(i),p):v}extendTranslation(e,n,r,i,s){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=oe(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&!oe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),h){const p=e.match(this.interpolator.nestingRegexp),v=p&&p.length;d<v&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=oe(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=fx.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,o,a;return oe(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),h=c.key;i=h;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!oe(n.count),p=f&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(oe(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(I=>{var E,y;this.isValidLookup(r)||(a=I,!TE[`${m[0]}-${I}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((y=this.utils)!=null&&y.hasLoadedNamespace(a))&&(TE[`${m[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(_=>{var O;if(this.isValidLookup(r))return;o=_;const b=[h];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys(b,h,_,I,n);else{let x;f&&(x=this.pluralResolver.getSuffix(_,n.count,n));const S=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(b.push(h+x),n.ordinal&&x.indexOf(C)===0&&b.push(h+x.replace(C,this.options.pluralSeparator)),p&&b.push(h+S)),v){const R=`${h}${this.options.contextSeparator}${n.context}`;b.push(R),f&&(b.push(R+x),n.ordinal&&x.indexOf(C)===0&&b.push(R+x.replace(C,this.options.pluralSeparator)),p&&b.push(R+S))}}let N;for(;N=b.pop();)this.isValidLookup(r)||(s=N,r=this.getResource(_,I,N,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!oe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class CE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=sr.create("languageUtils")}getScriptPartFromCode(e){if(e=cu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=cu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(oe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),oe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return oe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):oe(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const RE={zero:0,one:1,two:2,few:3,many:4,other:5},AE={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class NO{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=sr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=cu(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),AE;if(!e.match(/-|_/))return AE;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>RE[i]-RE[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const PE=(t,e,n,r=".",i=!0)=>{let s=SO(t,e,n);return!s&&i&&oe(n)&&(s=Lm(t,n,r),s===void 0&&(s=Lm(e,n,r))),s},Kp=t=>t.replace(/\$/g,"$$$$");class kO{constructor(e={}){var n;this.logger=sr.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:h,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:m,nestingOptionsSeparator:I,maxReplaces:E,alwaysFormat:y}=e.interpolation;this.escape=n!==void 0?n:TO,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?go(s):o||"{{",this.suffix=a?go(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=h?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?go(f):p||go("$t("),this.nestingSuffix=v?go(v):m||go(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=E||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=v=>{if(v.indexOf(this.formatSeparator)<0){const y=PE(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:v}):y}const m=v.split(this.formatSeparator),I=m.shift().trim(),E=m.join(this.formatSeparator).trim();return this.format(PE(n,l,I,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...i,...n,interpolationkey:I})};this.resetRegExp();const h=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>Kp(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?Kp(this.escape(v)):Kp(v)}].forEach(v=>{for(a=0;s=v.regex.exec(e);){const m=s[1].trim();if(o=c(m),o===void 0)if(typeof h=="function"){const E=h(e,s,i);o=oe(E)?E:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(d){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!oe(o)&&!this.useRawValueToEscape&&(o=_E(o));const I=v.safeValue(o);if(e=e.replace(s[0],I),d?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,o;const a=(l,c)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const d=l.split(new RegExp(`${h}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,o);const p=f.match(/'/g),v=f.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!v||v.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),c&&(o={...c,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${h}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!oe(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!oe(s))return s;oe(s)||(s=_E(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((h,d)=>this.format(h,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const OO=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),h=a.trim();n[h]||(n[h]=c),c==="false"&&(n[h]=!1),c==="true"&&(n[h]=!0),isNaN(c)||(n[h]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},DE=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(cu(r),i),e[o]=a),a(n)}},LO=t=>(e,n,r)=>t(cu(n),r)(e);class MO{constructor(e={}){this.logger=sr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?DE:LO;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=DE(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var d;const{formatName:c,formatOptions:h}=OO(l);if(this.formats[c]){let f=a;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},v=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[c](a,v,{...h,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const VO=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class FO extends sf{constructor(e,n,r,i={}){var s,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=sr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let h=!0;n.forEach(d=>{const f=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,h=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),h||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{IO(l.loaded,[s],o),VO(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const h=l.loaded[c];h.length&&h.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,h)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(h=>a(null,h)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();oe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),oe(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s,o={},a=()=>{}){var l,c,h,d,f;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(h=this.services)==null?void 0:h.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const p={...o,isUpdate:s},v=this.backend.create.bind(this.backend);if(v.length<6)try{let m;v.length===5?m=v(e,n,r,i,p):m=v(e,n,r,i),m&&typeof m.then=="function"?m.then(I=>a(null,I)).catch(a):a(null,m)}catch(m){a(m)}else v(e,n,r,i,a,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const NE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),oe(t[1])&&(e.defaultValue=t[1]),oe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),kE=t=>{var e,n;return oe(t.ns)&&(t.ns=[t.ns]),oe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),oe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Xc=()=>{},UO=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class du extends sf{constructor(e={},n){if(super(),this.options=kE(e),this.services={},this.logger=sr,this.modules={external:[]},UO(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(oe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=NE();this.options={...r,...this.options,...kE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?sr.init(i(this.modules.logger),this.options):sr.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=MO;const h=new CE(this.options);this.store=new bE(this.options.resources,this.options);const d=this.services;d.logger=sr,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new NO(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new kO(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new FO(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ch(this.services,this.options),this.translator.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Xc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...h)=>this.store[c](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...h)=>(this.store[c](...h),this)});const a=al(),l=()=>{const c=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(h,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=Xc){var s,o;let r=n;const i=oe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>l(h)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=al();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Xc),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=al();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{var h,d;!e&&!a&&this.services.languageDetector&&(a=[]);const l=oe(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(oe(a)?[a]:a);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||d.call(h,c)),this.loadResources(c,f=>{s(f,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(d=>`${l.keyPrefix}${c}${d}`):h=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s,this.t(h,l)};return oe(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=al();return this.options.ns?(oe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=al();oe(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new CE(NE());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new du(e,n)}cloneInstance(e={},n=Xc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new du(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((h,d)=>(h[d]={...l[c][d]},h),l[c]),l),{});s.store=new bE(a,i),s.services.resourceStore=s.store}return s.translator=new ch(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lt=du.createInstance();Lt.createInstance=du.createInstance;Lt.createInstance;Lt.dir;Lt.init;Lt.loadResources;Lt.reloadResources;Lt.use;Lt.changeLanguage;Lt.getFixedT;Lt.t;Lt.exists;Lt.setDefaultNamespace;Lt.hasLoadedNamespace;Lt.loadNamespaces;Lt.loadLanguages;const BO=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Ns(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},OE={},Vm=(t,e,n,r)=>{Ns(n)&&OE[n]||(Ns(n)&&(OE[n]=new Date),BO(t,e,n,r))},px=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Fm=(t,e,n)=>{t.loadNamespaces(e,px(t,n))},LE=(t,e,n,r)=>{if(Ns(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Fm(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,px(t,r))},jO=(t,e,n={})=>!e.languages||!e.languages.length?(Vm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Ns=t=>typeof t=="string",$O=t=>typeof t=="object"&&t!==null,zO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,WO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},HO=t=>WO[t],qO=t=>t.replace(zO,HO);let Um={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:qO};const GO=(t={})=>{Um={...Um,...t}},KO=()=>Um;let gx;const QO=t=>{gx=t},YO=()=>gx,XO={type:"3rdParty",init(t){GO(t.options.react),QO(t)}},JO=F.createContext();class ZO{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const eL=(t,e)=>{const n=F.useRef();return F.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current},mx=(t,e,n,r)=>t.getFixedT(e,n,r),tL=(t,e,n,r)=>F.useCallback(mx(t,e,n,r),[t,e,n,r]),Ra=(t,e={})=>{var b,N,O,x;const{i18n:n}=e,{i18n:r,defaultNS:i}=F.useContext(JO)||{},s=n||r||YO();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ZO),!s){Vm(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(R,D)=>Ns(D)?D:$O(D)&&Ns(D.defaultValue)?D.defaultValue:Array.isArray(R)?R[R.length-1]:R,C=[S,{},!1];return C.t=S,C.i18n={},C.ready=!1,C}(b=s.options.react)!=null&&b.wait&&Vm(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...KO(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=t||i||((N=s.options)==null?void 0:N.defaultNS);c=Ns(c)?[c]:c||["translation"],(x=(O=s.reportNamespaces).addUsedNamespaces)==null||x.call(O,c);const h=(s.isInitialized||s.initializedStoreOnce)&&c.every(S=>jO(S,s,o)),d=tL(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),f=()=>d,p=()=>mx(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[v,m]=F.useState(f);let I=c.join();e.lng&&(I=`${e.lng}${I}`);const E=eL(I),y=F.useRef(!0);F.useEffect(()=>{const{bindI18n:S,bindI18nStore:C}=o;y.current=!0,!h&&!a&&(e.lng?LE(s,e.lng,c,()=>{y.current&&m(p)}):Fm(s,c,()=>{y.current&&m(p)})),h&&E&&E!==I&&y.current&&m(p);const R=()=>{y.current&&m(p)};return S&&(s==null||s.on(S,R)),C&&(s==null||s.store.on(C,R)),()=>{y.current=!1,s&&(S==null||S.split(" ").forEach(D=>s.off(D,R))),C&&s&&C.split(" ").forEach(D=>s.store.off(D,R))}},[s,I]),F.useEffect(()=>{y.current&&h&&m(f)},[s,l,h]);const _=[v,s,h];if(_.t=v,_.i18n=s,_.ready=h,h||!h&&!a)return _;throw new Promise(S=>{e.lng?LE(s,e.lng,c,()=>S()):Fm(s,c,()=>S())})},nL={loading:"로딩 중...",error:"오류가 발생했습니다.",success:"성공적으로 완료되었습니다.",cancel:"취소",save:"저장",delete:"삭제",edit:"편집",create:"생성",confirm:"확인",back:"뒤로",next:"다음",previous:"이전"},rL={title:"ALMUS ToDo List",subtitle:"팀 업무 관리 시스템",language:"언어"},iL={title:"제목",description:"설명",assignee:"담당자",status:"상태",priority:"우선순위",dueDate:"마감일",createdAt:"생성일",updatedAt:"수정일",actions:"작업",createTask:"태스크 생성",editTask:"태스크 편집",deleteTask:"태스크 삭제",confirmDelete:"정말로 이 태스크를 삭제하시겠습니까?",taskCreated:"태스크가 성공적으로 생성되었습니다.",taskUpdated:"태스크가 성공적으로 수정되었습니다.",taskDeleted:"태스크가 성공적으로 삭제되었습니다.",taskCreateFailed:"태스크 생성에 실패했습니다.",taskUpdateFailed:"태스크 수정에 실패했습니다.",taskDeleteFailed:"태스크 삭제에 실패했습니다.",titleRequired:"제목을 입력해주세요.",assigneeRequired:"담당자를 입력해주세요.",loadTasksFailed:"태스크 목록을 불러오는데 실패했습니다.",taskList:"태스크 목록",noTasks:"등록된 태스크가 없습니다."},sL={todo:"할 일",inProgress:"진행 중",review:"검토",done:"완료",cancelled:"취소됨"},oL={low:"낮음",medium:"보통",high:"높음",urgent:"긴급"},aL={list:"목록",grid:"그리드",kanban:"칸반",gantt:"간트",switchView:"뷰 전환",selectViewDescription:"원하는 형태로 태스크를 확인하세요",listDescription:"간단한 리스트 형태",gridDescription:"엑셀 유사 테이블 형태",kanbanDescription:"드래그 앤 드롭 보드",ganttDescription:"타임라인 시각화"},lL={korean:"한국어",vietnamese:"베트남어",switchLanguage:"언어 변경"},uL={common:nL,app:rL,task:iL,status:sL,priority:oL,view:aL,language:lL},cL={loading:"Đang tải...",error:"Đã xảy ra lỗi.",success:"Hoàn thành thành công.",cancel:"Hủy",save:"Lưu",delete:"Xóa",edit:"Chỉnh sửa",create:"Tạo",confirm:"Xác nhận",back:"Quay lại",next:"Tiếp theo",previous:"Trước"},dL={title:"ALMUS ToDo List",subtitle:"Hệ thống quản lý công việc nhóm",language:"Ngôn ngữ"},hL={title:"Tiêu đề",description:"Mô tả",assignee:"Người phụ trách",status:"Trạng thái",priority:"Ưu tiên",dueDate:"Ngày hạn",createdAt:"Ngày tạo",updatedAt:"Ngày cập nhật",actions:"Hành động",createTask:"Tạo nhiệm vụ",editTask:"Chỉnh sửa nhiệm vụ",deleteTask:"Xóa nhiệm vụ",confirmDelete:"Bạn có chắc chắn muốn xóa nhiệm vụ này không?",taskCreated:"Nhiệm vụ đã được tạo thành công.",taskUpdated:"Nhiệm vụ đã được cập nhật thành công.",taskDeleted:"Nhiệm vụ đã được xóa thành công.",taskCreateFailed:"Tạo nhiệm vụ thất bại.",taskUpdateFailed:"Cập nhật nhiệm vụ thất bại.",taskDeleteFailed:"Xóa nhiệm vụ thất bại.",titleRequired:"Vui lòng nhập tiêu đề.",assigneeRequired:"Vui lòng nhập người phụ trách.",loadTasksFailed:"Không thể tải danh sách nhiệm vụ.",taskList:"Danh sách nhiệm vụ",noTasks:"Không có nhiệm vụ nào."},fL={todo:"Cần làm",inProgress:"Đang thực hiện",review:"Đánh giá",done:"Hoàn thành",cancelled:"Đã hủy"},pL={low:"Thấp",medium:"Trung bình",high:"Cao",urgent:"Khẩn cấp"},gL={list:"Danh sách",grid:"Lưới",kanban:"Kanban",gantt:"Gantt",switchView:"Chuyển đổi chế độ xem",selectViewDescription:"Xem nhiệm vụ theo hình thức mong muốn",listDescription:"Hình thức danh sách đơn giản",gridDescription:"Hình thức bảng giống Excel",kanbanDescription:"Bảng kéo thả",ganttDescription:"Trực quan hóa thời gian"},mL={korean:"Tiếng Hàn",vietnamese:"Tiếng Việt",switchLanguage:"Thay đổi ngôn ngữ"},vL={common:cL,app:dL,task:hL,status:fL,priority:pL,view:gL,language:mL},yL={ko:{translation:uL},vi:{translation:vL}};Lt.use(XO).init({resources:yL,lng:"ko",fallbackLng:"ko",interpolation:{escapeValue:!1},react:{useSuspense:!1}});const wL=new nx({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,retryDelay:t=>Math.min(1e3*2**t,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:1,retryDelay:1e3}}}),_L=({children:t})=>P.jsxs(sx,{client:wL,children:[t,!1]}),EL=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new SL;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bL=function(t){const e=vx(t);return yx.encodeByteArray(e,!0)},dh=function(t){return bL(t).replace(/\./g,"")},wx=function(t){try{return yx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=()=>TL().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wx(t[1]);return e&&JSON.parse(e)},of=()=>{try{return EL()||xL()||CL()||RL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_x=t=>{var e,n;return(n=(e=of())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Ex=t=>{const e=_x(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ix=()=>{var t;return(t=of())==null?void 0:t.config},Sx=t=>{var e;return(e=of())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),a].join(".")}const Vl={};function PL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?t.emulator.push(e):t.prod.push(e);return t}function DL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ME=!1;function Sy(t,e){if(typeof window>"u"||typeof document>"u"||!Ji(window.location.host)||Vl[t]===e||Vl[t]||ME)return;Vl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=PL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{ME=!0,o()},f}function h(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=DL(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),I=document.getElementById(m)||document.createElement("a"),E=n("preprendIcon"),y=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),h(I,m);const b=c();l(y,E),_.append(y,v,I,b),document.body.appendChild(_)}s?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function kL(){var e;const t=(e=of())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ML(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VL(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FL(){return!kL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UL(){try{return typeof indexedDB=="object"}catch{return!1}}function BL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jL,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$L(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vr(i,a,r)}}function $L(t,e){return t.replace(zL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zL=/\{\$([^}]+)}/g;function WL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(VE(s)&&VE(o)){if(!zs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function VE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function El(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HL(t,e){const n=new qL(t,e);return n.subscribe.bind(n)}class qL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qp),i.error===void 0&&(i.error=Qp),i.complete===void 0&&(i.complete=Qp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YL(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QL(t){return t===hs?void 0:t}function YL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const JL={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},ZL=he.INFO,eM={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},tM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=ZL,this._logHandler=tM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const nM=(t,e)=>e.some(n=>t instanceof n);let FE,UE;function rM(){return FE||(FE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iM(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tx=new WeakMap,Bm=new WeakMap,xx=new WeakMap,Yp=new WeakMap,Ty=new WeakMap;function sM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tx.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function oM(t){if(Bm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bm.set(t,e)}let jm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aM(t){jm=t(jm)}function lM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return xx.set(r,e.sort?e.sort():[e]),Ai(r)}:iM().includes(t)?function(...e){return t.apply(Xp(this),e),Ai(Tx.get(this))}:function(...e){return Ai(t.apply(Xp(this),e))}}function uM(t){return typeof t=="function"?lM(t):(t instanceof IDBTransaction&&oM(t),nM(t,rM())?new Proxy(t,jm):t)}function Ai(t){if(t instanceof IDBRequest)return sM(t);if(Yp.has(t))return Yp.get(t);const e=uM(t);return e!==t&&(Yp.set(t,e),Ty.set(e,t)),e}const Xp=t=>Ty.get(t);function cM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ai(o.result),l.oldVersion,l.newVersion,Ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dM=["get","getKey","getAll","getAllKeys","count"],hM=["put","add","delete","clear"],Jp=new Map;function BE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jp.set(e,s),s}aM(t=>({...t,get:(e,n,r)=>BE(e,n)||t.get(e,n,r),has:(e,n)=>!!BE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",jE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new by("@firebase/app"),gM="@firebase/app-compat",mM="@firebase/analytics-compat",vM="@firebase/analytics",yM="@firebase/app-check-compat",wM="@firebase/app-check",_M="@firebase/auth",EM="@firebase/auth-compat",IM="@firebase/database",SM="@firebase/data-connect",bM="@firebase/database-compat",TM="@firebase/functions",xM="@firebase/functions-compat",CM="@firebase/installations",RM="@firebase/installations-compat",AM="@firebase/messaging",PM="@firebase/messaging-compat",DM="@firebase/performance",NM="@firebase/performance-compat",kM="@firebase/remote-config",OM="@firebase/remote-config-compat",LM="@firebase/storage",MM="@firebase/storage-compat",VM="@firebase/firestore",FM="@firebase/ai",UM="@firebase/firestore-compat",BM="firebase",jM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",$M={[$m]:"fire-core",[gM]:"fire-core-compat",[vM]:"fire-analytics",[mM]:"fire-analytics-compat",[wM]:"fire-app-check",[yM]:"fire-app-check-compat",[_M]:"fire-auth",[EM]:"fire-auth-compat",[IM]:"fire-rtdb",[SM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[TM]:"fire-fn",[xM]:"fire-fn-compat",[CM]:"fire-iid",[RM]:"fire-iid-compat",[AM]:"fire-fcm",[PM]:"fire-fcm-compat",[DM]:"fire-perf",[NM]:"fire-perf-compat",[kM]:"fire-rc",[OM]:"fire-rc-compat",[LM]:"fire-gcs",[MM]:"fire-gcs-compat",[VM]:"fire-fst",[UM]:"fire-fst-compat",[FM]:"fire-vertex","fire-js":"fire-js",[BM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,zM=new Map,Wm=new Map;function $E(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(Wm.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,t);for(const n of hh.values())$E(n,t);for(const n of zM.values())$E(n,t);return!0}function af(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Ku("app","Firebase",WM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=jM;function Cx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=Ix()),!n)throw Pi.create("no-options");const s=hh.get(i);if(s){if(zs(n,s.options)&&zs(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}const o=new XL(i);for(const l of Wm.values())o.addComponent(l);const a=new HM(n,r,o);return hh.set(i,a),a}function xy(t=zm){const e=hh.get(t);if(!e&&t===zm&&Ix())return Cx();if(!e)throw Pi.create("no-app",{appName:t});return e}function ur(t,e,n){let r=$M[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(o.join(" "));return}Ws(new Bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="firebase-heartbeat-database",GM=1,hu="firebase-heartbeat-store";let Zp=null;function Rx(){return Zp||(Zp=cM(qM,GM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function KM(t){try{const n=(await Rx()).transaction(hu),r=await n.objectStore(hu).get(Ax(t));return await n.done,r}catch(e){if(e instanceof vr)Lr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function zE(t,e){try{const r=(await Rx()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,Ax(t)),await r.done}catch(n){if(n instanceof vr)Lr.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(r.message)}}}function Ax(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=1024,YM=30;class XM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>YM){const o=e2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WE(),{heartbeatsToSend:r,unsentEntries:i}=JM(this._heartbeatsCache.heartbeats),s=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Lr.warn(n),""}}}function WE(){return new Date().toISOString().substring(0,10)}function JM(t,e=QM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UL()?BL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function HE(t){return dh(JSON.stringify({version:2,heartbeats:t})).length}function e2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){Ws(new Bi("platform-logger",e=>new fM(e),"PRIVATE")),Ws(new Bi("heartbeat",e=>new XM(e),"PRIVATE")),ur($m,jE,t),ur($m,jE,"esm2020"),ur("fire-js","")}t2("");function Px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n2=Px,Dx=new Ku("auth","Firebase",Px());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new by("@firebase/auth");function r2(t,...e){fh.logLevel<=he.WARN&&fh.warn(`Auth (${Js}): ${t}`,...e)}function Td(t,...e){fh.logLevel<=he.ERROR&&fh.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw Cy(t,...e)}function cr(t,...e){return Cy(t,...e)}function Nx(t,e,n){const r={...n2(),[e]:n};return new Ku("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return Nx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Dx.create(t,...e)}function ne(t,e,...n){if(!t)throw Cy(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Mr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function i2(){return qE()==="http:"||qE()==="https:"}function qE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i2()||LL()||"connection"in navigator)?navigator.onLine:!0}function o2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=NL()||ML()}get(){return s2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u2=new Yu(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zi(t,e,n,r,i={}){return Ox(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return OL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(c.credentials="include"),kx.fetch()(await Lx(t,t.config.apiHost,n,a),c)})}async function Ox(t,e,n){t._canInitEmulator=!1;const r={...a2,...e};try{const i=new d2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Nx(t,h,c);Gn(t,h)}}catch(i){if(i instanceof vr)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function lf(t,e,n,r,i={}){const s=await Zi(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Lx(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Ry(t.config,i):`${t.config.apiScheme}://${i}`;return l2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function c2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),u2.get())})}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function GE(t){return t!==void 0&&t.enterprise!==void 0}class h2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f2(t,e){return Zi(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e){return Zi(t,"POST","/v1/accounts:delete",e)}async function ph(t,e){return Zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g2(t,e=!1){const n=We(t),r=await n.getIdToken(e),i=Ay(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fl(eg(i.auth_time)),issuedAtTime:Fl(eg(i.iat)),expirationTime:Fl(eg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function eg(t){return Number(t)*1e3}function Ay(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const i=wx(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function KE(t){const e=Ay(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&m2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await fu(t,ph(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?Mx(i.providerUserInfo):[],o=w2(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qm(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function y2(t){const e=We(t);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e){const n=await Ox(t,{},async()=>{const r=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Lx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(l.credentials="include"),kx.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E2(t,e){return Zi(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=KE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zo;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new v2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g2(this,e)}reload(){return y2(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await fu(this,p2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:v,stsTokenManager:m}=n;ne(d&&m,e,"internal-error");const I=zo.fromJSON(this.name,m);ne(typeof d=="string",e,"internal-error"),Kr(r,e.name),Kr(i,e.name),ne(typeof f=="boolean",e,"internal-error"),ne(typeof p=="boolean",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),Kr(a,e.name),Kr(l,e.name),Kr(c,e.name),Kr(h,e.name);const E=new $n({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:I,createdAt:c,lastLoginAt:h});return v&&Array.isArray(v)&&(E.providerData=v.map(y=>({...y}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new zo;i.updateFromServerResponse(n);const s=new $n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Mx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new zo;a.updateFromIdToken(r);const l=new $n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Rr(t){Mr(t instanceof Function,"Expected a class definition");let e=QE.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vx.type="NONE";const YE=Vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wo(Rr(YE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Rr(YE);const o=xd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await ph(e,{idToken:h}).catch(()=>{});if(!f)break;d=await $n._fromGetAccountInfoResponse(e,f,h)}else d=$n._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Wo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Wo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zx(e))return"Blackberry";if(Wx(e))return"Webos";if(Ux(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if($x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fx(t=Ot()){return/firefox\//i.test(t)}function Ux(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(t=Ot()){return/crios\//i.test(t)}function jx(t=Ot()){return/iemobile/i.test(t)}function $x(t=Ot()){return/android/i.test(t)}function zx(t=Ot()){return/blackberry/i.test(t)}function Wx(t=Ot()){return/webos/i.test(t)}function Py(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function I2(t=Ot()){var e;return Py(t)&&!!((e=window.navigator)!=null&&e.standalone)}function S2(){return VL()&&document.documentMode===10}function Hx(t=Ot()){return Py(t)||$x(t)||Wx(t)||zx(t)||/windows phone/i.test(t)||jx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e=[]){let n;switch(t){case"Browser":n=XE(Ot());break;case"Worker":n=`${XE(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(t,e={}){return Zi(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=6;class C2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??x2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new b2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Di(this));const n=e?We(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T2(this),n=new C2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ku("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&r2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Aa(t){return We(t)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=HL(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A2(t){uf=t}function Gx(t){return uf.loadJS(t)}function P2(){return uf.recaptchaEnterpriseScript}function D2(){return uf.gapiScript}function N2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class k2{constructor(){this.enterprise=new O2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class O2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L2="recaptcha-enterprise",Kx="NO_RECAPTCHA";class M2{constructor(e){this.type=L2,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{f2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new h2(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;GE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Kx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k2().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=P2();l.length!==0&&(l+=a),Gx(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function ll(t,e,n,r=!1,i=!1){const s=new M2(t);let o;if(i)o=Kx;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ZE(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ll(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ll(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ll(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await ll(t,e,n,!1,!0);return r(t,h)}return Promise.reject(l)})}else{const a=await ll(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){const n=af(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zs(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function F2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U2(t,e,n){const r=Aa(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Qx(e),{host:o,port:a}=B2(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(zs(c,r.config.emulator)&&zs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ji(o)?(Iy(`${s}//${o}${l}`),Sy("Auth",!0)):i||j2()}function Qx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B2(t){const e=Qx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eI(o)}}}function eI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function $2(t,e){return Zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e){return lf(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e){return lf(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function H2(t,e){return lf(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Dy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZE(e,n,"signInWithPassword",z2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return W2(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZE(e,r,"signUpPassword",$2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return H2(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return lf(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="http://localhost";class Hs extends Dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:q2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K2(t){const e=El(Il(t)).link,n=e?El(Il(e)).deep_link_id:null,r=El(Il(t)).deep_link_id;return(r?El(Il(r)).link:null)||r||n||e||t}class Ny{constructor(e){const n=El(Il(e)),r=n.apiKey??null,i=n.oobCode??null,s=G2(n.mode??null);ne(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=K2(e);try{return new Ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ny.parseLink(n);return ne(r,"argument-error"),pu._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Xu{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Xu{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Xu{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return si.credential(n,r)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $n._fromIdTokenResponse(e,r,i),o=tI(r);return new pa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tI(r);return new pa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends vr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mh(e,n,r,i)}}function Xx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,s,e,r):s})}async function Q2(t,e,n=!1){const r=await fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(Di(r));const i="reauthenticate";try{const s=await fu(t,Xx(r,i,e,t),n);ne(s.idToken,r,"internal-error");const o=Ay(s.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),pa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(t,e,n=!1){if(bn(t.app))return Promise.reject(Di(t));const r="signIn",i=await Xx(t,r,e),s=await pa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function X2(t,e){return Jx(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Z2(t,e,n){return bn(t.app)?Promise.reject(Di(t)):X2(We(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J2(t),r})}function eV(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function tV(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function nV(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function rV(t){return We(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=1e3,sV=10;class eC extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);S2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eC.type="LOCAL";const oV=eC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tC.type="SESSION";const nC=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await aV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ky("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function uV(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function cV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function hV(){return rC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebaseLocalStorageDb",fV=1,yh="firebaseLocalStorage",sC="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function pV(){const t=indexedDB.deleteDatabase(iC);return new Ju(t).toPromise()}function Gm(){const t=indexedDB.open(iC,fV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yh,{keyPath:sC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await pV(),e(await Gm()))})})}async function nI(t,e,n){const r=df(t,!0).put({[sC]:e,value:n});return new Ju(r).toPromise()}async function gV(t,e){const n=df(t,!1).get(e),r=await new Ju(n).toPromise();return r===void 0?null:r.value}function rI(t,e){const n=df(t,!0).delete(e);return new Ju(n).toPromise()}const mV=800,vV=3;class oC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(hV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await cV(),!this.activeServiceWorker)return;this.sender=new lV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await nI(e,vh,"1"),await rI(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=df(i,!1).getAll();return new Ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oC.type="LOCAL";const yV=oC;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){return e?Rr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _V(t){return Jx(t.auth,new Oy(t),t.bypassAuthState)}function EV(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Y2(n,new Oy(t),t.bypassAuthState)}async function IV(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Q2(n,new Oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _V;case"linkViaPopup":case"linkViaRedirect":return IV;case"reauthViaPopup":case"reauthViaRedirect":return EV;default:Gn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Yu(2e3,1e4);class Mo extends aC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SV.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="pendingRedirect",Cd=new Map;class TV extends aC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await xV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xV(t,e){const n=AV(e),r=RV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CV(t,e){Cd.set(t._key(),e)}function RV(t){return Rr(t._redirectPersistence)}function AV(t){return xd(bV,t.config.apiKey,t.name)}async function PV(t,e,n=!1){if(bn(t.app))return Promise.reject(Di(t));const r=Aa(t),i=wV(r,e),o=await new TV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=10*60*1e3;class NV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(iI(e))}saveEventToCache(e){this.cachedEventUids.add(iI(e)),this.lastProcessedEventTime=Date.now()}}function iI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e={}){return Zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MV=/^https?/;async function VV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OV(t);for(const n of e)try{if(FV(n))return}catch{}Gn(t,"unauthorized-domain")}function FV(t){const e=Hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MV.test(n))return!1;if(LV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new Yu(3e4,6e4);function sI(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BV(t){return new Promise((e,n)=>{var i,s,o;function r(){sI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sI(),n(cr(t,"network-request-failed"))},timeout:UV.get()})}if((s=(i=dr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=dr().gapi)!=null&&o.load)r();else{const a=N2("iframefcb");return dr()[a]=()=>{gapi.load?r():n(cr(t,"network-request-failed"))},Gx(`${D2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function jV(t){return Rd=Rd||BV(t),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new Yu(5e3,15e3),zV="__/auth/iframe",WV="emulator/auth/iframe",HV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GV(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,WV):`https://${t.config.authDomain}/${zV}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=qV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qu(r).slice(1)}`}async function KV(t){const e=await jV(t),n=dr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:GV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=dr().setTimeout(()=>{s(o)},$V.get());function l(){dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YV=500,XV=600,JV="_blank",ZV="http://localhost";class oI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eF(t,e,n,r=YV,i=XV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...QV,width:r.toString(),height:i.toString(),top:s,left:o},c=Ot().toLowerCase();n&&(a=Bx(c)?JV:n),Fx(c)&&(e=e||ZV,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(I2(c)&&a!=="_self")return tF(e||"",a),new oI(null);const d=window.open(e||"",a,h);ne(d,t,"popup-blocked");try{d.focus()}catch{}return new oI(d)}function tF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="__/auth/handler",rF="emulator/auth/handler",iF=encodeURIComponent("fac");async function aI(t,e,n,r,i,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof Yx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof Xu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${iF}=${encodeURIComponent(l)}`:"";return`${sF(t)}?${Qu(a).slice(1)}${c}`}function sF({config:t}){return t.emulator?Ry(t,rF):`https://${t.authDomain}/${nF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class oF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nC,this._completeRedirectFn=PV,this._overrideRedirectResult=CV}async _openPopup(e,n,r,i){var o;Mr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await aI(e,n,r,Hm(),i);return eF(e,s,ky())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await aI(e,n,r,Hm(),i);return uV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KV(e),r=new NV(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tg,{type:tg},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[tg];s!==void 0&&n(!!s),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hx()||Ux()||Py()}}const aF=oF;var lI="@firebase/auth",uI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cF(t){Ws(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qx(t)},c=new R2(r,i,s,l);return F2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new Bi("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new lF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(lI,uI,uF(t)),ur(lI,uI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=5*60,hF=Sx("authIdTokenMaxAge")||dF;let cI=null;const fF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hF)return;const i=n==null?void 0:n.token;cI!==i&&(cI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pF(t=xy()){const e=af(t,"auth");if(e.isInitialized())return e.getImmediate();const n=V2(t,{popupRedirectResolver:aF,persistence:[yV,oV,nC]}),r=Sx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fF(s.toString());tV(n,o,()=>o(n.currentUser)),eV(n,a=>o(a))}}const i=_x("auth");return i&&U2(n,`http://${i}`),n}function gF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}A2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cF("Browser");var dI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,uC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function C(){}C.prototype=S.prototype,x.D=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(R,D,L){for(var A=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)A[ie-2]=arguments[ie];return S.prototype[D].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)R[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;16>D;++D)R[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],D=x.g[2];var L=x.g[3],A=S+(L^C&(D^L))+R[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=L+(D^S&(C^D))+R[1]+3905402710&4294967295,L=S+(A<<12&4294967295|A>>>20),A=D+(C^L&(S^C))+R[2]+606105819&4294967295,D=L+(A<<17&4294967295|A>>>15),A=C+(S^D&(L^S))+R[3]+3250441966&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(L^C&(D^L))+R[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=L+(D^S&(C^D))+R[5]+1200080426&4294967295,L=S+(A<<12&4294967295|A>>>20),A=D+(C^L&(S^C))+R[6]+2821735955&4294967295,D=L+(A<<17&4294967295|A>>>15),A=C+(S^D&(L^S))+R[7]+4249261313&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(L^C&(D^L))+R[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=L+(D^S&(C^D))+R[9]+2336552879&4294967295,L=S+(A<<12&4294967295|A>>>20),A=D+(C^L&(S^C))+R[10]+4294925233&4294967295,D=L+(A<<17&4294967295|A>>>15),A=C+(S^D&(L^S))+R[11]+2304563134&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(L^C&(D^L))+R[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=L+(D^S&(C^D))+R[13]+4254626195&4294967295,L=S+(A<<12&4294967295|A>>>20),A=D+(C^L&(S^C))+R[14]+2792965006&4294967295,D=L+(A<<17&4294967295|A>>>15),A=C+(S^D&(L^S))+R[15]+1236535329&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(D^L&(C^D))+R[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^D&(S^C))+R[6]+3225465664&4294967295,L=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(L^S))+R[11]+643717713&4294967295,D=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(D^L))+R[0]+3921069994&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^L&(C^D))+R[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^D&(S^C))+R[10]+38016083&4294967295,L=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(L^S))+R[15]+3634488961&4294967295,D=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(D^L))+R[4]+3889429448&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^L&(C^D))+R[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^D&(S^C))+R[14]+3275163606&4294967295,L=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(L^S))+R[3]+4107603335&4294967295,D=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(D^L))+R[8]+1163531501&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^L&(C^D))+R[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^D&(S^C))+R[2]+4243563512&4294967295,L=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(L^S))+R[7]+1735328473&4294967295,D=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(D^L))+R[12]+2368359562&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(C^D^L)+R[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^D)+R[8]+2272392833&4294967295,L=S+(A<<11&4294967295|A>>>21),A=D+(L^S^C)+R[11]+1839030562&4294967295,D=L+(A<<16&4294967295|A>>>16),A=C+(D^L^S)+R[14]+4259657740&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^L)+R[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^D)+R[4]+1272893353&4294967295,L=S+(A<<11&4294967295|A>>>21),A=D+(L^S^C)+R[7]+4139469664&4294967295,D=L+(A<<16&4294967295|A>>>16),A=C+(D^L^S)+R[10]+3200236656&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^L)+R[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^D)+R[0]+3936430074&4294967295,L=S+(A<<11&4294967295|A>>>21),A=D+(L^S^C)+R[3]+3572445317&4294967295,D=L+(A<<16&4294967295|A>>>16),A=C+(D^L^S)+R[6]+76029189&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^L)+R[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^D)+R[12]+3873151461&4294967295,L=S+(A<<11&4294967295|A>>>21),A=D+(L^S^C)+R[15]+530742520&4294967295,D=L+(A<<16&4294967295|A>>>16),A=C+(D^L^S)+R[2]+3299628645&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(D^(C|~L))+R[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~D))+R[7]+1126891415&4294967295,L=S+(A<<10&4294967295|A>>>22),A=D+(S^(L|~C))+R[14]+2878612391&4294967295,D=L+(A<<15&4294967295|A>>>17),A=C+(L^(D|~S))+R[5]+4237533241&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~L))+R[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~D))+R[3]+2399980690&4294967295,L=S+(A<<10&4294967295|A>>>22),A=D+(S^(L|~C))+R[10]+4293915773&4294967295,D=L+(A<<15&4294967295|A>>>17),A=C+(L^(D|~S))+R[1]+2240044497&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~L))+R[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~D))+R[15]+4264355552&4294967295,L=S+(A<<10&4294967295|A>>>22),A=D+(S^(L|~C))+R[6]+2734768916&4294967295,D=L+(A<<15&4294967295|A>>>17),A=C+(L^(D|~S))+R[13]+1309151649&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~L))+R[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~D))+R[11]+3174756917&4294967295,L=S+(A<<10&4294967295|A>>>22),A=D+(S^(L|~C))+R[2]+718787259&4294967295,D=L+(A<<15&4294967295|A>>>17),A=C+(L^(D|~S))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var C=S-this.blockSize,R=this.B,D=this.h,L=0;L<S;){if(D==0)for(;L<=C;)i(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(R[D++]=x.charCodeAt(L++),D==this.blockSize){i(this,R),D=0;break}}else for(;L<S;)if(R[D++]=x[L++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var C=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=C&255,C/=256;for(this.u(x),x=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)x[C++]=this.g[S]>>>R&255;return x};function s(x,S){var C=a;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function o(x,S){this.h=S;for(var C=[],R=!0,D=x.length-1;0<=D;D--){var L=x[D]|0;R&&L==S||(C[D]=L,R=!1)}this.g=C}var a={};function l(x){return-128<=x&&128>x?s(x,function(S){return new o([S|0],0>S?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return d;if(0>x)return I(c(-x));for(var S=[],C=1,R=0;x>=C;R++)S[R]=x/C|0,C*=4294967296;return new o(S,0)}function h(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return I(h(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(S,8)),R=d,D=0;D<x.length;D+=8){var L=Math.min(8,x.length-D),A=parseInt(x.substring(D,D+L),S);8>L?(L=c(Math.pow(S,L)),R=R.j(L).add(c(A))):(R=R.j(C),R=R.add(c(A)))}return R}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-I(this).m();for(var x=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);x+=(0<=R?R:4294967296+R)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(m(this))return"-"+I(this).toString(x);for(var S=c(Math.pow(x,6)),C=this,R="";;){var D=b(C,S).g;C=E(C,D.j(S));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=D,v(C))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function m(x){return x.h==-1}t.l=function(x){return x=E(this,x),m(x)?-1:v(x)?0:1};function I(x){for(var S=x.g.length,C=[],R=0;R<S;R++)C[R]=~x.g[R];return new o(C,~x.h).add(f)}t.abs=function(){return m(this)?I(this):this},t.add=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0,D=0;D<=S;D++){var L=R+(this.i(D)&65535)+(x.i(D)&65535),A=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);R=A>>>16,L&=65535,A&=65535,C[D]=A<<16|L}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(x,S){return x.add(I(S))}t.j=function(x){if(v(this)||v(x))return d;if(m(this))return m(x)?I(this).j(I(x)):I(I(this).j(x));if(m(x))return I(this.j(I(x)));if(0>this.l(p)&&0>x.l(p))return c(this.m()*x.m());for(var S=this.g.length+x.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<x.g.length;D++){var L=this.i(R)>>>16,A=this.i(R)&65535,ie=x.i(D)>>>16,Ne=x.i(D)&65535;C[2*R+2*D]+=A*Ne,y(C,2*R+2*D),C[2*R+2*D+1]+=L*Ne,y(C,2*R+2*D+1),C[2*R+2*D+1]+=A*ie,y(C,2*R+2*D+1),C[2*R+2*D+2]+=L*ie,y(C,2*R+2*D+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function y(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function _(x,S){this.g=x,this.h=S}function b(x,S){if(v(S))throw Error("division by zero");if(v(x))return new _(d,d);if(m(x))return S=b(I(x),S),new _(I(S.g),I(S.h));if(m(S))return S=b(x,I(S)),new _(I(S.g),S.h);if(30<x.g.length){if(m(x)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var C=f,R=S;0>=R.l(x);)C=N(C),R=N(R);var D=O(C,1),L=O(R,1);for(R=O(R,2),C=O(C,2);!v(R);){var A=L.add(R);0>=A.l(x)&&(D=D.add(C),L=A),R=O(R,1),C=O(C,1)}return S=E(x,D.j(S)),new _(D,S)}for(D=d;0<=x.l(S);){for(C=Math.max(1,Math.floor(x.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=c(C),A=L.j(S);m(A)||0<A.l(x);)C-=R,L=c(C),A=L.j(S);v(L)&&(L=f),D=D.add(L),x=E(x,A)}return new _(D,x)}t.A=function(x){return b(this,x).h},t.and=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&x.i(R);return new o(C,this.h&x.h)},t.or=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|x.i(R);return new o(C,this.h|x.h)},t.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^x.i(R);return new o(C,this.h^x.h)};function N(x){for(var S=x.g.length+1,C=[],R=0;R<S;R++)C[R]=x.i(R)<<1|x.i(R-1)>>>31;return new o(C,x.h)}function O(x,S){var C=S>>5;S%=32;for(var R=x.g.length-C,D=[],L=0;L<R;L++)D[L]=0<S?x.i(L+C)>>>S|x.i(L+C+1)<<32-S:x.i(L+C);return new o(D,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ni=o}).apply(typeof dI<"u"?dI:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cC,Sl,dC,Ad,Km,hC,fC,pC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,w){return u==Array.prototype||u==Object.prototype||(u[g]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(u,g){if(g)e:{var w=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var M=u[T];if(!(M in w))break e;w=w[M]}u=u[u.length-1],T=w[u],g=g(T),g!=T&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var w=0,T=!1,M={next:function(){if(!T&&w<u.length){var V=w++;return{value:g(V,u[V]),done:!1}}return T=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,w){return u.call.apply(u.bind,arguments)}function d(u,g,w){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,T),u.apply(g,M)}}return function(){return u.apply(g,arguments)}}function f(u,g,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function p(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var T=w.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function v(u,g){function w(){}w.prototype=g.prototype,u.aa=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(T,M,V){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return g.prototype[M].apply(T,W)}}function m(u){const g=u.length;if(0<g){const w=Array(g);for(let T=0;T<g;T++)w[T]=u[T];return w}return[]}function I(u,g){for(let w=1;w<arguments.length;w++){const T=arguments[w];if(l(T)){const M=u.length||0,V=T.length||0;u.length=M+V;for(let W=0;W<V;W++)u[M+W]=T[W]}else u.push(T)}}class E{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function y(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var N=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(u,g,w){for(const T in u)g.call(w,u[T],T,u)}function x(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function S(u){const g={};for(const w in u)g[w]=u[w];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let w,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(w in T)u[w]=T[w];for(let V=0;V<C.length;V++)w=C[V],Object.prototype.hasOwnProperty.call(T,w)&&(u[w]=T[w])}}function D(u){var g=1;u=u.split(":");const w=[];for(;0<g&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function L(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Y;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,w){const T=Ne.get();T.set(g,w),this.h?this.h.next=T:this.g=T,this.h=T}}var Ne=new E(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,$=!1,Y=new ie,X=()=>{const u=a.Promise.resolve(void 0);Se=()=>{u.then(se)}};var se=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(w){L(w)}var g=Ne;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}$=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return u}();function Ve(u,g){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(N){e:{try{b(g.nodeName);var M=!0;break e}catch{}M=!1}M||(g=null)}}else w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Kt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ve.aa.h.call(this)}}v(Ve,de);var Kt={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),ro=0;function Ua(u,g,w,T,M){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!T,this.ha=M,this.key=++ro,this.da=this.fa=!1}function On(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jr(u){this.src=u,this.g={},this.h=0}jr.prototype.add=function(u,g,w,T,M){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var W=is(u,g,T,M);return-1<W?(g=u[W],w||(g.fa=!1)):(g=new Ua(g,this.src,V,!!T,M),g.fa=w,u.push(g)),g};function io(u,g){var w=g.type;if(w in u.g){var T=u.g[w],M=Array.prototype.indexOf.call(T,g,void 0),V;(V=0<=M)&&Array.prototype.splice.call(T,M,1),V&&(On(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function is(u,g,w,T){for(var M=0;M<u.length;++M){var V=u[M];if(!V.da&&V.listener==g&&V.capture==!!w&&V.ha==T)return M}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),so={};function oo(u,g,w,T,M){if(T&&T.once)return zr(u,g,w,T,M);if(Array.isArray(g)){for(var V=0;V<g.length;V++)oo(u,g[V],w,T,M);return null}return w=rp(w),u&&u[Mt]?u.K(g,w,c(T)?!!T.capture:!!T,M):ao(u,g,w,!1,T,M)}function ao(u,g,w,T,M,V){if(!g)throw Error("Invalid event type");var W=c(M)?!!M.capture:!!M,Ce=tp(u);if(Ce||(u[$r]=Ce=new jr(u)),w=Ce.add(g,w,T,W,V),w.proxy)return w;if(T=Zf(),w.proxy=T,T.src=u,T.listener=w,u.addEventListener)Be||(M=W),M===void 0&&(M=!1),u.addEventListener(g.toString(),T,M);else if(u.attachEvent)u.attachEvent(e_(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Zf(){function u(w){return g.call(u.src,u.listener,w)}const g=PP;return u}function zr(u,g,w,T,M){if(Array.isArray(g)){for(var V=0;V<g.length;V++)zr(u,g[V],w,T,M);return null}return w=rp(w),u&&u[Mt]?u.L(g,w,c(T)?!!T.capture:!!T,M):ao(u,g,w,!0,T,M)}function lo(u,g,w,T,M){if(Array.isArray(g))for(var V=0;V<g.length;V++)lo(u,g[V],w,T,M);else T=c(T)?!!T.capture:!!T,w=rp(w),u&&u[Mt]?(u=u.i,g=String(g).toString(),g in u.g&&(V=u.g[g],w=is(V,w,T,M),-1<w&&(On(V[w]),Array.prototype.splice.call(V,w,1),V.length==0&&(delete u.g[g],u.h--)))):u&&(u=tp(u))&&(g=u.g[g.toString()],u=-1,g&&(u=is(g,w,T,M)),(w=-1<u?g[u]:null)&&ep(w))}function ep(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Mt])io(g.i,u);else{var w=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(w,T,u.capture):g.detachEvent?g.detachEvent(e_(w),T):g.addListener&&g.removeListener&&g.removeListener(T),(w=tp(g))?(io(w,u),w.h==0&&(w.src=null,g[$r]=null)):On(u)}}}function e_(u){return u in so?so[u]:so[u]="on"+u}function PP(u,g){if(u.da)u=!0;else{g=new Ve(g,this);var w=u.listener,T=u.ha||u.src;u.fa&&ep(u),u=w.call(T,g)}return u}function tp(u){return u=u[$r],u instanceof jr?u:null}var np="__closure_events_fn_"+(1e9*Math.random()>>>0);function rp(u){return typeof u=="function"?u:(u[np]||(u[np]=function(g){return u.handleEvent(g)}),u[np])}function St(){te.call(this),this.i=new jr(this),this.M=this,this.F=null}v(St,te),St.prototype[Mt]=!0,St.prototype.removeEventListener=function(u,g,w,T){lo(this,u,g,w,T)};function Vt(u,g){var w,T=u.F;if(T)for(w=[];T;T=T.F)w.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new de(g,u);else if(g instanceof de)g.target=g.target||u;else{var M=g;g=new de(T,u),R(g,M)}if(M=!0,w)for(var V=w.length-1;0<=V;V--){var W=g.g=w[V];M=mc(W,T,!0,g)&&M}if(W=g.g=u,M=mc(W,T,!0,g)&&M,M=mc(W,T,!1,g)&&M,w)for(V=0;V<w.length;V++)W=g.g=w[V],M=mc(W,T,!1,g)&&M}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var w=u.g[g],T=0;T<w.length;T++)On(w[T]);delete u.g[g],u.h--}}this.F=null},St.prototype.K=function(u,g,w,T){return this.i.add(String(u),g,!1,w,T)},St.prototype.L=function(u,g,w,T){return this.i.add(String(u),g,!0,w,T)};function mc(u,g,w,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var M=!0,V=0;V<g.length;++V){var W=g[V];if(W&&!W.da&&W.capture==w){var Ce=W.listener,pt=W.ha||W.src;W.fa&&io(u.i,W),M=Ce.call(pt,T)!==!1&&M}}return M&&!T.defaultPrevented}function t_(u,g,w){if(typeof u=="function")w&&(u=f(u,w));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function n_(u){u.g=t_(()=>{u.g=null,u.i&&(u.i=!1,n_(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class DP extends te{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:n_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(u){te.call(this),this.h=u,this.g={}}v(Ba,te);var r_=[];function i_(u){O(u.g,function(g,w){this.g.hasOwnProperty(w)&&ep(g)},u),u.g={}}Ba.prototype.N=function(){Ba.aa.N.call(this),i_(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ip=a.JSON.stringify,NP=a.JSON.parse,kP=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function sp(){}sp.prototype.h=null;function s_(u){return u.h||(u.h=u.i())}function o_(){}var ja={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function op(){de.call(this,"d")}v(op,de);function ap(){de.call(this,"c")}v(ap,de);var ss={},a_=null;function vc(){return a_=a_||new St}ss.La="serverreachability";function l_(u){de.call(this,ss.La,u)}v(l_,de);function $a(u){const g=vc();Vt(g,new l_(g))}ss.STAT_EVENT="statevent";function u_(u,g){de.call(this,ss.STAT_EVENT,u),this.stat=g}v(u_,de);function Ft(u){const g=vc();Vt(g,new u_(g,u))}ss.Ma="timingevent";function c_(u,g){de.call(this,ss.Ma,u),this.size=g}v(c_,de);function za(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function Wa(){this.g=!0}Wa.prototype.xa=function(){this.g=!1};function OP(u,g,w,T,M,V){u.info(function(){if(u.g)if(V)for(var W="",Ce=V.split("&"),pt=0;pt<Ce.length;pt++){var we=Ce[pt].split("=");if(1<we.length){var bt=we[0];we=we[1];var Tt=bt.split("_");W=2<=Tt.length&&Tt[1]=="type"?W+(bt+"="+we+"&"):W+(bt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+g+`
`+w+`
`+W})}function LP(u,g,w,T,M,V,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+g+`
`+w+`
`+V+" "+W})}function uo(u,g,w,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+VP(u,w)+(T?" "+T:"")})}function MP(u,g){u.info(function(){return"TIMEOUT: "+g})}Wa.prototype.info=function(){};function VP(u,g){if(!u.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var T=w[u];if(!(2>T.length)){var M=T[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return ip(w)}catch{return g}}var yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},d_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lp;function wc(){}v(wc,sp),wc.prototype.g=function(){return new XMLHttpRequest},wc.prototype.i=function(){return{}},lp=new wc;function Wr(u,g,w,T){this.j=u,this.i=g,this.l=w,this.R=T||1,this.U=new Ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new h_}function h_(){this.i=null,this.g="",this.h=!1}var f_={},up={};function cp(u,g,w){u.L=1,u.v=Sc(yr(g)),u.m=w,u.P=!0,p_(u,null)}function p_(u,g){u.F=Date.now(),_c(u),u.A=yr(u.v);var w=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),R_(w.i,"t",T),u.C=0,w=u.j.J,u.h=new h_,u.g=q_(u.j,w?g:null,!u.m),0<u.O&&(u.M=new DP(f(u.Y,u,u.g),u.O)),g=u.U,w=u.g,T=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(r_[0]=M.toString()),M=r_);for(var V=0;V<M.length;V++){var W=oo(w,M[V],T||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),$a(),OP(u.i,u.u,u.A,u.l,u.R,u.m)}Wr.prototype.ca=function(u){u=u.target;const g=this.M;g&&wr(u)==3?g.j():this.Y(u)},Wr.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=wr(this.g);var g=this.g.Ba();const fo=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||L_(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=fo?$a(3):$a(2)),dp(this);var w=this.g.Z();this.X=w;t:if(g_(this)){var T=L_(this.g);u="";var M=T.length,V=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),Ha(this);var W="";break t}this.h.i=new a.TextDecoder}for(g=0;g<M;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(V&&g==M-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=w==200,LP(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,pt=this.g;if((Ce=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ce)){var we=Ce;break t}}we=null}if(w=we)uo(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hp(this,w);else{this.o=!1,this.s=3,Ft(12),os(this),Ha(this);break e}}if(this.P){w=!0;let Ln;for(;!this.J&&this.C<W.length;)if(Ln=FP(this,W),Ln==up){Tt==4&&(this.s=4,Ft(14),w=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==f_){this.s=4,Ft(15),uo(this.i,this.l,W,"[Invalid Chunk]"),w=!1;break}else uo(this.i,this.l,Ln,null),hp(this,Ln);if(g_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||W.length!=0||this.h.h||(this.s=1,Ft(16),w=!1),this.o=this.o&&w,!w)uo(this.i,this.l,W,"[Invalid Chunked Response]"),os(this),Ha(this);else if(0<W.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),yp(bt),bt.M=!0,Ft(11))}}else uo(this.i,this.l,W,null),hp(this,W);Tt==4&&os(this),this.o&&!this.J&&(Tt==4?$_(this.j,this):(this.o=!1,_c(this)))}else tD(this.g),w==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),os(this),Ha(this)}}}catch{}finally{}};function g_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function FP(u,g){var w=u.C,T=g.indexOf(`
`,w);return T==-1?up:(w=Number(g.substring(w,T)),isNaN(w)?f_:(T+=1,T+w>g.length?up:(g=g.slice(T,T+w),u.C=T+w,g)))}Wr.prototype.cancel=function(){this.J=!0,os(this)};function _c(u){u.S=Date.now()+u.I,m_(u,u.I)}function m_(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=za(f(u.ba,u),g)}function dp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Wr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(MP(this.i,this.A),this.L!=2&&($a(),Ft(17)),os(this),this.s=2,Ha(this)):m_(this,this.S-u)};function Ha(u){u.j.G==0||u.J||$_(u.j,u)}function os(u){dp(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,i_(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function hp(u,g){try{var w=u.j;if(w.G!=0&&(w.g==u||fp(w.h,u))){if(!u.K&&fp(w.h,u)&&w.G==3){try{var T=w.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Ac(w),Cc(w);else break e;vp(w),Ft(18)}}else w.za=M[1],0<w.za-w.T&&37500>M[2]&&w.F&&w.v==0&&!w.C&&(w.C=za(f(w.Za,w),6e3));if(1>=w_(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ls(w,11)}else if((u.K||w.g==u)&&Ac(w),!y(g))for(M=w.Da.g.parse(g),g=0;g<M.length;g++){let we=M[g];if(w.T=we[0],we=we[1],w.G==2)if(we[0]=="c"){w.K=we[1],w.ia=we[2];const bt=we[3];bt!=null&&(w.la=bt,w.j.info("VER="+w.la));const Tt=we[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const fo=we[5];fo!=null&&typeof fo=="number"&&0<fo&&(T=1.5*fo,w.L=T,w.j.info("backChannelRequestTimeoutMs_="+T)),T=w;const Ln=u.g;if(Ln){const Dc=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dc){var V=T.h;V.g||Dc.indexOf("spdy")==-1&&Dc.indexOf("quic")==-1&&Dc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(pp(V,V.h),V.h=null))}if(T.D){const wp=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;wp&&(T.ya=wp,ke(T.I,T.D,wp))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),T=w;var W=u;if(T.qa=H_(T,T.J?T.ia:null,T.W),W.K){__(T.h,W);var Ce=W,pt=T.L;pt&&(Ce.I=pt),Ce.B&&(dp(Ce),_c(Ce)),T.g=W}else B_(T);0<w.i.length&&Rc(w)}else we[0]!="stop"&&we[0]!="close"||ls(w,7);else w.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?ls(w,7):mp(w):we[0]!="noop"&&w.l&&w.l.ta(we),w.v=0)}}$a(4)}catch{}}var UP=class{constructor(u,g){this.g=u,this.map=g}};function v_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function y_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function w_(u){return u.h?1:u.g?u.g.size:0}function fp(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function pp(u,g){u.g?u.g.add(g):u.h=g}function __(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}v_.prototype.cancel=function(){if(this.i=E_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function E_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.D);return g}return m(u.i)}function BP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],w=u.length,T=0;T<w;T++)g.push(u[T]);return g}g=[],w=0;for(T in u)g[w++]=u[T];return g}function jP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var w=0;w<u;w++)g.push(w);return g}g=[],w=0;for(const T in u)g[w++]=T;return g}}}function I_(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var w=jP(u),T=BP(u),M=T.length,V=0;V<M;V++)g.call(void 0,T[V],w&&w[V],u)}var S_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $P(u,g){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var T=u[w].indexOf("="),M=null;if(0<=T){var V=u[w].substring(0,T);M=u[w].substring(T+1)}else V=u[w];g(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function as(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof as){this.h=u.h,Ec(this,u.j),this.o=u.o,this.g=u.g,Ic(this,u.s),this.l=u.l;var g=u.i,w=new Ka;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),b_(this,w),this.m=u.m}else u&&(g=String(u).match(S_))?(this.h=!1,Ec(this,g[1]||"",!0),this.o=qa(g[2]||""),this.g=qa(g[3]||"",!0),Ic(this,g[4]),this.l=qa(g[5]||"",!0),b_(this,g[6]||"",!0),this.m=qa(g[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}as.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Ga(g,T_,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ga(g,T_,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Ga(w,w.charAt(0)=="/"?HP:WP,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Ga(w,GP)),u.join("")};function yr(u){return new as(u)}function Ec(u,g,w){u.j=w?qa(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ic(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function b_(u,g,w){g instanceof Ka?(u.i=g,KP(u.i,u.h)):(w||(g=Ga(g,qP)),u.i=new Ka(g,u.h))}function ke(u,g,w){u.i.set(g,w)}function Sc(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qa(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ga(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,zP),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var T_=/[#\/\?@]/g,WP=/[#\?:]/g,HP=/[#\?]/g,qP=/[#\?@]/g,GP=/#/g;function Ka(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Hr(u){u.g||(u.g=new Map,u.h=0,u.i&&$P(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=Ka.prototype,t.add=function(u,g){Hr(this),this.i=null,u=co(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function x_(u,g){Hr(u),g=co(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function C_(u,g){return Hr(u),g=co(u,g),u.g.has(g)}t.forEach=function(u,g){Hr(this),this.g.forEach(function(w,T){w.forEach(function(M){u.call(g,M,T,this)},this)},this)},t.na=function(){Hr(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let T=0;T<g.length;T++){const M=u[T];for(let V=0;V<M.length;V++)w.push(g[T])}return w},t.V=function(u){Hr(this);let g=[];if(typeof u=="string")C_(this,u)&&(g=g.concat(this.g.get(co(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)g=g.concat(u[w])}return g},t.set=function(u,g){return Hr(this),this.i=null,u=co(this,u),C_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function R_(u,g,w){x_(u,g),0<w.length&&(u.i=null,u.g.set(co(u,g),m(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var T=g[w];const V=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var M=V;W[T]!==""&&(M+="="+encodeURIComponent(String(W[T]))),u.push(M)}}return this.i=u.join("&")};function co(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function KP(u,g){g&&!u.j&&(Hr(u),u.i=null,u.g.forEach(function(w,T){var M=T.toLowerCase();T!=M&&(x_(this,T),R_(this,M,w))},u)),u.j=g}function QP(u,g){const w=new Wa;if(a.Image){const T=new Image;T.onload=p(qr,w,"TestLoadImage: loaded",!0,g,T),T.onerror=p(qr,w,"TestLoadImage: error",!1,g,T),T.onabort=p(qr,w,"TestLoadImage: abort",!1,g,T),T.ontimeout=p(qr,w,"TestLoadImage: timeout",!1,g,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function YP(u,g){const w=new Wa,T=new AbortController,M=setTimeout(()=>{T.abort(),qr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(V=>{clearTimeout(M),V.ok?qr(w,"TestPingServer: ok",!0,g):qr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),qr(w,"TestPingServer: error",!1,g)})}function qr(u,g,w,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(w)}catch{}}function XP(){this.g=new kP}function JP(u,g,w){const T=w||"";try{I_(u,function(M,V){let W=M;c(M)&&(W=ip(M)),g.push(T+V+"="+encodeURIComponent(W))})}catch(M){throw g.push(T+"type="+encodeURIComponent("_badmap")),M}}function bc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(bc,sp),bc.prototype.g=function(){return new Tc(this.l,this.j)},bc.prototype.i=function(u){return function(){return u}}({});function Tc(u,g){St.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Tc,St),t=Tc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ya(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function A_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Qa(this):Ya(this),this.readyState==3&&A_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Qa(this))},t.Qa=function(u){this.g&&(this.response=u,Qa(this))},t.ga=function(){this.g&&Qa(this)};function Qa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ya(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function Ya(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function P_(u){let g="";return O(u,function(w,T){g+=T,g+=":",g+=w,g+=`\r
`}),g}function gp(u,g,w){e:{for(T in w){var T=!1;break e}T=!0}T||(w=P_(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):ke(u,g,w))}function qe(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(qe,St);var ZP=/^https?$/i,eD=["POST","PUT"];t=qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,w,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lp.g(),this.v=this.o?s_(this.o):s_(lp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(V){D_(this,V);return}if(u=w||"",w=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)w.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const V of T.keys())w.set(V,T.get(V));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(w.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eD,g,void 0))||T||M||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of w)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{O_(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){D_(this,V)}};function D_(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,N_(u),xc(u)}function N_(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Vt(this,"complete"),Vt(this,"abort"),xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xc(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?k_(this):this.bb())},t.bb=function(){k_(this)};function k_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||wr(u)!=4||u.Z()!=2)){if(u.u&&wr(u)==4)t_(u.Ea,0,u);else if(Vt(u,"readystatechange"),wr(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var T;if(T=W===0){var M=String(u.D).match(S_)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),T=!ZP.test(M?M.toLowerCase():"")}w=T}if(w)Vt(u,"complete"),Vt(u,"success");else{u.m=6;try{var V=2<wr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",N_(u)}}finally{xc(u)}}}}function xc(u,g){if(u.g){O_(u);const w=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Vt(u,"ready");try{w.onreadystatechange=T}catch{}}}function O_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),NP(g)}};function L_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tD(u){const g={};u=(u.g&&2<=wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(y(u[T]))continue;var w=D(u[T]);const M=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const V=g[M]||[];g[M]=V,V.push(w)}x(g,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function M_(u){this.Aa=0,this.i=[],this.j=new Wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,u),this.cb=Xa("retryDelaySeedMs",1e4,u),this.Wa=Xa("forwardChannelMaxRetries",2,u),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new v_(u&&u.concurrentRequestLimit),this.Da=new XP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=M_.prototype,t.la=8,t.G=1,t.connect=function(u,g,w,T){Ft(0),this.W=u,this.H=g||{},w&&T!==void 0&&(this.H.OSID=w,this.H.OAID=T),this.F=this.X,this.I=H_(this,null,this.W),Rc(this)};function mp(u){if(V_(u),u.G==3){var g=u.U++,w=yr(u.I);if(ke(w,"SID",u.K),ke(w,"RID",g),ke(w,"TYPE","terminate"),Ja(u,w),g=new Wr(u,u.j,g),g.L=2,g.v=Sc(yr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=q_(g.j,null),g.g.ea(g.v)),g.F=Date.now(),_c(g)}W_(u)}function Cc(u){u.g&&(yp(u),u.g.cancel(),u.g=null)}function V_(u){Cc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ac(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Rc(u){if(!y_(u.h)&&!u.s){u.s=!0;var g=u.Ga;Se||X(),$||(Se(),$=!0),Y.add(g,u),u.B=0}}function nD(u,g){return w_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=za(f(u.Ga,u,g),z_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Wr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=S(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var T=this.i[w];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=U_(this,M,g),w=yr(this.I),ke(w,"RID",u),ke(w,"CVER",22),this.D&&ke(w,"X-HTTP-Session-Id",this.D),Ja(this,w),V&&(this.O?g="headers="+encodeURIComponent(String(P_(V)))+"&"+g:this.m&&gp(w,this.m,V)),pp(this.h,M),this.Ua&&ke(w,"TYPE","init"),this.P?(ke(w,"$req",g),ke(w,"SID","null"),M.T=!0,cp(M,w,null)):cp(M,w,g),this.G=2}}else this.G==3&&(u?F_(this,u):this.i.length==0||y_(this.h)||F_(this))};function F_(u,g){var w;g?w=g.l:w=u.U++;const T=yr(u.I);ke(T,"SID",u.K),ke(T,"RID",w),ke(T,"AID",u.T),Ja(u,T),u.m&&u.o&&gp(T,u.m,u.o),w=new Wr(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),g&&(u.i=g.D.concat(u.i)),g=U_(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pp(u.h,w),cp(w,T,g)}function Ja(u,g){u.H&&O(u.H,function(w,T){ke(g,T,w)}),u.l&&I_({},function(w,T){ke(g,T,w)})}function U_(u,g,w){w=Math.min(u.i.length,w);var T=u.l?f(u.l.Na,u.l,u):null;e:{var M=u.i;let V=-1;for(;;){const W=["count="+w];V==-1?0<w?(V=M[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Ce=!0;for(let pt=0;pt<w;pt++){let we=M[pt].g;const bt=M[pt].map;if(we-=V,0>we)V=Math.max(0,M[pt].g-100),Ce=!1;else try{JP(bt,W,"req"+we+"_")}catch{T&&T(bt)}}if(Ce){T=W.join("&");break e}}}return u=u.i.splice(0,w),g.D=u,T}function B_(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Se||X(),$||(Se(),$=!0),Y.add(g,u),u.v=0}}function vp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=za(f(u.Fa,u),z_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,j_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=za(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Cc(this),j_(this))};function yp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function j_(u){u.g=new Wr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=yr(u.qa);ke(g,"RID","rpc"),ke(g,"SID",u.K),ke(g,"AID",u.T),ke(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(g,"TO",u.ja),ke(g,"TYPE","xmlhttp"),Ja(u,g),u.m&&u.o&&gp(g,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Sc(yr(g)),w.m=null,w.P=!0,p_(w,u)}t.Za=function(){this.C!=null&&(this.C=null,Cc(this),vp(this),Ft(19))};function Ac(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $_(u,g){var w=null;if(u.g==g){Ac(u),yp(u),u.g=null;var T=2}else if(fp(u.h,g))w=g.D,__(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var M=u.B;T=vc(),Vt(T,new c_(T,w)),Rc(u)}else B_(u);else if(M=g.s,M==3||M==0&&0<g.X||!(T==1&&nD(u,g)||T==2&&vp(u)))switch(w&&0<w.length&&(g=u.h,g.i=g.i.concat(w)),M){case 1:ls(u,5);break;case 4:ls(u,10);break;case 3:ls(u,6);break;default:ls(u,2)}}}function z_(u,g){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*g}function ls(u,g){if(u.j.info("Error code "+g),g==2){var w=f(u.fb,u),T=u.Xa;const M=!T;T=new as(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ec(T,"https"),Sc(T),M?QP(T.toString(),w):YP(T.toString(),w)}else Ft(2);u.G=0,u.l&&u.l.sa(g),W_(u),V_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function W_(u){if(u.G=0,u.ka=[],u.l){const g=E_(u.h);(g.length!=0||u.i.length!=0)&&(I(u.ka,g),I(u.ka,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.ra()}}function H_(u,g,w){var T=w instanceof as?yr(w):new as(w);if(T.g!="")g&&(T.g=g+"."+T.g),Ic(T,T.s);else{var M=a.location;T=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;var V=new as(null);T&&Ec(V,T),g&&(V.g=g),M&&Ic(V,M),w&&(V.l=w),T=V}return w=u.D,g=u.ya,w&&g&&ke(T,w,g),ke(T,"VER",u.la),Ja(u,T),T}function q_(u,g,w){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new qe(new bc({eb:w})):new qe(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function G_(){}t=G_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pc(){}Pc.prototype.g=function(u,g){return new on(u,g)};function on(u,g){St.call(this),this.g=new M_(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!y(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!y(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ho(this)}v(on,St),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){mp(this.g)},on.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=ip(u),u=w);g.i.push(new UP(g.Ya++,u)),g.G==3&&Rc(g)},on.prototype.N=function(){this.g.l=null,delete this.j,mp(this.g),delete this.g,on.aa.N.call(this)};function K_(u){op.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}v(K_,op);function Q_(){ap.call(this),this.status=1}v(Q_,ap);function ho(u){this.g=u}v(ho,G_),ho.prototype.ua=function(){Vt(this.g,"a")},ho.prototype.ta=function(u){Vt(this.g,new K_(u))},ho.prototype.sa=function(u){Vt(this.g,new Q_)},ho.prototype.ra=function(){Vt(this.g,"b")},Pc.prototype.createWebChannel=Pc.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,pC=function(){return new Pc},fC=function(){return vc()},hC=ss,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,Ad=yc,d_.COMPLETE="complete",dC=d_,o_.EventType=ja,ja.OPEN="a",ja.CLOSE="b",ja.ERROR="c",ja.MESSAGE="d",St.prototype.listen=St.prototype.K,Sl=o_,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,cC=qe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const hI="@firebase/firestore",fI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new by("@firebase/firestore");function _o(){return qs.logLevel}function G(t,...e){if(qs.logLevel<=he.DEBUG){const n=e.map(Ly);qs.debug(`Firestore (${Da}): ${t}`,...n)}}function Vr(t,...e){if(qs.logLevel<=he.ERROR){const n=e.map(Ly);qs.error(`Firestore (${Da}): ${t}`,...n)}}function ga(t,...e){if(qs.logLevel<=he.WARN){const n=e.map(Ly);qs.warn(`Firestore (${Da}): ${t}`,...n)}}function Ly(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gC(t,r,n)}function gC(t,e,n){let r=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vr(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||gC(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class vF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yF{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new mC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class wF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _F{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Qm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ng(i)===ng(s)?fe(i,s):ng(i)?1:-1}return fe(t.length,e.length)}const SF=55296,bF=57343;function ng(t){const e=t.charCodeAt(0);return e>=SF&&e<=bF}function ma(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="__name__";class er{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=er.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return fe(e.length,n.length)}static compareSegments(e,n){const r=er.isNumericId(e),i=er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?er.extractNumericId(e).compare(er.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class Pe extends er{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const TF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends er{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return TF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gI}static keyField(){return new yt([gI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Pe.fromString(e))}static fromName(e){return new Z(Pe.fromString(e).popFirst(5))}static empty(){return new Z(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xF(t,e,n,r){if(e===!0&&r===!0)throw new H(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mI(t){if(!Z.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vI(t){if(Z.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new H(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function CF(t,e){if(e<=0)throw new H(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zu(t,e){if(!yC(t))throw new H(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new H(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=-62135596800,wI=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wI);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yI)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wI}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zu(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:it("string",Le._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Le(0,0))}static max(){return new ae(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function RF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new ji(i,Z.empty(),e)}function AF(t){return new ji(t.readTime,t.key,gu)}class ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(ae.min(),Z.empty(),gu)}static max(){return new ji(ae.max(),Z.empty(),gu)}}function PF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==DF)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function pf(t){return t==null}function wh(t){return t===0&&1/t==-1/0}function OF(t){return typeof t=="number"&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="";function LF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_I(e)),e=MF(t.get(n),e);return _I(e)}function MF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case wC:n+="";break;default:n+=s}}return n}function _I(t){return t+wC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _C(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(e){return new II(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class II{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new un([])}unionWith(e){let n=new lt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new EC("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const VF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=VF.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="server_timestamp",SC="__type__",bC="__previous_value__",TC="__local_write_time__";function Fy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SC])==null?void 0:r.stringValue)===IC}function gf(t){const e=t.mapValue.fields[bC];return Fy(e)?gf(e):e}function mu(t){const e=$i(t.mapValue.fields[TC].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const _h="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="__type__",CC="__max__",td={mapValue:{fields:{__type__:{stringValue:CC}}}},RC="__vector__",Eh="value";function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fy(t)?4:BF(t)?9007199254740991:UF(t)?10:11:re(28295,{value:t})}function mr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$i(i.timestampValue),a=$i(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zi(i.bytesValue).isEqual(zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ma(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(EI(o)!==EI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function yu(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return SI(t.timestampValue,e.timestampValue);case 4:return SI(mu(t),mu(e));case 5:return Qm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zi(s),l=zi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=fe(a[c],l[c]);if(h!==0)return h}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Xe(s.latitude),Xe(o.latitude));return a!==0?a:fe(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bI(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,p,v,m;const a=s.fields||{},l=o.fields||{},c=(f=a[Eh])==null?void 0:f.arrayValue,h=(p=l[Eh])==null?void 0:p.arrayValue,d=fe(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((m=h==null?void 0:h.values)==null?void 0:m.length)||0);return d!==0?d:bI(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===td.mapValue&&o===td.mapValue)return 0;if(s===td.mapValue)return 1;if(o===td.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Qm(l[d],h[d]);if(f!==0)return f;const p=va(a[l[d]],c[h[d]]);if(p!==0)return p}return fe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function SI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=$i(t),r=$i(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function bI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=va(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function ya(t){return Ym(t)}function Ym(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ym(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ym(n.fields[o])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function Pd(t){switch(Wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Pd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return es(r.fields,(s,o)=>{i+=s.length+Pd(o)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function TI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xm(t){return!!t&&"integerValue"in t}function Uy(t){return!!t&&"arrayValue"in t}function xI(t){return!!t&&"nullValue"in t}function CI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dd(t){return!!t&&"mapValue"in t}function UF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xC])==null?void 0:r.stringValue)===RC}function Ul(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(t.arrayValue.values[n]);return e}return{...t}}function BF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ul(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){es(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new en(Ul(this.value))}}function AC(t){const e=[];return es(t.fields,(n,r)=>{const i=new yt([n]);if(Dd(r)){const s=AC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ae.min(),ae.min(),ae.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,ae.min(),ae.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ae.min(),ae.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function RI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=va(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function AI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{}class rt extends PC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zF(e,n,r):n==="array-contains"?new qF(e,r):n==="in"?new GF(e,r):n==="not-in"?new KF(e,r):n==="array-contains-any"?new QF(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WF(e,r):new HF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(va(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends PC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return DC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DC(t){return t.op==="and"}function NC(t){return $F(t)&&DC(t)}function $F(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Jm(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(NC(t))return t.filters.map(e=>Jm(e)).join(",");{const e=t.filters.map(n=>Jm(n)).join(",");return`${t.op}(${e})`}}function kC(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kC(o,i.filters[a]),!0):!1}(t,e):void re(19439)}function OC(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(OC).join(" ,")+"}"}(t):"Filter"}class zF extends rt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class WF extends rt{constructor(e,n){super(e,"in",n),this.keys=LC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HF extends rt{constructor(e,n){super(e,"not-in",n),this.keys=LC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class qF extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uy(n)&&yu(n.arrayValue,this.value)}}class GF extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class KF extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class QF extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function PI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new YF(t,e,n,r,i,s,o)}function By(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.Te=n}return e.Te}function jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AI(t.startAt,e.startAt)&&AI(t.endAt,e.endAt)}function Zm(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XF(t,e,n,r,i,s,o,a){return new Oa(t,e,n,r,i,s,o,a)}function $y(t){return new Oa(t)}function DI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MC(t){return t.collectionGroup!==null}function Bl(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new wu(s,r))}),n.has(yt.keyField().canonicalString())||e.Ie.push(new wu(yt.keyField(),r))}return e.Ie}function hr(t){const e=le(t);return e.Ee||(e.Ee=JF(e,Bl(t))),e.Ee}function JF(t,e){if(t.limitType==="F")return PI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wu(i.field,s)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return PI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sh(t,e,n){return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return jy(hr(t),hr(e))&&t.limitType===e.limitType}function VC(t){return`${By(hr(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OC(i)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Bl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=RI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Bl(r),i)||r.endAt&&!function(o,a,l){const c=RI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Bl(r),i))}(t,e)}function ZF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FC(t){return(e,n)=>{let r=!1;for(const i of Bl(t)){const s=eU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eU(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?va(l,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _C(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new He(Z.comparator);function Fr(){return tU}const UC=new He(Z.comparator);function bl(...t){let e=UC;for(const n of t)e=e.insert(n.key,n);return e}function BC(t){let e=UC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ws(){return jl()}function jC(){return jl()}function jl(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const nU=new He(Z.comparator),rU=new lt(Z.comparator);function pe(...t){let e=rU;for(const n of t)e=e.add(n);return e}const iU=new lt(fe);function sU(){return iU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function $C(t){return{integerValue:""+t}}function oU(t,e){return OF(e)?$C(e):zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function aU(t,e,n){return t instanceof bh?function(i,s){const o={fields:{[SC]:{stringValue:IC},[TC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fy(s)&&(s=gf(s)),s&&(o.fields[bC]=s),{mapValue:o}}(n,e):t instanceof _u?WC(t,e):t instanceof Eu?HC(t,e):function(i,s){const o=zC(i,s),a=NI(o)+NI(i.Ae);return Xm(o)&&Xm(i.Ae)?$C(a):zy(i.serializer,a)}(t,e)}function lU(t,e,n){return t instanceof _u?WC(t,e):t instanceof Eu?HC(t,e):n}function zC(t,e){return t instanceof Th?function(r){return Xm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bh extends yf{}class _u extends yf{constructor(e){super(),this.elements=e}}function WC(t,e){const n=qC(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends yf{constructor(e){super(),this.elements=e}}function HC(t,e){let n=qC(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class Th extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function NI(t){return Xe(t.integerValue||t.doubleValue)}function qC(t){return Uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _u&&i instanceof _u||r instanceof Eu&&i instanceof Eu?ma(r.elements,i.elements,mr):r instanceof Th&&i instanceof Th?mr(r.Ae,i.Ae):r instanceof bh&&i instanceof bh}(t.transform,e.transform)}class cU{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function GC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wy(t.key,An.none()):new ec(t.key,t.data,An.none());{const n=t.data,r=en.empty();let i=new lt(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ts(t.key,r,new un(i.toArray()),An.none())}}function dU(t,e,n){t instanceof ec?function(i,s,o){const a=i.value.clone(),l=OI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ts?function(i,s,o){if(!Nd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=OI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $l(t,e,n,r){return t instanceof ec?function(s,o,a,l){if(!Nd(s.precondition,o))return a;const c=s.value.clone(),h=LI(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ts?function(s,o,a,l){if(!Nd(s.precondition,o))return a;const c=LI(s.fieldTransforms,l,o),h=o.data;return h.setAll(KC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Nd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zC(r.transform,i||null);s!=null&&(n===null&&(n=en.empty()),n.set(r.field,s))}return n||null}function kI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ma(r,i,(s,o)=>uU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ec extends wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ts extends wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OI(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lU(o,a,n[i]))}return r}function LI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,aU(s,o,e))}return r}class Wy extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fU extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=GC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(n,r)=>kI(n,r))&&ma(this.baseMutations,e.baseMutations,(n,r)=>kI(n,r))}}class Hy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return nU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,me;function vU(t){switch(t){case U.OK:return re(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function QC(t){if(t===void 0)return Vr("GRPC error has no .code"),U.UNKNOWN;switch(t){case tt.OK:return U.OK;case tt.CANCELLED:return U.CANCELLED;case tt.UNKNOWN:return U.UNKNOWN;case tt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case tt.INTERNAL:return U.INTERNAL;case tt.UNAVAILABLE:return U.UNAVAILABLE;case tt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case tt.NOT_FOUND:return U.NOT_FOUND;case tt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case tt.ABORTED:return U.ABORTED;case tt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case tt.DATA_LOSS:return U.DATA_LOSS;default:return re(39323,{code:t})}}(me=tt||(tt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Ni([4294967295,4294967295],0);function MI(t){const e=yU().encode(t),n=new uC;return n.update(e),new Uint8Array(n.digest())}function VI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([i,s],0)]}class qy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ni.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ni.fromNumber(r)));return i.compare(wU)===1&&(i=new Ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=MI(e),[r,i]=VI(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=MI(e),[r,i]=VI(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(ae.min(),i,new He(fe),Fr(),pe())}}class tc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class YC{constructor(e,n){this.targetId=e,this.Ce=n}}class XC{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FI{constructor(){this.ve=0,this.Fe=UI(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:s})}}),new tc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=UI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _U{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.Je=nd(),this.He=nd(),this.Ye=new He(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Zm(s))if(r===0){const o=new Z(s.path);this.et(n,o,Nt.newNoDocument(o,ae.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zi(r).toUint8Array()}catch(l){if(l instanceof EC)return ga("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qy(o,i,s)}catch(l){return ga(l instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Zm(a.target)){const l=new Z(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Nt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=pe();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new _f(e,n,this.Ye,this.je,r);return this.je=Fr(),this.Je=nd(),this.He=nd(),this.Ye=new He(fe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nd(){return new He(Z.comparator)}function UI(){return new He(Z.comparator)}const EU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),IU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),SU=(()=>({and:"AND",or:"OR"}))();class bU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TU(t,e){return xh(t,e.toTimestamp())}function fr(t){return Ie(!!t,49232),ae.fromTimestamp(function(n){const r=$i(n);return new Le(r.seconds,r.nanos)}(t))}function Gy(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZC(t){const e=Pe.fromString(t);return Ie(iR(e),10190,{key:e.toString()}),e}function rv(t,e){return Gy(t.databaseId,e.path)}function rg(t,e){const n=ZC(e);if(n.get(1)!==t.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(tR(n))}function eR(t,e){return Gy(t.databaseId,e)}function xU(t){const e=ZC(t);return e.length===4?Pe.emptyPath():tR(e)}function iv(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tR(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BI(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function CU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:QC(c.code);return new H(h,c.message||"")}(o);n=new XC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rg(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):ae.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new kd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rg(t,r.document),s=r.readTime?fr(r.readTime):ae.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rg(t,r.document),s=r.removedTargetIds||[];n=new kd([],s,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mU(i,s),a=r.targetId;n=new YC(a,o)}}return n}function RU(t,e){let n;if(e instanceof ec)n={update:BI(t,e.key,e.value)};else if(e instanceof Wy)n={delete:rv(t,e.key)};else if(e instanceof ts)n={update:BI(t,e.key,e.data),updateMask:VU(e.fieldMask)};else{if(!(e instanceof fU))return re(16599,{Vt:e.type});n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _u)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Th)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re(27497)}(t,e.precondition)),n}function AU(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(ae.min())&&(o=fr(s)),new cU(o,i.transformResults||[])}(n,e))):[]}function PU(t,e){return{documents:[eR(t,e.path)]}}function DU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eR(t,i);const s=function(c){if(c.length!==0)return rR(Qn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Io(f.field),direction:OU(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function NU(t){let e=xU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=nR(d);return f instanceof Qn&&NC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new wu(So(v.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,pf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Ih(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new Ih(p,f)}(n.endAt)),XF(e,i,o,s,a,"F",l,c)}function kU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=So(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=So(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(So(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>nR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function OU(t){return EU[t]}function LU(t){return IU[t]}function MU(t){return SU[t]}function Io(t){return{fieldPath:t.canonicalString()}}function So(t){return yt.fromServerFormat(t.fieldPath)}function rR(t){return t instanceof rt?function(n){if(n.op==="=="){if(CI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(xI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(xI(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:LU(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(i=>rR(i));return r.length===1?r[0]:{compositeFilter:{op:MU(n.op),filters:r}}}(t):re(54877,{filter:t})}function VU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.yt=e}}function UU(t){const e=NU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.Cn=new jU}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ji.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class jU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sR=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(sR,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wa(0)}static cr(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="LruGarbageCollector",$U=1048576;function zI([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class zU{constructor(e){this.Ir=e,this.buffer=new lt(zI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G($I,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?G($I,"Ignoring IndexedDB error during garbage collection: ",n):await Na(n)}await this.Vr(3e5)})}}class HU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ff.ce);const r=new zU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(jI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),_o()<=he.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function qU(t,e){return new HU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$l(r.mutation,i,un.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fr();const o=jl(),a=function(){return jl()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ts)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),$l(h.mutation,c,h.mutation.getFieldMask(),Le.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new KU(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=jl();let i=new He((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||un.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=jC();h.forEach(f=>{if(!s.has(f)){const p=GC(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(ws());let a=gu,l=s;return o.next(c=>B.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,pe())).next(h=>({batchId:a,changes:BC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bl();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(d,f){return new Oa(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Nt.newInvalidDocument(h)))});let a=bl();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&$l(h.mutation,c,un.empty(),Le.now()),vf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:UU(i.bundledQuery),readTime:fr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.overlays=new He(Z.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ws();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ws(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ws(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ws(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return B.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gU(n,r));let s=this.qr.get(n);s===void 0&&(s=pe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Qr=new lt(ut.$r),this.Ur=new lt(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new Pe([])),r=new ut(n,e),i=new ut(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new Pe([])),r=new ut(n,e),i=new ut(n,e+1);let s=pe();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(ut.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Vy:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(fe);return n.forEach(i=>{const s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new ut(new Z(s),0);let a=new lt(fe);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const s=new ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.ri=e,this.docs=function(){return new He(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fr();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PF(AF(h),r)<=0||(i.has(h.key)||vf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t4(this)}getSize(e){return B.resolve(this.size)}}class t4 extends GU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.persistence=e,this.si=new eo(n=>By(n),jy),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Ky,this.targetCount=0,this.ai=wa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new JU,this.referenceDelegate=e(this),this.Pi=new n4(this),this.indexManager=new BU,this.remoteDocumentCache=function(i){return new e4(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new FU(n),this.Ii=new YU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ZU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new r4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class r4 extends NF{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Ri=new Ky,this.Vi=null}static mi(e){return new Qy(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Z.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new eo(r=>LF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qU(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return FL()?8:kF(Ot())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new i4;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(_o()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(_o()<=he.DEBUG&&G("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(_o()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):B.resolve())}ys(e,n){if(DI(n))return B.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sh(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Sh(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return DI(n)||i.isEqual(ae.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?B.resolve(null):(_o()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eo(n)),this.vs(e,o,n,RF(i,gu)).next(a=>a))})}Ds(e,n){let r=new lt(FC(e));return n.forEach((i,s)=>{vf(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return _o()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,ji.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LocalStore",o4=3e8;class a4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(fe),this.xs=new eo(s=>By(s),jy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function l4(t,e,n,r){return new a4(t,e,n,r)}async function aR(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function u4(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let p=B.resolve();return f.forEach(v=>{p=p.next(()=>h.getEntry(l,v)).next(m=>{const I=c.docVersions.get(v);Ie(I!==null,48541),m.version.compareTo(I)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),h.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lR(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function c4(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(It.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(m,I,E){return m.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=o4?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,h)&&a.push(n.Pi.updateTargetData(s,p))});let l=Fr(),c=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(d4(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ae.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function d4(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(Xy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function h4(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f4(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sv(t,e,n){const r=le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ka(o))throw o;G(Xy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function WI(t,e,n){const r=le(t);let i=ae.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=le(l),f=d.xs.get(h);return f!==void 0?B.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)}(r,o,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:pe())).next(a=>(p4(r,ZF(e),a),{documents:a,Qs:s})))}function p4(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class HI{constructor(){this.activeTargetIds=sU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g4{constructor(){this.Mo=new HI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="ConnectivityMonitor";class GI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(qI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(qI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function ov(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",v4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=ov(),a=this.zo(e,n.toUriEncodedString());G(ig,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=Ji(c);return this.Jo(e,a,l,r,h).then(d=>(G(ig,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ga(ig,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=v4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class _4 extends y4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=ov();return new Promise((a,l)=>{const c=new cC;c.setWithCredentials(!0),c.listenOnce(dC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ad.NO_ERROR:const d=c.getResponseJson();G(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Ad.TIMEOUT:G(Rt,`RPC '${e}' ${o} timed out`),l(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const f=c.getStatus();if(G(Rt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const m=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(v.status);l(new H(m,v.message))}else l(new H(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new H(U.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Rt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(Rt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=ov(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pC(),a=fC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");G(Rt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,p=!1;const v=new w4({Yo:I=>{p?G(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(G(Rt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),G(Rt,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},Zo:()=>d.close()}),m=(I,E,y)=>{I.listen(E,_=>{try{y(_)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,Sl.EventType.OPEN,()=>{p||(G(Rt,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(d,Sl.EventType.CLOSE,()=>{p||(p=!0,G(Rt,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(d))}),m(d,Sl.EventType.ERROR,I=>{p||(p=!0,ga(Rt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),v.a_(new H(U.UNAVAILABLE,"The operation could not be completed")))}),m(d,Sl.EventType.MESSAGE,I=>{var E;if(!p){const y=I.data[0];Ie(!!y,16349);const _=y,b=(_==null?void 0:_.error)||((E=_[0])==null?void 0:E.error);if(b){G(Rt,`RPC '${e}' stream ${i} received error:`,b);const N=b.status;let O=function(C){const R=tt[C];if(R!==void 0)return QC(R)}(N),x=b.message;O===void 0&&(O=U.INTERNAL,x="Unknown error status: "+N+" with message "+b.message),p=!0,v.a_(new H(O,x)),d.close()}else G(Rt,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),m(a,hC.STAT_EVENT,I=>{I.stat===Km.PROXY?G(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Km.NOPROXY&&G(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new bU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="PersistentStream";class cR{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new H(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(KI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(KI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E4 extends cR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?fr(o.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Zm(l)?{documents:PU(s,l)}:{query:DU(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JC(s,o.resumeToken);const c=tv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=xh(s,o.snapshotVersion.toTimestamp());const c=tv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.q_(n)}}class I4 extends cR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AU(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=iv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class b4 extends S4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,nv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,nv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class T4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class x4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{to(this)&&(G(Gs,"Restarting streams for network reachability change."),await async function(l){const c=le(l);c.Ea.add(4),await nc(c),c.Ra.set("Unknown"),c.Ea.delete(4),await If(c)}(this))})}),this.Ra=new T4(r,i)}}async function If(t){if(to(t))for(const e of t.da)await e(!0)}async function nc(t){for(const e of t.da)await e(!1)}function dR(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tw(n)?ew(n):La(n).O_()&&Zy(n,e))}function Jy(t,e){const n=le(t),r=La(n);n.Ia.delete(e),r.O_()&&hR(n,e),n.Ia.size===0&&(r.O_()?r.L_():to(n)&&n.Ra.set("Unknown"))}function Zy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).Y_(e)}function hR(t,e){t.Va.Ue(e),La(t).Z_(e)}function ew(t){t.Va=new _U({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),La(t).start(),t.Ra.ua()}function tw(t){return to(t)&&!La(t).x_()&&t.Ia.size>0}function to(t){return le(t).Ea.size===0}function fR(t){t.Va=void 0}async function C4(t){t.Ra.set("Online")}async function R4(t){t.Ia.forEach((e,n)=>{Zy(t,e)})}async function A4(t,e){fR(t),tw(t)?(t.Ra.ha(e),ew(t)):t.Ra.set("Unknown")}async function P4(t,e,n){if(t.Ra.set("Online"),e instanceof XC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(t,r)}else if(e instanceof kd?t.Va.Ze(e):e instanceof YC?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await lR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),hR(s,l);const d=new wi(h.target,l,c,h.sequenceNumber);Zy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Gs,"Failed to raise snapshot:",r),await Rh(t,r)}}async function Rh(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await nc(t),t.Ra.set("Offline"),n||(n=()=>lR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Gs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await If(t)})}function pR(t,e){return e().catch(n=>Rh(t,n,e))}async function Sf(t){const e=le(t),n=Hi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vy;for(;D4(e);)try{const i=await h4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,N4(e,i)}catch(i){await Rh(e,i)}gR(e)&&mR(e)}function D4(t){return to(t)&&t.Ta.length<10}function N4(t,e){t.Ta.push(e);const n=Hi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gR(t){return to(t)&&!Hi(t).x_()&&t.Ta.length>0}function mR(t){Hi(t).start()}async function k4(t){Hi(t).ra()}async function O4(t){const e=Hi(t);for(const n of t.Ta)e.ea(n.mutations)}async function L4(t,e,n){const r=t.Ta.shift(),i=Hy.from(r,e,n);await pR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sf(t)}async function M4(t,e){e&&Hi(t).X_&&await async function(r,i){if(function(o){return vU(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Hi(r).B_(),await pR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sf(r)}}(t,e),gR(t)&&mR(t)}async function QI(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),G(Gs,"RemoteStore received new credentials");const r=to(n);n.Ea.add(3),await nc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function V4(t,e){const n=le(t);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await nc(n),n.Ra.set("Unknown"))}function La(t){return t.ma||(t.ma=function(n,r,i){const s=le(n);return s.sa(),new E4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:C4.bind(null,t),t_:R4.bind(null,t),r_:A4.bind(null,t),H_:P4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),tw(t)?ew(t):t.Ra.set("Unknown")):(await t.ma.stop(),fR(t))})),t.ma}function Hi(t){return t.fa||(t.fa=function(n,r,i){const s=le(n);return s.sa(),new I4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:k4.bind(null,t),r_:M4.bind(null,t),ta:O4.bind(null,t),na:L4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Sf(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Gs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new nw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),ka(t))return new H(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.ga=new He(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class _a{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _a(e,n,qo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class U4{constructor(){this.queries=XI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=XI(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new H(U.ABORTED,"Firestore shutting down"))}}function XI(){return new eo(t=>VC(t),mf)}async function vR(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new F4,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=rw(o,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&iw(n)}async function yR(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B4(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&iw(n)}function j4(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function iw(t){t.Ca.forEach(e=>{e.next()})}var av,JI;(JI=av||(av={})).Ma="default",JI.Cache="cache";class wR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.key=e}}class ER{constructor(e){this.key=e}}class $4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=FC(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new YI,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=vf(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;f&&p?f.data.isEqual(p.data)?v!==m&&(r.track({type:3,doc:p}),I=!0):this.su(f,p)||(r.track({type:2,doc:p}),I=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),I=!0):f&&!p&&(r.track({type:1,doc:f}),I=!0,(l||c)&&(a=!0)),I&&(p?(o=o.add(p),s=m?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(p,v){const m=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:I})}};return m(p)-m(v)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new _a(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ER(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _R(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sw="SyncEngine";class z4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W4{constructor(e){this.key=e,this.hu=!1}}class H4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new eo(a=>VC(a),mf),this.Iu=new Map,this.Eu=new Set,this.du=new He(Z.comparator),this.Au=new Map,this.Ru=new Ky,this.Vu={},this.mu=new Map,this.fu=wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q4(t,e,n=!0){const r=CR(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await IR(r,e,n,!0),i}async function G4(t,e){const n=CR(t);await IR(n,e,!0,!1)}async function IR(t,e,n,r){const i=await f4(t.localStore,hr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await K4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dR(t.remoteStore,i),a}async function K4(t,e,n,r,i){t.pu=(d,f,p)=>async function(m,I,E,y){let _=I.view.ru(E);_.Cs&&(_=await WI(m.localStore,I.query,!1).then(({documents:x})=>I.view.ru(x,_)));const b=y&&y.targetChanges.get(I.targetId),N=y&&y.targetMismatches.get(I.targetId)!=null,O=I.view.applyChanges(_,m.isPrimaryClient,b,N);return eS(m,I.targetId,O.au),O.snapshot}(t,d,f,p);const s=await WI(t.localStore,e,!0),o=new $4(e,s.Qs),a=o.ru(s.documents),l=tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);eS(t,n,c.au);const h=new z4(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Q4(t,e,n){const r=le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!mf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jy(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(Na)):(lv(r,i.targetId),await sv(r.localStore,i.targetId,!0))}async function Y4(t,e){const n=le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jy(n.remoteStore,r.targetId))}async function X4(t,e,n){const r=iB(t);try{const i=await function(o,a){const l=le(o),c=Le.now(),h=a.reduce((p,v)=>p.add(v.key),pe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Fr(),m=pe();return l.Ns.getEntries(p,h).next(I=>{v=I,v.forEach((E,y)=>{y.isValidDocument()||(m=m.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(I=>{d=I;const E=[];for(const y of a){const _=hU(y,d.get(y.key).overlayedDocument);_!=null&&E.push(new ts(y.key,_,AC(_.value.mapValue),An.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,E,a)}).next(I=>{f=I;const E=I.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,I.batchId,E)})}).then(()=>({batchId:f.batchId,changes:BC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new He(fe)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await rc(r,i.changes),await Sf(r.remoteStore)}catch(i){const s=rw(i,"Failed to persist write");n.reject(s)}}async function SR(t,e){const n=le(t);try{const r=await c4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ie(o.hu,14607):i.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await rc(n,r,e)}catch(r){await Na(r)}}function ZI(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)}),c&&iw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J4(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new He(Z.comparator);o=o.insert(s,Nt.newNoDocument(s,ae.min()));const a=pe().add(s),l=new _f(ae.min(),new Map,new He(fe),o,a);await SR(r,l),r.du=r.du.remove(s),r.Au.delete(e),ow(r)}else await sv(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(Na)}async function Z4(t,e){const n=le(t),r=e.batch.batchId;try{const i=await u4(n.localStore,e);TR(n,r,null),bR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rc(n,i)}catch(i){await Na(i)}}async function eB(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ie(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);TR(r,e,n),bR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rc(r,i)}catch(i){await Na(i)}}function bR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function TR(t,e,n){const r=le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||xR(t,r)})}function xR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ow(t))}function eS(t,e,n){for(const r of n)r instanceof _R?(t.Ru.addReference(r.key,e),tB(t,r)):r instanceof ER?(G(sw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xR(t,r.key)):re(19791,{wu:r})}function tB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(sw,"New document in limbo: "+n),t.Eu.add(r),ow(t))}function ow(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new W4(n)),t.du=t.du.insert(n,r),dR(t.remoteStore,new wi(hr($y(n.path)),r,"TargetPurposeLimboResolution",ff.ce))}}async function rc(t,e,n){const r=le(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Yy.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=le(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(c,f=>B.forEach(f.Es,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>B.forEach(f.ds,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ka(d))throw d;G(Xy,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=h.Ms.get(f),v=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(f,m)}}}(r.localStore,s))}async function nB(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){G(sw,"User change. New user:",e.toKey());const r=await aR(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new H(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rc(n,r.Ls)}}function rB(t,e){const n=le(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let i=pe();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function CR(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J4.bind(null,e),e.Pu.H_=B4.bind(null,e.eventManager),e.Pu.yu=j4.bind(null,e.eventManager),e}function iB(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eB.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l4(this.persistence,new s4,e.initialUser,this.serializer)}Cu(e){return new oR(Qy.mi,this.serializer)}Du(e){return new g4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class sB extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new oR(r=>Ch.mi(r,n),this.serializer)}}class uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nB.bind(null,this.syncEngine),await V4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U4}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=function(s){return new _4(s)}(e.databaseInfo);return function(s,o,a,l){return new b4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new x4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ZI(this.syncEngine,n,0),function(){return GI.v()?new GI:new m4}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new H4(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);G(Gs,"RemoteStore shutting down."),s.Ea.add(5),await nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}uv.provider={build:()=>new uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class oB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(qi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(qi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),G(qi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aB(t);G(qi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QI(e.remoteStore,i)),t._onlineComponents=e}async function aB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(qi,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new Ah)}}else G(qi,"Using default OfflineComponentProvider"),await og(t,new sB(void 0));return t._offlineComponents}async function AR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(qi,"Using user provided OnlineComponentProvider"),await tS(t,t._uninitializedComponentsProvider._online)):(G(qi,"Using default OnlineComponentProvider"),await tS(t,new uv))),t._onlineComponents}function lB(t){return AR(t).then(e=>e.syncEngine)}async function PR(t){const e=await AR(t),n=e.eventManager;return n.onListen=q4.bind(null,e.syncEngine),n.onUnlisten=Q4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y4.bind(null,e.syncEngine),n}function uB(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new RR({next:f=>{h.Nu(),o.enqueueAndForget(()=>yR(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new H(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new wR($y(a.path),h,{includeMetadataChanges:!0,qa:!0});return vR(s,d)}(await PR(t),t.asyncQueue,e,n,r)),r.promise}function cB(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new RR({next:f=>{h.Nu(),o.enqueueAndForget(()=>yR(s,d)),f.fromCache&&l.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new wR(a,h,{includeMetadataChanges:!0,qa:!0});return vR(s,d)}(await PR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firestore.googleapis.com",rS=!0;class iS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NR,this.ssl=rS}else this.host=e.host,this.ssl=e.ssl??rS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$U)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mF;switch(r.type){case"firstParty":return new _F(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nS.get(n);r&&(G("ComponentProvider","Removing Datastore"),nS.delete(n),r.terminate())}(this),Promise.resolve()}}function dB(t,e,n,r={}){var c;t=Kn(t,bf);const i=Ji(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Iy(`https://${a}`),Sy("Firestore",!0)),s.host!==NR&&s.host!==a&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!zs(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Pt.MOCK_USER;else{h=bx(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Pt(f)}t._authCredentials=new vF(new mC(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zu(n,Ze._jsonSchema))return new Ze(e,r||null,new Z(Pe.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:it("string",Ze._jsonSchemaVersion),referencePath:it("string")};class ki extends ns{constructor(e,n,r){super(e,n,$y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new Z(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function kR(t,e,...n){if(t=We(t),vC("collection","path",e),t instanceof bf){const r=Pe.fromString(e,...n);return vI(r),new ki(t,null,r)}{if(!(t instanceof Ze||t instanceof ki))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return vI(r),new ki(t.firestore,null,r)}}function ks(t,e,...n){if(t=We(t),arguments.length===1&&(e=My.newId()),vC("doc","path",e),t instanceof bf){const r=Pe.fromString(e,...n);return mI(r),new Ze(t,null,new Z(r))}{if(!(t instanceof Ze||t instanceof ki))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return mI(r),new Ze(t.firestore,t instanceof ki?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="AsyncQueue";class oS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uR(this,"async_queue_retry"),this._c=()=>{const r=sg();r&&G(sS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Pr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;G(sS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",aS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=nw.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:aS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class no extends bf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oS(e),this._firestoreClient=void 0,await e}}}function hB(t,e){const n=typeof t=="object"?t:xy(),r=typeof t=="string"?t:e||_h,i=af(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Ex("firestore");s&&dB(i,...s)}return i}function aw(t){if(t._terminated)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fB(t),t._firestoreClient}function fB(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new FF(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tn(It.fromBase64String(e))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tn(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zu(e,Tn._jsonSchema))return Tn.fromBase64String(e.bytes)}}Tn._jsonSchemaVersion="firestore/bytes/1.0",Tn._jsonSchema={type:it("string",Tn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Zu(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:it("string",pr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new H(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:it("string",gr._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=/^__.*__$/;class gB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class uw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LR(this.Ac)&&pB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Cc(e,n,r,i=!1){return new uw({Ac:e,methodName:n,Dc:r,path:yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new mB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MR(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);cw("Data must be an object, but it was:",o,r);const a=VR(r,o);let l,c;if(s.merge)l=new un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=cv(e,d,n);if(!o.contains(f))throw new H(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);UR(h,f)||h.push(f)}l=new un(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new gB(new en(a),l,c)}class Cf extends lw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function vB(t,e,n,r){const i=t.Cc(1,e,n);cw("Data must be an object, but it was:",i,r);const s=[],o=en.empty();es(r,(l,c)=>{const h=dw(e,l,n);c=We(c);const d=i.yc(h);if(c instanceof Cf)s.push(h);else{const f=ic(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new un(s);return new OR(o,a,i.fieldTransforms)}function yB(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[cv(e,r,n)],l=[i];if(s.length%2!=0)throw new H(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cv(e,s[f])),l.push(s[f+1]);const c=[],h=en.empty();for(let f=a.length-1;f>=0;--f)if(!UR(c,a[f])){const p=a[f];let v=l[f];v=We(v);const m=o.yc(p);if(v instanceof Cf)c.push(p);else{const I=ic(v,m);I!=null&&(c.push(p),h.set(p,I))}}const d=new un(c);return new OR(h,d,o.fieldTransforms)}function wB(t,e,n,r=!1){return ic(n,t.Cc(r?4:3,e))}function ic(t,e){if(FR(t=We(t)))return cw("Unsupported field value:",e,t),VR(t,e);if(t instanceof lw)return function(r,i){if(!LR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ic(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Le.fromDate(r);return{timestampValue:xh(i.serializer,s)}}if(r instanceof Le){const s=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,s)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tn)return{bytesValue:JC(i.serializer,r._byteString)};if(r instanceof Ze){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gr)return function(o,a){return{mapValue:{fields:{[xC]:{stringValue:RC},[Eh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return zy(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${hf(r)}`)}(t,e)}function VR(t,e){const n={};return _C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(r,i)=>{const s=ic(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof pr||t instanceof Tn||t instanceof Ze||t instanceof lw||t instanceof gr)}function cw(t,e,n){if(!FR(n)||!yC(n)){const r=hf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cv(t,e,n){if((e=We(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return dw(t,e);throw Ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const _B=new RegExp("[~\\*/\\[\\]]");function dw(t,e,n){if(e.search(_B)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ph(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(U.INVALID_ARGUMENT,a+t+l)}function UR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EB extends BR{data(){return super.data()}}function Rf(t,e){return typeof e=="string"?dw(t,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}class fw extends hw{}function mo(t,e,...n){let r=[];e instanceof hw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof pw).length,a=s.filter(l=>l instanceof Af).length;if(o>1||o>0&&a>0)throw new H(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Af extends fw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Af(e,n,r)}_apply(e){const n=this._parse(e);return jR(e._query,n),new ns(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=xf(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uS(d,h);const v=[];for(const m of d)v.push(lS(l,s,m));f={arrayValue:{values:v}}}else f=lS(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uS(d,h),f=wB(a,o,d,h==="in"||h==="not-in");return rt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function id(t,e,n){const r=e,i=Rf("where",t);return Af._create(i,r,n)}class pw extends hw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)jR(o,l),o=ev(o,l)}(e._query,n),new ns(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gw extends fw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(s,o)}(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Oa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function SB(t,e="asc"){const n=e,r=Rf("orderBy",t);return gw._create(r,n)}class mw extends fw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mw(e,n,r)}_apply(e){return new ns(e.firestore,e.converter,Sh(e._query,this._limit,this._limitType))}}function bB(t){return CF("limit",t),mw._create("limit",t,"F")}function lS(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&n.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!Z.isDocumentKey(r))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TI(t,new Z(r))}if(n instanceof Ze)return TI(t,n._key);throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function uS(t,e){if(!Array.isArray(t)||t.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TB{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Eh].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Xe(o.doubleValue));return new gr(n)}convertGeoPoint(e){return new pr(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=$i(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Ie(iR(r),9688,{name:e});const i=new vu(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends BR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:it("string",Os._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class Od extends Os{data(e={}){return super.data(e)}}class Go{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Od(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Od(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Od(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:xB(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=My.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){t=Kn(t,Ze);const e=Kn(t.firestore,no);return uB(aw(e),t._key).then(n=>DB(e,t,n))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:it("string",Go._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class zR extends TB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function CB(t){t=Kn(t,ns);const e=Kn(t.firestore,no),n=aw(e),r=new zR(e);return IB(t._query),cB(n,t._query).then(i=>new Go(e,r,t,i))}function RB(t,e,n){t=Kn(t,Ze);const r=Kn(t.firestore,no),i=$R(t.converter,e,n);return Pf(r,[MR(xf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,An.none())])}function AB(t,e,n,...r){t=Kn(t,Ze);const i=Kn(t.firestore,no),s=xf(i);let o;return o=typeof(e=We(e))=="string"||e instanceof Tf?yB(s,"updateDoc",t._key,e,n,r):vB(s,"updateDoc",t._key,e),Pf(i,[o.toMutation(t._key,An.exists(!0))])}function WR(t){return Pf(Kn(t.firestore,no),[new Wy(t._key,An.none())])}function PB(t,e){const n=Kn(t.firestore,no),r=ks(t),i=$R(t.converter,e);return Pf(n,[MR(xf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function Pf(t,e){return function(r,i){const s=new Pr;return r.asyncQueue.enqueueAndForget(async()=>X4(await lB(r),i,s)),s.promise}(aw(t),e)}function DB(t,e,n){const r=n.docs.get(e._key),i=new zR(t);return new Os(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Da=i})(Js),Ws(new Bi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new no(new yF(r.getProvider("auth-internal")),new EF(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ur(hI,fI,e),ur(hI,fI,"esm2020")})();var NB="firebase",kB="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(NB,kB,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebasestorage.googleapis.com",qR="storageBucket",OB=2*60*1e3,LB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye extends vr{constructor(e,n,r=0){super(ag(e),`Firebase Storage: ${n} (${ag(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qe||(Qe={}));function ag(t){return"storage/"+t}function vw(){const t="An unknown error occurred, please check the error payload for server response.";return new Ye(Qe.UNKNOWN,t)}function MB(t){return new Ye(Qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function VB(t){return new Ye(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(Qe.UNAUTHENTICATED,t)}function UB(){return new Ye(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BB(t){return new Ye(Qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jB(){return new Ye(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $B(){return new Ye(Qe.CANCELED,"User canceled the upload/download.")}function zB(t){return new Ye(Qe.INVALID_URL,"Invalid URL '"+t+"'.")}function WB(t){return new Ye(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HB(){return new Ye(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qR+"' property when initializing the app?")}function qB(){return new Ye(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GB(){return new Ye(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KB(t){return new Ye(Qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dv(t){return new Ye(Qe.INVALID_ARGUMENT,t)}function GR(){return new Ye(Qe.APP_DELETED,"The Firebase app was deleted.")}function QB(t){return new Ye(Qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zl(t,e){return new Ye(Qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ul(t){throw new Ye(Qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cn.makeFromUrl(e,n)}catch{return new cn(e,"")}if(r.path==="")return r;throw WB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},m=n===HR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",E=new RegExp(`^https?://${m}/${i}/${I}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<_.length;b++){const N=_[b],O=N.regex.exec(e);if(O){const x=O[N.indices.bucket];let S=O[N.indices.path];S||(S=""),r=new cn(x,S),N.postModify(r);break}}if(r==null)throw zB(e);return r}}class YB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...I){c||(c=!0,e.apply(null,I))}function d(I){i=setTimeout(()=>{i=null,t(p,l())},I)}function f(){s&&clearTimeout(s)}function p(I,...E){if(c){f();return}if(I){f(),h.call(null,I,...E);return}if(l()||o){f(),h.call(null,I,...E);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let v=!1;function m(I){v||(v=!0,f(),!c&&(i!==null?(I||(a=2),clearTimeout(i),d(0)):I||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function JB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){return t!==void 0}function ej(t){return typeof t=="object"&&!Array.isArray(t)}function yw(t){return typeof t=="string"||t instanceof String}function cS(t){return ww()&&t instanceof Blob}function ww(){return typeof Blob<"u"}function dS(t,e,n,r){if(r<e)throw dv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function KR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ls||(Ls={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i,s,o,a,l,c,h,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,m)=>{this.resolve_=v,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ls.NO_ERROR,l=s.getStatus();if(!a||tj(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Ls.ABORT;r(!1,new sd(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new sd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ZB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=vw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?GR():$B();o(l)}else{const l=jB();o(l)}};this.canceled_?n(!1,new sd(!1,null,!0)):this.backoffId_=XB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ij(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aj(t,e,n,r,i,s,o=!0,a=!1){const l=KR(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return sj(h,e),rj(h,n),ij(h,s),oj(h,r),new nj(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uj(...t){const e=lj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ww())return new Blob(t);throw new Ye(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){if(typeof atob>"u")throw KB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,n){this.data=e,this.contentType=n||null}}function hj(t,e){switch(t){case or.RAW:return new lg(QR(e));case or.BASE64:case or.BASE64URL:return new lg(YR(t,e));case or.DATA_URL:return new lg(pj(e),gj(e))}throw vw()}function QR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fj(t){let e;try{e=decodeURIComponent(t)}catch{throw zl(or.DATA_URL,"Malformed data URL.")}return QR(e)}function YR(t,e){switch(t){case or.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case or.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dj(e)}catch(i){throw i.message.includes("polyfill")?i:zl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class XR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zl(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pj(t){const e=new XR(t);return e.base64?YR(or.BASE64,e.rest):fj(e.rest)}function gj(t){return new XR(t).contentType}function mj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){let r=0,i="";cS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cS(this.data_)){const r=this.data_,i=cj(r,e,n);return i===null?null:new oi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new oi(r,!0)}}static getBlob(...e){if(ww()){const n=e.map(r=>r instanceof oi?r.data_:r);return new oi(uj.apply(null,n))}else{const n=e.map(o=>yw(o)?hj(or.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new oi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){let e;try{e=JSON.parse(t)}catch{return null}return ej(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ZR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){return e}class Ut{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wj}}let od=null;function _j(t){return!yw(t)||t.length<2?t:ZR(t)}function eA(){if(od)return od;const t=[];t.push(new Ut("bucket")),t.push(new Ut("generation")),t.push(new Ut("metageneration")),t.push(new Ut("name","fullPath",!0));function e(s,o){return _j(o)}const n=new Ut("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ut("size");return i.xform=r,t.push(i),t.push(new Ut("timeCreated")),t.push(new Ut("updated")),t.push(new Ut("md5Hash",null,!0)),t.push(new Ut("cacheControl",null,!0)),t.push(new Ut("contentDisposition",null,!0)),t.push(new Ut("contentEncoding",null,!0)),t.push(new Ut("contentLanguage",null,!0)),t.push(new Ut("contentType",null,!0)),t.push(new Ut("metadata","customMetadata",!0)),od=t,od}function Ej(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new cn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Ij(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Ej(r,t),r}function tA(t,e,n){const r=JR(e);return r===null?null:Ij(t,r,n)}function Sj(t,e,n,r){const i=JR(e);if(i===null||!yw(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),p=Df(f,n,r),v=KR({alt:"media",token:c});return p+v})[0]}function bj(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class _w{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){if(!t)throw vw()}function Tj(t,e){function n(r,i){const s=tA(t,i,e);return nA(s!==null),s}return n}function xj(t,e){function n(r,i){const s=tA(t,i,e);return nA(s!==null),Sj(s,i,t.host,t._protocol)}return n}function rA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=UB():i=FB():n.getStatus()===402?i=VB(t.bucket):n.getStatus()===403?i=BB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iA(t){const e=rA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=MB(t.path)),s.serverResponse=i.serverResponse,s}return n}function Cj(t,e,n){const r=e.fullServerUrl(),i=Df(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _w(i,s,xj(t,n),o);return a.errorHandler=iA(e),a}function Rj(t,e){const n=e.fullServerUrl(),r=Df(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new _w(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=iA(e),a}function Aj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Pj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Aj(null,e)),r}function Dj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Pj(e,r,i),h=bj(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=oi.getBlob(d,r,f);if(p===null)throw qB();const v={name:c.fullPath},m=Df(s,t.host,t._protocol),I="POST",E=t.maxUploadRetryTime,y=new _w(m,I,Tj(t,n),E);return y.urlParams=v,y.headers=o,y.body=p.uploadData(),y.errorHandler=rA(e),y}class Nj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw ul("cannot .send() more than once");if(Ji(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kj extends Nj{initXhr(){this.xhr_.responseType="text"}}function Ew(){return new kj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this._service=e,n instanceof cn?this._location=n:this._location=cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ks(e,n)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZR(this._location.path)}get storage(){return this._service}get parent(){const e=vj(this._location.path);if(e===null)return null;const n=new cn(this._location.bucket,e);return new Ks(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QB(e)}}function Oj(t,e,n){t._throwIfRoot("uploadBytes");const r=Dj(t.storage,t._location,eA(),new oi(e,!0),n);return t.storage.makeRequestWithTokens(r,Ew).then(i=>({metadata:i,ref:t}))}function Lj(t){t._throwIfRoot("getDownloadURL");const e=Cj(t.storage,t._location,eA());return t.storage.makeRequestWithTokens(e,Ew).then(n=>{if(n===null)throw GB();return n})}function Mj(t){t._throwIfRoot("deleteObject");const e=Rj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ew)}function Vj(t,e){const n=yj(t._location.path,e),r=new cn(t._location.bucket,n);return new Ks(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){return/^[A-Za-z]+:\/\//.test(t)}function Uj(t,e){return new Ks(t,e)}function sA(t,e){if(t instanceof Iw){const n=t;if(n._bucket==null)throw HB();const r=new Ks(n,n._bucket);return e!=null?sA(r,e):r}else return e!==void 0?Vj(t,e):t}function Bj(t,e){if(e&&Fj(e)){if(t instanceof Iw)return Uj(t,e);throw dv("To use ref(service, url), the first argument must be a Storage instance.")}else return sA(t,e)}function hS(t,e){const n=e==null?void 0:e[qR];return n==null?null:cn.makeFromBucketSpec(n,t)}function jj(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ji(e);i&&(Iy(`https://${t.host}/b`),Sy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:bx(s,t.app.options.projectId))}class Iw{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=HR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OB,this._maxUploadRetryTime=LB,this._requests=new Set,i!=null?this._bucket=cn.makeFromBucketSpec(i,this._host):this._bucket=hS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=hS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ks(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new YB(GR());{const o=aj(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fS="@firebase/storage",pS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="storage";function $j(t,e,n){return t=We(t),Oj(t,e,n)}function zj(t){return t=We(t),Lj(t)}function Wj(t){return t=We(t),Mj(t)}function gS(t,e){return t=We(t),Bj(t,e)}function Hj(t=xy(),e){t=We(t);const r=af(t,oA).getImmediate({identifier:e}),i=Ex("storage");return i&&qj(r,...i),r}function qj(t,e,n,r={}){jj(t,e,n,r)}function Gj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Iw(n,r,i,e,Js)}function Kj(){Ws(new Bi(oA,Gj,"PUBLIC").setMultipleInstances(!0)),ur(fS,pS,""),ur(fS,pS,"esm2020")}Kj();const Qj={apiKey:{}.VITE_FIREBASE_API_KEY||"your-api-key",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN||"almus-todo-app.firebaseapp.com",projectId:{}.VITE_FIREBASE_PROJECT_ID||"almus-todo-app",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET||"almus-todo-app.appspot.com",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID||"123456789",appId:{}.VITE_FIREBASE_APP_ID||"your-app-id"},Sw=Cx(Qj),mS=Hj(Sw),Oi=hB(Sw),ug=pF(Sw),Br=()=>{const[t,e]=F.useState(null),[n,r]=F.useState(!0),[i,s]=F.useState(null);F.useEffect(()=>{const f=nV(ug,async p=>{try{if(p){const v=await Iu(ks(Oi,"users",p.uid));if(v.exists()){const m=v.data();e({uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,role:m.role||"VIEWER",teamId:m.teamId||"",projectIds:m.projectIds||[]})}else e({uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,role:"VIEWER",teamId:"",projectIds:[]})}else e(null)}catch(v){console.error("Auth state change error:",v),s(v instanceof Error?v.message:"인증 오류가 발생했습니다.")}finally{r(!1)}});return()=>f()},[]);const o=async(f,p)=>{try{return s(null),await Z2(ug,f,p)}catch(v){const m=v instanceof Error?v.message:"로그인에 실패했습니다.";throw s(m),new Error(m)}},a=async()=>{try{s(null),await rV(ug)}catch(f){const p=f instanceof Error?f.message:"로그아웃에 실패했습니다.";throw s(p),new Error(p)}},l=!!t,c=(t==null?void 0:t.role)==="ADMIN",h=(t==null?void 0:t.role)==="EDITOR"||(t==null?void 0:t.role)==="ADMIN",d=(t==null?void 0:t.role)==="VIEWER"||(t==null?void 0:t.role)==="EDITOR"||(t==null?void 0:t.role)==="ADMIN";return{user:t,loading:n,error:i,signIn:o,logout:a,isAuthenticated:l,isAdmin:c,isEditor:h,isViewer:d}},Nf=t=>{const{user:e}=Br();return aO({queryKey:["tasks",t],queryFn:async()=>{if(!e)throw new Error("인증이 필요합니다.");if(!(t!=null&&t.teamId))throw new Error("팀 ID가 필요합니다.");let n=mo(kR(Oi,"tasks"),id("teamId","==",t.teamId));return t.projectId&&(n=mo(n,id("projectId","==",t.projectId))),t.status&&(n=mo(n,id("status","==",t.status))),t.assigneeId&&(n=mo(n,id("assigneeId","==",t.assigneeId))),n=mo(n,SB("createdAt","desc")),t.limit&&(n=mo(n,bB(t.limit))),(await CB(n)).docs.map(i=>{var s,o,a,l,c;return{id:i.id,...i.data(),createdAt:(s=i.data().createdAt)==null?void 0:s.toDate(),updatedAt:(o=i.data().updatedAt)==null?void 0:o.toDate(),dueDate:(a=i.data().dueDate)==null?void 0:a.toDate(),startDate:(l=i.data().startDate)==null?void 0:l.toDate(),endDate:(c=i.data().endDate)==null?void 0:c.toDate()}})},enabled:!!e&&!!(t!=null&&t.teamId)})},Yj=()=>{const t=Gu(),{user:e}=Br();return Ey({mutationFn:async n=>{if(!e)throw new Error("인증이 필요합니다.");return{id:(await PB(kR(Oi,"tasks"),{...n,createdBy:e.uid,createdAt:new Date,updatedAt:new Date,version:1})).id,...n,createdBy:e.uid,createdAt:new Date,updatedAt:new Date,version:1}},onSuccess:n=>{t.invalidateQueries({queryKey:["tasks"]}),t.invalidateQueries({queryKey:["tasks-realtime"]}),t.setQueryData(["task",n.id],n)},onError:n=>{console.error("Task 생성 오류:",n)}})},aA=()=>{const t=Gu(),{user:e}=Br();return Ey({mutationFn:async({taskId:n,updateData:r})=>{var h,d,f,p;if(!e)throw new Error("인증이 필요합니다.");const i=ks(Oi,"tasks",n),s=await Iu(i);if(!s.exists())throw new Error("Task를 찾을 수 없습니다.");const o=s.data(),a=(o.version||0)+1,l={...r,updatedAt:new Date,version:a};return await AB(i,l),{...o,...l,createdAt:(h=o.createdAt)==null?void 0:h.toDate(),updatedAt:new Date,dueDate:(d=o.dueDate)==null?void 0:d.toDate(),startDate:(f=o.startDate)==null?void 0:f.toDate(),endDate:(p=o.endDate)==null?void 0:p.toDate()}},onSuccess:n=>{t.invalidateQueries({queryKey:["tasks"]}),t.invalidateQueries({queryKey:["tasks-realtime"]}),t.invalidateQueries({queryKey:["task",n.id]}),t.setQueryData(["task",n.id],n)},onError:n=>{console.error("Task 수정 오류:",n)}})},lA=()=>{const t=Gu(),{user:e}=Br();return Ey({mutationFn:async n=>{if(!e)throw new Error("인증이 필요합니다.");const r=ks(Oi,"tasks",n),i=await Iu(r);if(!i.exists())throw new Error("Task를 찾을 수 없습니다.");if(i.data().createdBy!==e.uid&&e.role!=="ADMIN")throw new Error("Task를 삭제할 권한이 없습니다.");await WR(r)},onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["tasks"]}),t.invalidateQueries({queryKey:["tasks-realtime"]}),t.removeQueries({queryKey:["task",r]})},onError:n=>{console.error("Task 삭제 오류:",n)}})};var vS;(function(t){t.ADMIN="ADMIN",t.EDITOR="EDITOR",t.VIEWER="VIEWER"})(vS||(vS={}));var _e;(function(t){t.TODO="TODO",t.IN_PROGRESS="IN_PROGRESS",t.REVIEW="REVIEW",t.DONE="DONE"})(_e||(_e={}));var Fe;(function(t){t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.URGENT="URGENT"})(Fe||(Fe={}));var Zr;(function(t){t.DAY="day",t.WEEK="week",t.MONTH="month",t.QUARTER="quarter",t.YEAR="year"})(Zr||(Zr={}));var yS;(function(t){t.TASK_DUE_REMINDER="TASK_DUE_REMINDER",t.TASK_STATUS_CHANGE="TASK_STATUS_CHANGE",t.TASK_ASSIGNED="TASK_ASSIGNED",t.TASK_COMMENT="TASK_COMMENT",t.TASK_OVERDUE="TASK_OVERDUE",t.SYSTEM_ANNOUNCEMENT="SYSTEM_ANNOUNCEMENT"})(yS||(yS={}));var wS;(function(t){t.EMAIL="EMAIL",t.PUSH="PUSH",t.IN_APP="IN_APP",t.SLACK="SLACK",t.TEAMS="TEAMS",t.KAKAO="KAKAO"})(wS||(wS={}));var _S;(function(t){t.IMMEDIATE="IMMEDIATE",t.DAILY="DAILY",t.WEEKLY="WEEKLY",t.NEVER="NEVER"})(_S||(_S={}));const Xj=function(){const{data:e,isLoading:n,error:r}=Nf(),i=lA(),{t:s}=Ra(),o=async d=>{if(window.confirm(s("task.confirmDelete")))try{await i.mutateAsync(d)}catch(f){console.error("태스크 삭제 실패:",f),alert(s("task.taskDeleteFailed"))}},a=d=>{switch(d){case _e.TODO:return"bg-gray-100 text-gray-800";case _e.IN_PROGRESS:return"bg-blue-100 text-blue-800";case _e.REVIEW:return"bg-yellow-100 text-yellow-800";case _e.DONE:return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},l=d=>{switch(d){case Fe.LOW:return"text-gray-500";case Fe.MEDIUM:return"text-blue-500";case Fe.HIGH:return"text-orange-500";case Fe.URGENT:return"text-red-500";default:return"text-gray-500"}},c=d=>{switch(d){case _e.TODO:return s("status.todo");case _e.IN_PROGRESS:return s("status.inProgress");case _e.REVIEW:return s("status.review");case _e.DONE:return s("status.done");default:return s("status.todo")}},h=d=>{switch(d){case Fe.LOW:return s("priority.low");case Fe.MEDIUM:return s("priority.medium");case Fe.HIGH:return s("priority.high");case Fe.URGENT:return s("priority.urgent");default:return s("priority.medium")}};return n?P.jsx("div",{className:"flex justify-center items-center h-64",children:s("common.loading")}):r?P.jsx("div",{className:"text-red-500",children:s("task.loadTasksFailed")}):!e||e.length===0?P.jsx("div",{className:"text-center py-8",children:P.jsx("p",{className:"text-gray-500",children:s("task.noTasks")})}):P.jsxs("div",{className:"bg-white rounded-lg shadow",children:[P.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:P.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s("task.taskList")})}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[P.jsx("thead",{className:"bg-gray-50",children:P.jsxs("tr",{children:[P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.title")}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.description")}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.assignee")}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.status")}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.priority")}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.dueDate")}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("task.actions")})]})}),P.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>P.jsxs("tr",{className:"hover:bg-gray-50",children:[P.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.title})}),P.jsx("td",{className:"px-6 py-4",children:P.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:d.description})}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.jsx("div",{className:"text-sm text-gray-900",children:d.assigneeId})}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a(d.status)}`,children:c(d.status)})}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.jsx("span",{className:`text-sm font-medium ${l(d.priority)}`,children:h(d.priority)})}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.dueDate?new Date(d.dueDate).toLocaleDateString():"-"}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:P.jsx("button",{onClick:()=>o(d.id),className:"text-red-600 hover:text-red-900",children:s("task.deleteTask")})})]},d.id))})]})})]})},Jj=()=>{const{user:t}=Br(),[e,n]=F.useState({isUploading:!1,progress:{loaded:0,total:0,percentage:0},error:null}),r=async(l,c,h)=>{if(!t)throw new Error("인증이 필요합니다.");if(l.size>100*1024*1024)throw new Error("파일 크기는 100MB를 초과할 수 없습니다.");if(!["image/jpeg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"].includes(l.type))throw new Error("지원하지 않는 파일 타입입니다.");n({isUploading:!0,progress:{loaded:0,total:l.size,percentage:0},error:null});try{const f=gS(mS,`${c}/${Date.now()}_${l.name}`),p=$j(f,l),v=setInterval(()=>{n(E=>({...E,progress:{loaded:E.progress.loaded+l.size/10,total:l.size,percentage:Math.min((E.progress.loaded+l.size/10)/l.size*100,90)}}))},100);await p,clearInterval(v);const m=await zj(f),I={id:f.name,name:l.name,size:l.size,type:l.type,url:m,uploaderId:t.uid,uploaderName:t.displayName||t.email||"Unknown",taskId:h==null?void 0:h.taskId,projectId:h==null?void 0:h.projectId,teamId:(h==null?void 0:h.teamId)||t.teamId||"",version:1,createdAt:new Date,updatedAt:new Date};return await RB(ks(Oi,"files",I.id),I),n({isUploading:!1,progress:{loaded:l.size,total:l.size,percentage:100},error:null,downloadURL:m}),I}catch(f){throw n({isUploading:!1,progress:{loaded:0,total:0,percentage:0},error:f instanceof Error?f.message:"파일 업로드에 실패했습니다."}),f}};return{uploadFile:r,uploadMultipleFiles:async(l,c,h)=>{const d=await Promise.allSettled(l.map(v=>r(v,c,h))),f=d.filter(v=>v.status==="fulfilled"),p=d.filter(v=>v.status==="rejected");return p.length>0&&console.error("일부 파일 업로드 실패:",p),f.map(v=>v.value)},deleteFile:async l=>{if(!t)return{success:!1,error:"인증이 필요합니다."};try{const c=await ks(Oi,"files",l),h=await Iu(c);if(!h.exists())return{success:!1,error:"파일을 찾을 수 없습니다."};if(h.data().uploaderId!==t.uid&&t.role!=="ADMIN")return{success:!1,error:"파일을 삭제할 권한이 없습니다."};const f=gS(mS,l);return await Wj(f),await WR(c),{success:!0}}catch(c){return{success:!1,error:c instanceof Error?c.message:"파일 삭제에 실패했습니다."}}},downloadFile:async l=>{try{const c=await ks(Oi,"files",l),h=await Iu(c);return h.exists()?{success:!0,url:h.data().url}:{success:!1,error:"파일을 찾을 수 없습니다."}}catch(c){return{success:!1,error:c instanceof Error?c.message:"파일 다운로드에 실패했습니다."}}},uploadState:e,resetUploadState:()=>{n({isUploading:!1,progress:{loaded:0,total:0,percentage:0},error:null})}}},Zj=({path:t,metadata:e,onUploadComplete:n,onUploadError:r,multiple:i=!1,accept:s,className:o=""})=>{const a=F.useRef(null),[l,c]=F.useState([]),{uploadFile:h,uploadMultipleFiles:d,uploadState:f,resetUploadState:p}=Jj(),v=F.useCallback(_=>{const b=Array.from(_.target.files||[]);c(b)},[]),m=F.useCallback(async()=>{if(l.length!==0)try{if(i){const _=await d(l,t,e),b=_.filter(O=>O.id),N=_.filter(O=>!O.id);b.length>0&&(n==null||n(b)),N.length>0&&(r==null||r("일부 파일 업로드에 실패했습니다."))}else{const _=await h(l[0],t,e);_.id?n==null||n(_):r==null||r("업로드 실패")}c([]),a.current&&(a.current.value=""),p()}catch(_){r==null||r(_ instanceof Error?_.message:"업로드 실패")}},[l,t,e,i,h,d,n,r,p]),I=F.useCallback(_=>{_.preventDefault();const b=Array.from(_.dataTransfer.files);c(b)},[]),E=F.useCallback(_=>{_.preventDefault()},[]),y=_=>{if(_===0)return"0 Bytes";const b=1024,N=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(_)/Math.log(b));return parseFloat((_/Math.pow(b,O)).toFixed(2))+" "+N[O]};return P.jsxs("div",{className:`file-upload ${o}`,children:[P.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",onDrop:I,onDragOver:E,children:[P.jsx("input",{ref:a,type:"file",multiple:i,accept:s,onChange:v,className:"hidden"}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{className:"text-gray-600",children:P.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:P.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),P.jsxs("div",{children:[P.jsx("button",{type:"button",onClick:()=>{var _;return(_=a.current)==null?void 0:_.click()},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"파일 선택"}),P.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"또는 파일을 여기에 드래그하세요"})]})]})]}),l.length>0&&P.jsxs("div",{className:"mt-4",children:[P.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"선택된 파일:"}),P.jsx("ul",{className:"space-y-2",children:l.map((_,b)=>P.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("span",{className:"text-sm text-gray-600",children:_.name}),P.jsxs("span",{className:"text-xs text-gray-400",children:["(",y(_.size),")"]})]}),P.jsx("button",{type:"button",onClick:()=>c(N=>N.filter((O,x)=>x!==b)),className:"text-red-500 hover:text-red-700",children:"×"})]},b))}),P.jsx("button",{type:"button",onClick:m,disabled:f.isUploading,className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.isUploading?"업로드 중...":"업로드"})]}),f.isUploading&&P.jsxs("div",{className:"mt-4",children:[P.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:P.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f.progress.percentage}%`}})}),P.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Math.round(f.progress.percentage),"% 완료"]})]}),f.error&&P.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:f.error}),f.downloadURL&&P.jsx("div",{className:"mt-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:"파일이 성공적으로 업로드되었습니다!"})]})},e6=()=>{const{user:t}=Br(),[e,n]=F.useState({title:"",description:"",assigneeId:"",status:_e.TODO,priority:Fe.MEDIUM,dueDate:void 0,teamId:(t==null?void 0:t.teamId)||""}),[r,i]=F.useState([]),s=Yj(),{t:o}=Ra(),a=async m=>{if(m.preventDefault(),!e.title.trim()){alert(o("task.titleRequired"));return}if(!e.assigneeId.trim()){alert(o("task.assigneeRequired"));return}if(!e.teamId){alert("팀 ID가 필요합니다.");return}try{await s.mutateAsync(e),n({title:"",description:"",assigneeId:"",status:_e.TODO,priority:Fe.MEDIUM,dueDate:void 0,teamId:(t==null?void 0:t.teamId)||""}),alert(o("task.taskCreated"))}catch(I){console.error("태스크 생성 실패:",I),alert(o("task.taskCreateFailed"))}},l=(m,I)=>{n(E=>({...E,[m]:I}))},c=m=>{m.metadata&&i(I=>[...I,m.metadata])},h=m=>{console.error("파일 업로드 실패:",m),alert(`파일 업로드 실패: ${m}`)},d=m=>{switch(m){case _e.TODO:return o("status.todo");case _e.IN_PROGRESS:return o("status.inProgress");case _e.REVIEW:return o("status.review");case _e.DONE:return o("status.done");default:return o("status.todo")}},f=m=>{switch(m){case Fe.LOW:return o("priority.low");case Fe.MEDIUM:return o("priority.medium");case Fe.HIGH:return o("priority.high");case Fe.URGENT:return o("priority.urgent");default:return o("priority.medium")}},p=[_e.TODO,_e.IN_PROGRESS,_e.REVIEW,_e.DONE],v=[Fe.LOW,Fe.MEDIUM,Fe.HIGH,Fe.URGENT];return P.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[P.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:o("task.createTask")}),P.jsxs("form",{onSubmit:a,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:[o("task.title")," *"]}),P.jsx("input",{type:"text",id:"title",value:e.title,onChange:m=>l("title",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:o("task.title")})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:o("task.description")}),P.jsx("textarea",{id:"description",value:e.description||"",onChange:m=>l("description",m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:o("task.description")})]}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"assignee",className:"block text-sm font-medium text-gray-700 mb-1",children:[o("task.assignee")," *"]}),P.jsx("input",{type:"text",id:"assignee",value:e.assigneeId,onChange:m=>l("assigneeId",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:o("task.assignee")})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:o("task.status")}),P.jsx("select",{id:"status",value:e.status,onChange:m=>l("status",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(m=>P.jsx("option",{value:m,children:d(m)},m))})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:o("task.priority")}),P.jsx("select",{id:"priority",value:e.priority,onChange:m=>l("priority",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:v.map(m=>P.jsx("option",{value:m,children:f(m)},m))})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700 mb-1",children:o("task.dueDate")}),P.jsx("input",{type:"date",id:"dueDate",value:e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:"",onChange:m=>l("dueDate",m.target.value?new Date(m.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o("task.attachments")}),P.jsx(Zj,{path:"tasks",metadata:{uploaderId:(t==null?void 0:t.uid)||"",uploaderName:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"Unknown",teamId:(t==null?void 0:t.teamId)||""},onUploadComplete:c,onUploadError:h,multiple:!0,accept:"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/plain,text/csv",maxFiles:5,className:"mt-2"})]}),r.length>0&&P.jsxs("div",{children:[P.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"업로드된 파일:"}),P.jsx("ul",{className:"space-y-1",children:r.map((m,I)=>P.jsxs("li",{className:"text-sm text-gray-600",children:["✓ ",m.name," (",Math.round(m.size/1024),"KB)"]},I))})]}),P.jsx("div",{className:"flex justify-end",children:P.jsx("button",{type:"submit",disabled:s.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s.isPending?o("common.loading"):o("task.createTask")})})]})]})};function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ee.apply(null,arguments)}function ES(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hv(t,e)}function bw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hv(t,e)}var IS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function t6(t,e){return!!(t===e||IS(t)&&IS(e))}function n6(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t6(t[n],e[n]))return!1;return!0}function et(t,e){e===void 0&&(e=n6);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}function Dh(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r6=typeof performance=="object"&&typeof performance.now=="function",SS=r6?function(){return performance.now()}:function(){return Date.now()};function bS(t){cancelAnimationFrame(t.id)}function i6(t,e){var n=SS();function r(){SS()-n>=e?t.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var cg=-1;function TS(t){if(t===void 0&&(t=!1),cg===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),cg=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return cg}var vo=null;function xS(t){if(t===void 0&&(t=!1),vo===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?vo="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?vo="negative":vo="positive-ascending"),document.body.removeChild(e),vo}return vo}var s6=150,o6=function(e,n){return e};function a6(t){var e,n=t.getItemOffset,r=t.getEstimatedTotalSize,i=t.getItemSize,s=t.getOffsetForIndexAndAlignment,o=t.getStartIndexForOffset,a=t.getStopIndexForStartIndex,l=t.initInstanceProps,c=t.shouldResetStyleCacheOnItemSizeChange,h=t.validateProps;return e=function(d){bw(f,d);function f(v){var m;return m=d.call(this,v)||this,m._instanceProps=l(m.props,ES(m)),m._outerRef=void 0,m._resetIsScrollingTimeoutId=null,m.state={instance:ES(m),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof m.props.initialScrollOffset=="number"?m.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},m._callOnItemsRendered=void 0,m._callOnItemsRendered=et(function(I,E,y,_){return m.props.onItemsRendered({overscanStartIndex:I,overscanStopIndex:E,visibleStartIndex:y,visibleStopIndex:_})}),m._callOnScroll=void 0,m._callOnScroll=et(function(I,E,y){return m.props.onScroll({scrollDirection:I,scrollOffset:E,scrollUpdateWasRequested:y})}),m._getItemStyle=void 0,m._getItemStyle=function(I){var E=m.props,y=E.direction,_=E.itemSize,b=E.layout,N=m._getItemStyleCache(c&&_,c&&b,c&&y),O;if(N.hasOwnProperty(I))O=N[I];else{var x=n(m.props,I,m._instanceProps),S=i(m.props,I,m._instanceProps),C=y==="horizontal"||b==="horizontal",R=y==="rtl",D=C?x:0;N[I]=O={position:"absolute",left:R?void 0:D,right:R?D:void 0,top:C?0:x,height:C?"100%":S,width:C?S:"100%"}}return O},m._getItemStyleCache=void 0,m._getItemStyleCache=et(function(I,E,y){return{}}),m._onScrollHorizontal=function(I){var E=I.currentTarget,y=E.clientWidth,_=E.scrollLeft,b=E.scrollWidth;m.setState(function(N){if(N.scrollOffset===_)return null;var O=m.props.direction,x=_;if(O==="rtl")switch(xS()){case"negative":x=-_;break;case"positive-descending":x=b-y-_;break}return x=Math.max(0,Math.min(x,b-y)),{isScrolling:!0,scrollDirection:N.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._onScrollVertical=function(I){var E=I.currentTarget,y=E.clientHeight,_=E.scrollHeight,b=E.scrollTop;m.setState(function(N){if(N.scrollOffset===b)return null;var O=Math.max(0,Math.min(b,_-y));return{isScrolling:!0,scrollDirection:N.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(I){var E=m.props.outerRef;m._outerRef=I,typeof E=="function"?E(I):E!=null&&typeof E=="object"&&E.hasOwnProperty("current")&&(E.current=I)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&bS(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=i6(m._resetIsScrolling,s6)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1,null)})},m}f.getDerivedStateFromProps=function(m,I){return l6(m,I),h(m),null};var p=f.prototype;return p.scrollTo=function(m){m=Math.max(0,m),this.setState(function(I){return I.scrollOffset===m?null:{scrollDirection:I.scrollOffset<m?"forward":"backward",scrollOffset:m,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},p.scrollToItem=function(m,I){I===void 0&&(I="auto");var E=this.props,y=E.itemCount,_=E.layout,b=this.state.scrollOffset;m=Math.max(0,Math.min(m,y-1));var N=0;if(this._outerRef){var O=this._outerRef;_==="vertical"?N=O.scrollWidth>O.clientWidth?TS():0:N=O.scrollHeight>O.clientHeight?TS():0}this.scrollTo(s(this.props,m,I,b,this._instanceProps,N))},p.componentDidMount=function(){var m=this.props,I=m.direction,E=m.initialScrollOffset,y=m.layout;if(typeof E=="number"&&this._outerRef!=null){var _=this._outerRef;I==="horizontal"||y==="horizontal"?_.scrollLeft=E:_.scrollTop=E}this._callPropsCallbacks()},p.componentDidUpdate=function(){var m=this.props,I=m.direction,E=m.layout,y=this.state,_=y.scrollOffset,b=y.scrollUpdateWasRequested;if(b&&this._outerRef!=null){var N=this._outerRef;if(I==="horizontal"||E==="horizontal")if(I==="rtl")switch(xS()){case"negative":N.scrollLeft=-_;break;case"positive-ascending":N.scrollLeft=_;break;default:var O=N.clientWidth,x=N.scrollWidth;N.scrollLeft=x-O-_;break}else N.scrollLeft=_;else N.scrollTop=_}this._callPropsCallbacks()},p.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&bS(this._resetIsScrollingTimeoutId)},p.render=function(){var m=this.props,I=m.children,E=m.className,y=m.direction,_=m.height,b=m.innerRef,N=m.innerElementType,O=m.innerTagName,x=m.itemCount,S=m.itemData,C=m.itemKey,R=C===void 0?o6:C,D=m.layout,L=m.outerElementType,A=m.outerTagName,ie=m.style,Ne=m.useIsScrolling,Ee=m.width,Se=this.state.isScrolling,$=y==="horizontal"||D==="horizontal",Y=$?this._onScrollHorizontal:this._onScrollVertical,X=this._getRangeToRender(),se=X[0],te=X[1],de=[];if(x>0)for(var Be=se;Be<=te;Be++)de.push(F.createElement(I,{data:S,key:R(Be,S),index:Be,isScrolling:Ne?Se:void 0,style:this._getItemStyle(Be)}));var Ve=r(this.props,this._instanceProps);return F.createElement(L||A||"div",{className:E,onScroll:Y,ref:this._outerRefSetter,style:ee({position:"relative",height:_,width:Ee,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:y},ie)},F.createElement(N||O||"div",{children:de,ref:b,style:{height:$?"100%":Ve,pointerEvents:Se?"none":void 0,width:$?Ve:"100%"}}))},p._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var m=this.props.itemCount;if(m>0){var I=this._getRangeToRender(),E=I[0],y=I[1],_=I[2],b=I[3];this._callOnItemsRendered(E,y,_,b)}}if(typeof this.props.onScroll=="function"){var N=this.state,O=N.scrollDirection,x=N.scrollOffset,S=N.scrollUpdateWasRequested;this._callOnScroll(O,x,S)}},p._getRangeToRender=function(){var m=this.props,I=m.itemCount,E=m.overscanCount,y=this.state,_=y.isScrolling,b=y.scrollDirection,N=y.scrollOffset;if(I===0)return[0,0,0,0];var O=o(this.props,N,this._instanceProps),x=a(this.props,O,N,this._instanceProps),S=!_||b==="backward"?Math.max(1,E):1,C=!_||b==="forward"?Math.max(1,E):1;return[Math.max(0,O-S),Math.max(0,Math.min(I-1,x+C)),O,x]},f}(F.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var l6=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},u6=a6({getItemOffset:function(e,n){var r=e.itemSize;return n*r},getItemSize:function(e,n){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var n=e.itemCount,r=e.itemSize;return r*n},getOffsetForIndexAndAlignment:function(e,n,r,i,s,o){var a=e.direction,l=e.height,c=e.itemCount,h=e.itemSize,d=e.layout,f=e.width,p=a==="horizontal"||d==="horizontal",v=p?f:l,m=Math.max(0,c*h-v),I=Math.min(m,n*h),E=Math.max(0,n*h-v+h+o);switch(r==="smart"&&(i>=E-v&&i<=I+v?r="auto":r="center"),r){case"start":return I;case"end":return E;case"center":{var y=Math.round(E+(I-E)/2);return y<Math.ceil(v/2)?0:y>m+Math.floor(v/2)?m:y}case"auto":default:return i>=E&&i<=I?i:i<E?E:I}},getStartIndexForOffset:function(e,n){var r=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(e,n,r){var i=e.direction,s=e.height,o=e.itemCount,a=e.itemSize,l=e.layout,c=e.width,h=i==="horizontal"||l==="horizontal",d=n*a,f=h?c:s,p=Math.ceil((f+r-d)/a);return Math.max(0,Math.min(o-1,n+p-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});let Pn;typeof window<"u"?Pn=window:typeof self<"u"?Pn=self:Pn=global;let fv=null,pv=null;const CS=20,dg=Pn.clearTimeout,RS=Pn.setTimeout,hg=Pn.cancelAnimationFrame||Pn.mozCancelAnimationFrame||Pn.webkitCancelAnimationFrame,AS=Pn.requestAnimationFrame||Pn.mozRequestAnimationFrame||Pn.webkitRequestAnimationFrame;hg==null||AS==null?(fv=dg,pv=function(e){return RS(e,CS)}):(fv=function([e,n]){hg(e),dg(n)},pv=function(e){const n=AS(function(){dg(r),e()}),r=RS(function(){hg(n),e()},CS);return[n,r]});function c6(t){let e,n,r,i,s,o,a;const l=typeof document<"u"&&document.attachEvent;if(!l){o=function(E){const y=E.__resizeTriggers__,_=y.firstElementChild,b=y.lastElementChild,N=_.firstElementChild;b.scrollLeft=b.scrollWidth,b.scrollTop=b.scrollHeight,N.style.width=_.offsetWidth+1+"px",N.style.height=_.offsetHeight+1+"px",_.scrollLeft=_.scrollWidth,_.scrollTop=_.scrollHeight},s=function(E){return E.offsetWidth!==E.__resizeLast__.width||E.offsetHeight!==E.__resizeLast__.height},a=function(E){if(E.target.className&&typeof E.target.className.indexOf=="function"&&E.target.className.indexOf("contract-trigger")<0&&E.target.className.indexOf("expand-trigger")<0)return;const y=this;o(this),this.__resizeRAF__&&fv(this.__resizeRAF__),this.__resizeRAF__=pv(function(){s(y)&&(y.__resizeLast__.width=y.offsetWidth,y.__resizeLast__.height=y.offsetHeight,y.__resizeListeners__.forEach(function(N){N.call(y,E)}))})};let f=!1,p="";r="animationstart";const v="Webkit Moz O ms".split(" ");let m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),I="";{const E=document.createElement("fakeelement");if(E.style.animationName!==void 0&&(f=!0),f===!1){for(let y=0;y<v.length;y++)if(E.style[v[y]+"AnimationName"]!==void 0){I=v[y],p="-"+I.toLowerCase()+"-",r=m[y],f=!0;break}}}n="resizeanim",e="@"+p+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=p+"animation: 1ms "+n+"; "}const c=function(f){if(!f.getElementById("detectElementResize")){const p=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',v=f.head||f.getElementsByTagName("head")[0],m=f.createElement("style");m.id="detectElementResize",m.type="text/css",t!=null&&m.setAttribute("nonce",t),m.styleSheet?m.styleSheet.cssText=p:m.appendChild(f.createTextNode(p)),v.appendChild(m)}};return{addResizeListener:function(f,p){if(l)f.attachEvent("onresize",p);else{if(!f.__resizeTriggers__){const v=f.ownerDocument,m=Pn.getComputedStyle(f);m&&m.position==="static"&&(f.style.position="relative"),c(v),f.__resizeLast__={},f.__resizeListeners__=[],(f.__resizeTriggers__=v.createElement("div")).className="resize-triggers";const I=v.createElement("div");I.className="expand-trigger",I.appendChild(v.createElement("div"));const E=v.createElement("div");E.className="contract-trigger",f.__resizeTriggers__.appendChild(I),f.__resizeTriggers__.appendChild(E),f.appendChild(f.__resizeTriggers__),o(f),f.addEventListener("scroll",a,!0),r&&(f.__resizeTriggers__.__animationListener__=function(_){_.animationName===n&&o(f)},f.__resizeTriggers__.addEventListener(r,f.__resizeTriggers__.__animationListener__))}f.__resizeListeners__.push(p)}},removeResizeListener:function(f,p){if(l)f.detachEvent("onresize",p);else if(f.__resizeListeners__.splice(f.__resizeListeners__.indexOf(p),1),!f.__resizeListeners__.length){f.removeEventListener("scroll",a,!0),f.__resizeTriggers__.__animationListener__&&(f.__resizeTriggers__.removeEventListener(r,f.__resizeTriggers__.__animationListener__),f.__resizeTriggers__.__animationListener__=null);try{f.__resizeTriggers__=!f.removeChild(f.__resizeTriggers__)}catch{}}}}}class d6 extends F.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){const s=window.getComputedStyle(this._parentNode)||{},o=parseFloat(s.paddingLeft||"0"),a=parseFloat(s.paddingRight||"0"),l=parseFloat(s.paddingTop||"0"),c=parseFloat(s.paddingBottom||"0"),h=this._parentNode.getBoundingClientRect(),d=h.height-l-c,f=h.width-o-a;if(!n&&this.state.height!==d||!r&&this.state.width!==f){this.setState({height:d,width:f});const p=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof i=="function"&&i({height:d,width:f,get scaledHeight(){return p(),d},get scaledWidth(){return p(),f}})}}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:e}=this.props,n=this._autoSizer?this._autoSizer.parentNode:null;if(n!=null&&n.ownerDocument&&n.ownerDocument.defaultView&&n instanceof n.ownerDocument.defaultView.HTMLElement){this._parentNode=n;const r=n.ownerDocument.defaultView.ResizeObserver;r!=null?(this._resizeObserver=new r(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(n)):(this._detectElementResize=c6(e),this._detectElementResize.addResizeListener(n,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:s=!1,doNotBailOutOnEmptyChildren:o=!1,nonce:a,onResize:l,style:c={},tagName:h="div",...d}=this.props,{height:f,width:p}=this.state,v={overflow:"visible"},m={};let I=!1;return i||(f===0&&(I=!0),v.height=0,m.height=f,m.scaledHeight=f),s||(p===0&&(I=!0),v.width=0,m.width=p,m.scaledWidth=p),o&&(I=!1),F.createElement(h,{ref:this._setRef,style:{...v,...c},...d},!I&&e(m))}}const cl=({value:t,onSave:e,isEditing:n,onEdit:r,onCancel:i})=>{const[s,o]=F.useState(t),a=()=>{s.trim()!==t&&e(s.trim()),i()},l=c=>{c.key==="Enter"?a():c.key==="Escape"&&(o(t),i())};return n?P.jsx("input",{type:"text",value:s,onChange:c=>o(c.target.value),onBlur:a,onKeyDown:l,className:"w-full px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):P.jsx("div",{className:"px-2 py-1 text-sm cursor-pointer hover:bg-gray-50",onDoubleClick:r,children:t})},h6=({className:t=""})=>{const{data:e,isLoading:n,error:r}=Nf(),i=aA(),s=lA(),[o,a]=F.useState(new Set),[l,c]=F.useState(null),h=F.useMemo(()=>[{key:"title",label:"제목",width:200},{key:"description",label:"설명",width:300},{key:"status",label:"상태",width:120},{key:"priority",label:"우선순위",width:120},{key:"assigneeId",label:"담당자",width:120},{key:"dueDate",label:"마감일",width:120},{key:"actions",label:"작업",width:100}],[]),d=(_,b)=>{const N=new Set(o);b?N.add(_):N.delete(_),a(N)},f=_=>{a(_&&e?new Set(e.map(b=>b.id)):new Set)},p=(_,b)=>{c({taskId:_,field:b})},v=async(_,b,N)=>{try{const O=e==null?void 0:e.find(S=>S.id===_);if(!O)return;const x={};b==="title"||b==="description"?x[b]=N:b==="status"?x.status=N:b==="priority"?x.priority=N:b==="dueDate"?x.dueDate=new Date(N):b==="assigneeId"&&(x.assigneeId=N),await i.mutateAsync({taskId:_,updateData:{...x,id:_,version:O.version||1}})}catch(O){console.error("태스크 업데이트 실패:",O),alert("태스크 업데이트에 실패했습니다.")}},m=async _=>{if(window.confirm("정말로 이 태스크를 삭제하시겠습니까?"))try{await s.mutateAsync(_)}catch(b){console.error("태스크 삭제 실패:",b),alert("태스크 삭제에 실패했습니다.")}},I=async()=>{if(o.size!==0&&window.confirm(`선택된 ${o.size}개의 태스크를 삭제하시겠습니까?`))try{await Promise.all(Array.from(o).map(_=>s.mutateAsync(_))),a(new Set)}catch(_){console.error("일괄 삭제 실패:",_),alert("일괄 삭제에 실패했습니다.")}},E=(_,b)=>{const N=(l==null?void 0:l.taskId)===_.id&&(l==null?void 0:l.field)===b.key;switch(b.key){case"title":case"description":return P.jsx(cl,{value:_[b.key]||"",onSave:O=>v(_.id,b.key,O),isEditing:N,onEdit:()=>p(_.id,b.key),onCancel:()=>c(null)});case"status":return P.jsx(cl,{value:_.status,onSave:O=>v(_.id,"status",O),isEditing:N,onEdit:()=>p(_.id,"status"),onCancel:()=>c(null)});case"priority":return P.jsx(cl,{value:_.priority,onSave:O=>v(_.id,"priority",O),isEditing:N,onEdit:()=>p(_.id,"priority"),onCancel:()=>c(null)});case"assigneeId":return P.jsx(cl,{value:_.assigneeId,onSave:O=>v(_.id,"assigneeId",O),isEditing:N,onEdit:()=>p(_.id,"assigneeId"),onCancel:()=>c(null)});case"dueDate":return P.jsx(cl,{value:_.dueDate?new Date(_.dueDate).toISOString().split("T")[0]:"",onSave:O=>v(_.id,"dueDate",O),isEditing:N,onEdit:()=>p(_.id,"dueDate"),onCancel:()=>c(null)});case"actions":return P.jsx("div",{className:"flex gap-1",children:P.jsx("button",{onClick:()=>m(_.id),className:"px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded",children:"삭제"})});default:return P.jsx("div",{className:"px-2 py-1 text-sm",children:_[b.key]})}},y=({index:_,style:b})=>{const N=e==null?void 0:e[_];if(!N)return null;const O=o.has(N.id);return P.jsxs("div",{style:b,className:`flex items-center border-b border-gray-200 hover:bg-gray-50 ${O?"bg-blue-50":""}`,children:[P.jsx("div",{className:"w-12 p-2",children:P.jsx("input",{type:"checkbox",checked:O,onChange:x=>d(N.id,x.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),h.map(x=>P.jsx("div",{className:"border-r border-gray-200 last:border-r-0",style:{width:x.width},children:E(N,x)},x.key))]})};return n?P.jsx("div",{className:"flex justify-center items-center h-64",children:"로딩 중..."}):r?P.jsx("div",{className:"text-red-500",children:"태스크 목록을 불러오는데 실패했습니다."}):P.jsxs("div",{className:`bg-white rounded-lg shadow ${t}`,children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[P.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"그리드 뷰"}),o.size>0&&P.jsxs("button",{onClick:I,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded",children:["선택 삭제 (",o.size,")"]})]}),P.jsxs("div",{className:"flex items-center border-b border-gray-200 bg-gray-50",children:[P.jsx("div",{className:"w-12 p-2",children:P.jsx("input",{type:"checkbox",checked:o.size===((e==null?void 0:e.length)||0)&&o.size>0,onChange:_=>f(_.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),h.map(_=>P.jsx("div",{className:"px-2 py-3 text-sm font-medium text-gray-700 border-r border-gray-200 last:border-r-0",style:{width:_.width},children:_.label},_.key))]}),P.jsx("div",{className:"h-96",children:P.jsx(d6,{children:({height:_,width:b})=>P.jsx(u6,{height:_,itemCount:(e==null?void 0:e.length)||0,itemSize:50,width:b,children:y})})}),(e==null?void 0:e.length)===0&&P.jsx("div",{className:"text-center text-gray-500 py-8",children:"등록된 태스크가 없습니다."})]})};function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function f6(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p6(t){var e=f6(t,"string");return Su(e)=="symbol"?e:e+""}function g6(t,e,n){return(e=p6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){g6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var NS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fg=function(){return Math.random().toString(36).substring(7).split("").join(".")},kS={INIT:"@@redux/INIT"+fg(),REPLACE:"@@redux/REPLACE"+fg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fg()}};function m6(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function uA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qt(1));return n(uA)(t,e)}if(typeof t!="function")throw new Error(Qt(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function h(){if(l)throw new Error(Qt(3));return s}function d(m){if(typeof m!="function")throw new Error(Qt(4));if(l)throw new Error(Qt(5));var I=!0;return c(),a.push(m),function(){if(I){if(l)throw new Error(Qt(6));I=!1,c();var y=a.indexOf(m);a.splice(y,1),o=null}}}function f(m){if(!m6(m))throw new Error(Qt(7));if(typeof m.type>"u")throw new Error(Qt(8));if(l)throw new Error(Qt(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var I=o=a,E=0;E<I.length;E++){var y=I[E];y()}return m}function p(m){if(typeof m!="function")throw new Error(Qt(10));i=m,f({type:kS.REPLACE})}function v(){var m,I=d;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Qt(11));function _(){y.next&&y.next(h())}_();var b=I(_);return{unsubscribe:b}}},m[NS]=function(){return this},m}return f({type:kS.INIT}),r={dispatch:f,subscribe:d,getState:h,replaceReducer:p},r[NS]=v,r}function OS(t,e){return function(){return e(t.apply(this,arguments))}}function LS(t,e){if(typeof t=="function")return OS(t,e);if(typeof t!="object"||t===null)throw new Error(Qt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=OS(i,e))}return n}function cA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function v6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Qt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=cA.apply(void 0,a)(i.dispatch),DS(DS({},i),{},{dispatch:s})}}}var dA=Re.createContext(null);function y6(t){t()}var hA=y6,w6=function(e){return hA=e},_6=function(){return hA};function E6(){var t=_6(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var MS={notify:function(){},get:function(){return[]}};function fA(t,e){var n,r=MS;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){h.onStateChange&&h.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=E6())}function c(){n&&(n(),n=void 0,r.clear(),r=MS)}var h={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return h}var pA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect;function I6(t){var e=t.store,n=t.context,r=t.children,i=F.useMemo(function(){var a=fA(e);return{store:e,subscription:a}},[e]),s=F.useMemo(function(){return e.getState()},[e]);pA(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||dA;return Re.createElement(o.Provider,{value:i},r)}var gA={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=typeof Symbol=="function"&&Symbol.for,Tw=ft?Symbol.for("react.element"):60103,xw=ft?Symbol.for("react.portal"):60106,kf=ft?Symbol.for("react.fragment"):60107,Of=ft?Symbol.for("react.strict_mode"):60108,Lf=ft?Symbol.for("react.profiler"):60114,Mf=ft?Symbol.for("react.provider"):60109,Vf=ft?Symbol.for("react.context"):60110,Cw=ft?Symbol.for("react.async_mode"):60111,Ff=ft?Symbol.for("react.concurrent_mode"):60111,Uf=ft?Symbol.for("react.forward_ref"):60112,Bf=ft?Symbol.for("react.suspense"):60113,S6=ft?Symbol.for("react.suspense_list"):60120,jf=ft?Symbol.for("react.memo"):60115,$f=ft?Symbol.for("react.lazy"):60116,b6=ft?Symbol.for("react.block"):60121,T6=ft?Symbol.for("react.fundamental"):60117,x6=ft?Symbol.for("react.responder"):60118,C6=ft?Symbol.for("react.scope"):60119;function yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Tw:switch(t=t.type,t){case Cw:case Ff:case kf:case Lf:case Of:case Bf:return t;default:switch(t=t&&t.$$typeof,t){case Vf:case Uf:case $f:case jf:case Mf:return t;default:return e}}case xw:return e}}}function mA(t){return yn(t)===Ff}xe.AsyncMode=Cw;xe.ConcurrentMode=Ff;xe.ContextConsumer=Vf;xe.ContextProvider=Mf;xe.Element=Tw;xe.ForwardRef=Uf;xe.Fragment=kf;xe.Lazy=$f;xe.Memo=jf;xe.Portal=xw;xe.Profiler=Lf;xe.StrictMode=Of;xe.Suspense=Bf;xe.isAsyncMode=function(t){return mA(t)||yn(t)===Cw};xe.isConcurrentMode=mA;xe.isContextConsumer=function(t){return yn(t)===Vf};xe.isContextProvider=function(t){return yn(t)===Mf};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tw};xe.isForwardRef=function(t){return yn(t)===Uf};xe.isFragment=function(t){return yn(t)===kf};xe.isLazy=function(t){return yn(t)===$f};xe.isMemo=function(t){return yn(t)===jf};xe.isPortal=function(t){return yn(t)===xw};xe.isProfiler=function(t){return yn(t)===Lf};xe.isStrictMode=function(t){return yn(t)===Of};xe.isSuspense=function(t){return yn(t)===Bf};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kf||t===Ff||t===Lf||t===Of||t===Bf||t===S6||typeof t=="object"&&t!==null&&(t.$$typeof===$f||t.$$typeof===jf||t.$$typeof===Mf||t.$$typeof===Vf||t.$$typeof===Uf||t.$$typeof===T6||t.$$typeof===x6||t.$$typeof===C6||t.$$typeof===b6)};xe.typeOf=yn;gA.exports=xe;var R6=gA.exports,Rw=R6,A6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},P6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},D6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Aw={};Aw[Rw.ForwardRef]=D6;Aw[Rw.Memo]=vA;function VS(t){return Rw.isMemo(t)?vA:Aw[t.$$typeof]||A6}var N6=Object.defineProperty,k6=Object.getOwnPropertyNames,FS=Object.getOwnPropertySymbols,O6=Object.getOwnPropertyDescriptor,L6=Object.getPrototypeOf,US=Object.prototype;function yA(t,e,n){if(typeof e!="string"){if(US){var r=L6(e);r&&r!==US&&yA(t,r,n)}var i=k6(e);FS&&(i=i.concat(FS(e)));for(var s=VS(t),o=VS(e),a=0;a<i.length;++a){var l=i[a];if(!P6[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=O6(e,l);try{N6(t,l,c)}catch{}}}}return t}var M6=yA;const BS=Ev(M6);var wA={exports:{}},Ae={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=60103,Wf=60106,sc=60107,oc=60108,ac=60114,lc=60109,uc=60110,cc=60112,dc=60113,Pw=60120,hc=60115,fc=60116,_A=60121,EA=60122,IA=60117,SA=60129,bA=60131;if(typeof Symbol=="function"&&Symbol.for){var gt=Symbol.for;zf=gt("react.element"),Wf=gt("react.portal"),sc=gt("react.fragment"),oc=gt("react.strict_mode"),ac=gt("react.profiler"),lc=gt("react.provider"),uc=gt("react.context"),cc=gt("react.forward_ref"),dc=gt("react.suspense"),Pw=gt("react.suspense_list"),hc=gt("react.memo"),fc=gt("react.lazy"),_A=gt("react.block"),EA=gt("react.server.block"),IA=gt("react.fundamental"),SA=gt("react.debug_trace_mode"),bA=gt("react.legacy_hidden")}function Yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zf:switch(t=t.type,t){case sc:case ac:case oc:case dc:case Pw:return t;default:switch(t=t&&t.$$typeof,t){case uc:case cc:case fc:case hc:case lc:return t;default:return e}}case Wf:return e}}}var V6=lc,F6=zf,U6=cc,B6=sc,j6=fc,$6=hc,z6=Wf,W6=ac,H6=oc,q6=dc;Ae.ContextConsumer=uc;Ae.ContextProvider=V6;Ae.Element=F6;Ae.ForwardRef=U6;Ae.Fragment=B6;Ae.Lazy=j6;Ae.Memo=$6;Ae.Portal=z6;Ae.Profiler=W6;Ae.StrictMode=H6;Ae.Suspense=q6;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(t){return Yn(t)===uc};Ae.isContextProvider=function(t){return Yn(t)===lc};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zf};Ae.isForwardRef=function(t){return Yn(t)===cc};Ae.isFragment=function(t){return Yn(t)===sc};Ae.isLazy=function(t){return Yn(t)===fc};Ae.isMemo=function(t){return Yn(t)===hc};Ae.isPortal=function(t){return Yn(t)===Wf};Ae.isProfiler=function(t){return Yn(t)===ac};Ae.isStrictMode=function(t){return Yn(t)===oc};Ae.isSuspense=function(t){return Yn(t)===dc};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sc||t===ac||t===SA||t===oc||t===dc||t===Pw||t===bA||typeof t=="object"&&t!==null&&(t.$$typeof===fc||t.$$typeof===hc||t.$$typeof===lc||t.$$typeof===uc||t.$$typeof===cc||t.$$typeof===IA||t.$$typeof===_A||t[0]===EA)};Ae.typeOf=Yn;wA.exports=Ae;var G6=wA.exports,K6=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Q6=["reactReduxForwardedRef"],Y6=[],X6=[null,null];function J6(t,e){var n=t[1];return[e.payload,n+1]}function jS(t,e,n){pA(function(){return t.apply(void 0,e)},n)}function Z6(t,e,n,r,i,s,o){t.current=r,e.current=i,n.current=!1,s.current&&(s.current=null,o())}function e3(t,e,n,r,i,s,o,a,l,c){if(t){var h=!1,d=null,f=function(){if(!h){var m=e.getState(),I,E;try{I=r(m,i.current)}catch(y){E=y,d=y}E||(d=null),I===s.current?o.current||l():(s.current=I,a.current=I,o.current=!0,c({type:"STORE_UPDATED",payload:{error:E}}))}};n.onStateChange=f,n.trySubscribe(),f();var p=function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return p}}var t3=function(){return[null,0]};function n3(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(_){return"ConnectAdvanced("+_+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,a=n.renderCountProp,l=a===void 0?void 0:a,c=n.shouldHandleStateChanges,h=c===void 0?!0:c,d=n.storeKey,f=d===void 0?"store":d;n.withRef;var p=n.forwardRef,v=p===void 0?!1:p,m=n.context,I=m===void 0?dA:m,E=Dh(n,K6),y=I;return function(b){var N=b.displayName||b.name||"Component",O=i(N),x=ee({},E,{getDisplayName:i,methodName:o,renderCountProp:l,shouldHandleStateChanges:h,storeKey:f,displayName:O,wrappedComponentName:N,WrappedComponent:b}),S=E.pure;function C(ie){return t(ie.dispatch,x)}var R=S?F.useMemo:function(ie){return ie()};function D(ie){var Ne=F.useMemo(function(){var zr=ie.reactReduxForwardedRef,lo=Dh(ie,Q6);return[ie.context,zr,lo]},[ie]),Ee=Ne[0],Se=Ne[1],$=Ne[2],Y=F.useMemo(function(){return Ee&&Ee.Consumer&&G6.isContextConsumer(Re.createElement(Ee.Consumer,null))?Ee:y},[Ee,y]),X=F.useContext(Y),se=!!ie.store&&!!ie.store.getState&&!!ie.store.dispatch;X&&X.store;var te=se?ie.store:X.store,de=F.useMemo(function(){return C(te)},[te]),Be=F.useMemo(function(){if(!h)return X6;var zr=fA(te,se?null:X.subscription),lo=zr.notifyNestedSubs.bind(zr);return[zr,lo]},[te,se,X]),Ve=Be[0],Kt=Be[1],Mt=F.useMemo(function(){return se?X:ee({},X,{subscription:Ve})},[se,X,Ve]),ro=F.useReducer(J6,Y6,t3),Ua=ro[0],On=Ua[0],jr=ro[1];if(On&&On.error)throw On.error;var io=F.useRef(),is=F.useRef($),$r=F.useRef(),so=F.useRef(!1),oo=R(function(){return $r.current&&$===is.current?$r.current:de(te.getState(),$)},[te,On,$]);jS(Z6,[is,io,so,$,oo,$r,Kt]),jS(e3,[h,te,Ve,de,is,io,so,$r,Kt,jr],[te,Ve,de]);var ao=F.useMemo(function(){return Re.createElement(b,ee({},oo,{ref:Se}))},[Se,b,oo]),Zf=F.useMemo(function(){return h?Re.createElement(Y.Provider,{value:Mt},ao):ao},[Y,ao,Mt]);return Zf}var L=S?Re.memo(D):D;if(L.WrappedComponent=b,L.displayName=D.displayName=O,v){var A=Re.forwardRef(function(Ne,Ee){return Re.createElement(L,ee({},Ne,{reactReduxForwardedRef:Ee}))});return A.displayName=O,A.WrappedComponent=b,BS(A,b)}return BS(L,b)}}function $S(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function pg(t,e){if($S(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!$S(t[n[i]],e[n[i]]))return!1;return!0}function r3(t,e){var n={},r=function(o){var a=t[o];typeof a=="function"&&(n[o]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function Dw(t){return function(n,r){var i=t(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function zS(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function TA(t,e){return function(r,i){i.displayName;var s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=zS(t);var c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=zS(c),c=s(a,l)),c},s}}function i3(t){return typeof t=="function"?TA(t):void 0}function s3(t){return t?void 0:Dw(function(e){return{dispatch:e}})}function o3(t){return t&&typeof t=="object"?Dw(function(e){return r3(t,e)}):void 0}const a3=[i3,s3,o3];function l3(t){return typeof t=="function"?TA(t):void 0}function u3(t){return t?void 0:Dw(function(){return{}})}const c3=[l3,u3];function d3(t,e,n){return ee({},n,t,e)}function h3(t){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,a;return function(c,h,d){var f=t(c,h,d);return o?(!i||!s(f,a))&&(a=f):(o=!0,a=f),a}}}function f3(t){return typeof t=="function"?h3(t):void 0}function p3(t){return t?void 0:function(){return d3}}const g3=[f3,p3];var m3=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function v3(t,e,n,r){return function(s,o){return n(t(s,o),e(r,o),o)}}function y3(t,e,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,c,h,d,f,p;function v(_,b){return c=_,h=b,d=t(c,h),f=e(r,h),p=n(d,f,h),l=!0,p}function m(){return d=t(c,h),e.dependsOnOwnProps&&(f=e(r,h)),p=n(d,f,h),p}function I(){return t.dependsOnOwnProps&&(d=t(c,h)),e.dependsOnOwnProps&&(f=e(r,h)),p=n(d,f,h),p}function E(){var _=t(c,h),b=!a(_,d);return d=_,b&&(p=n(d,f,h)),p}function y(_,b){var N=!o(b,h),O=!s(_,c,b,h);return c=_,h=b,N&&O?m():N?I():O?E():p}return function(b,N){return l?y(b,N):v(b,N)}}function w3(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,s=Dh(e,m3),o=n(t,s),a=r(t,s),l=i(t,s),c=s.pure?y3:v3;return c(o,a,l,t,s)}var _3=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function gg(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function E3(t,e){return t===e}function I3(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?n3:n,i=e.mapStateToPropsFactories,s=i===void 0?c3:i,o=e.mapDispatchToPropsFactories,a=o===void 0?a3:o,l=e.mergePropsFactories,c=l===void 0?g3:l,h=e.selectorFactory,d=h===void 0?w3:h;return function(p,v,m,I){I===void 0&&(I={});var E=I,y=E.pure,_=y===void 0?!0:y,b=E.areStatesEqual,N=b===void 0?E3:b,O=E.areOwnPropsEqual,x=O===void 0?pg:O,S=E.areStatePropsEqual,C=S===void 0?pg:S,R=E.areMergedPropsEqual,D=R===void 0?pg:R,L=Dh(E,_3),A=gg(p,s,"mapStateToProps"),ie=gg(v,a,"mapDispatchToProps"),Ne=gg(m,c,"mergeProps");return r(d,ee({methodName:"connect",getDisplayName:function(Se){return"Connect("+Se+")"},shouldHandleStateChanges:!!p,initMapStateToProps:A,initMapDispatchToProps:ie,initMergeProps:Ne,pure:_,areStatesEqual:N,areOwnPropsEqual:x,areStatePropsEqual:C,areMergedPropsEqual:D},L))}}const xA=I3();w6(my.unstable_batchedUpdates);function S3(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function CA(t,e){var n=F.useState(function(){return{inputs:e,result:t()}})[0],r=F.useRef(!0),i=F.useRef(n),s=r.current||!!(e&&i.current.inputs&&S3(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return F.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function b3(t,e){return CA(function(){return t},e)}var ve=CA,J=b3,T3=!0,mg="Invariant failed";function x3(t,e){if(!t){if(T3)throw new Error(mg);var n=typeof e=="function"?e():e,r=n?"".concat(mg,": ").concat(n):mg;throw new Error(r)}}var zn=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},Nw=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},WS=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},C3=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},vg={top:0,right:0,bottom:0,left:0},kw=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?vg:r,s=e.border,o=s===void 0?vg:s,a=e.padding,l=a===void 0?vg:a,c=zn(Nw(n,i)),h=zn(WS(n,o)),d=zn(WS(h,l));return{marginBox:c,borderBox:zn(n),paddingBox:h,contentBox:d,margin:i,border:o,padding:l}},wn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&x3(!1),i},R3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Nh=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=C3(r,n);return kw({borderBox:a,border:i,margin:s,padding:o})},kh=function(e,n){return n===void 0&&(n=R3()),Nh(e,n)},RA=function(e,n){var r={top:wn(n.marginTop),right:wn(n.marginRight),bottom:wn(n.marginBottom),left:wn(n.marginLeft)},i={top:wn(n.paddingTop),right:wn(n.paddingRight),bottom:wn(n.paddingBottom),left:wn(n.paddingLeft)},s={top:wn(n.borderTopWidth),right:wn(n.borderRightWidth),bottom:wn(n.borderBottomWidth),left:wn(n.borderLeftWidth)};return kw({borderBox:e,margin:r,padding:i,border:s})},AA=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return RA(n,r)},A3=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const bu=A3;function PA(t,e){}PA.bind(null,"warn");PA.bind(null,"error");function Li(){}function P3(t,e){return ee({},t,{},e)}function Cn(t,e,n){var r=e.map(function(i){var s=P3(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var D3="Invariant failed";function Oh(t){this.message=t}Oh.prototype.toString=function(){return this.message};function z(t,e){if(!t)throw new Oh(D3)}var N3=function(t){bw(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.callbacks=null,r.unbind=Li,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var c=a.error;c instanceof Oh&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Cn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Oh){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(Re.Component),k3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Lh=function(e){return e+1},O3=function(e){return`
  You have lifted an item in position `+Lh(e.source.index)+`
`},DA=function(e,n){var r=e.droppableId===n.droppableId,i=Lh(e.index),s=Lh(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},NA=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},L3=function(e){var n=e.destination;if(n)return DA(e.source,n);var r=e.combine;return r?NA(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},HS=function(e){return`
  The item has returned to its starting position
  of `+Lh(e.index)+`
`},M3=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+HS(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+DA(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+NA(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+HS(e.source)+`
  `},Ld={dragHandleUsageInstructions:k3,onDragStart:O3,onDragUpdate:L3,onDragEnd:M3},ht={x:0,y:0},wt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},dn=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Mi=function(e,n){return e.x===n.x&&e.y===n.y},Ma=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Qs=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Tu=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},qS=function(e,n){return Math.min.apply(Math,n.map(function(r){return Tu(e,r)}))},kA=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},V3=function(t,e){var n=zn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},pc=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},GS=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},F3={top:0,right:0,bottom:0,left:0},U3=function(e,n){return n?pc(e,n.scroll.diff.displacement):e},B3=function(e,n,r){if(r&&r.increasedBy){var i;return ee({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},j3=function(e,n){return n&&n.shouldClipSubject?V3(n.pageMarginBox,e):zn(e)},Ea=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,s=U3(e.marginBox,i),o=B3(s,r,n),a=j3(o,i);return{page:e,withPlaceholder:n,active:a}},Ow=function(t,e){t.frame||z(!1);var n=t.frame,r=dn(e,n.scroll.initial),i=Ma(r),s=ee({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),o=Ea({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s}),a=ee({},t,{frame:s,subject:o});return a};function Mh(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function Lw(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function rs(t,e){if(t.find)return t.find(e);var n=Lw(t,e);if(n!==-1)return t[n]}function OA(t){return Array.prototype.slice.call(t)}var LA=et(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),MA=et(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),Hf=et(function(t){return Mh(t)}),$3=et(function(t){return Mh(t)}),Va=et(function(t,e){var n=$3(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Mw(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function qf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Gf=et(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),z3=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.previousImpact;if(!r.isCombineEnabled)return null;var o=Mw(s);if(!o)return null;function a(m){var I={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return ee({},s,{at:I})}var l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;var h=Gf(n,i);if(!c){if(!h.length)return null;var d=h[h.length-1];return a(d.descriptor.id)}var f=Lw(h,function(m){return m.descriptor.id===c});f===-1&&z(!1);var p=f-1;if(p<0)return null;var v=h[p];return a(v.descriptor.id)},Fa=function(t,e){return t.descriptor.droppableId===e.descriptor.id},VA={point:ht,value:0},xu={invisible:{},visible:{},all:[]},W3={displaced:xu,displacedBy:VA,at:null},Dn=function(t,e){return function(n){return t<=n&&n<=e}},FA=function(t){var e=Dn(t.top,t.bottom),n=Dn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right),a=s&&o;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right,h=l&&c;if(h)return!0;var d=l&&o||c&&s;return d}},H3=function(t){var e=Dn(t.top,t.bottom),n=Dn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},Vw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},UA={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},q3=function(t){return function(e){var n=Dn(e.top,e.bottom),r=Dn(e.left,e.right);return function(i){return t===Vw?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},G3=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:ht;return pc(e,r)},K3=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},Q3=function(e,n,r){return r(n)(e)},Fw=function(e){var n=e.target,r=e.destination,i=e.viewport,s=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=s?G3(n,r):n;return K3(a,r,o)&&Q3(a,i,o)},Y3=function(e){return Fw(ee({},e,{isVisibleThroughFrameFn:FA}))},BA=function(e){return Fw(ee({},e,{isVisibleThroughFrameFn:H3}))},X3=function(e){return Fw(ee({},e,{isVisibleThroughFrameFn:q3(e.destination.axis)}))},J3=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[e])return!1;var o=s[e];return o?o.shouldAnimate:!0};function Z3(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return zn(Nw(n,r))}function Cu(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,s=t.forceShouldAnimate,o=t.last;return e.reduce(function(l,c){var h=Z3(c,r),d=c.descriptor.id;l.all.push(d);var f=Y3({target:h,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[c.descriptor.id]=!0,l;var p=J3(d,o,s),v={draggableId:d,shouldAnimate:p};return l.visible[d]=v,l},{all:[],visible:{},invisible:{}})}function e$(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function KS(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,s=e$(e,{inHomeList:n});return{displaced:xu,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function Vh(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,s=t.displacedBy,o=t.last,a=t.index,l=t.forceShouldAnimate,c=Fa(e,r);if(a==null)return KS({insideDestination:n,inHomeList:c,displacedBy:s,destination:r});var h=rs(n,function(m){return m.descriptor.index===a});if(!h)return KS({insideDestination:n,inHomeList:c,displacedBy:s,destination:r});var d=Gf(e,n),f=n.indexOf(h),p=d.slice(f),v=Cu({afterDragging:p,destination:r,displacedBy:s,last:o,viewport:i.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Gi(t,e){return!!e.effected[t]}var t$=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,s=t.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,a=r[o],l=a.descriptor.index,c=Gi(o,s);return c?e?l:l-1:e?l+1:l},n$=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var s=i.index,o=e?s+1:s-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=n?l:l+1;return o<a||o>c?null:o},r$=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,s=t.destination,o=t.insideDestination,a=t.previousImpact,l=t.viewport,c=t.afterCritical,h=a.at;if(h||z(!1),h.type==="REORDER"){var d=n$({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:o});return d==null?null:Vh({draggable:r,insideDestination:o,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var f=t$({isMovingForward:e,destination:s,displaced:a.displaced,draggables:i,combine:h.combine,afterCritical:c});return f==null?null:Vh({draggable:r,insideDestination:o,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},i$=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,s=!!(e.visible[r]||e.invisible[r]);return Gi(r,n)?s?ht:Ma(i.point):s?i.point:ht},s$=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=qf(n);i||z(!1);var s=i.draggableId,o=r[s].page.borderBox.center,a=i$({displaced:n.displaced,afterCritical:e,combineWith:s,displacedBy:n.displacedBy});return wt(o,a)},jA=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},o$=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},Uw=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},QS=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Qs(n.line,r.marginBox[n.end]+jA(n,i),Uw(n,r.marginBox,i))},YS=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Qs(n.line,r.marginBox[n.start]-o$(n,i),Uw(n,r.marginBox,i))},a$=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Qs(n.line,r.contentBox[n.start]+jA(n,i),Uw(n,r.contentBox,i))},l$=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,s=t.afterCritical,o=Va(i.descriptor.id,r),a=n.page,l=i.axis;if(!o.length)return a$({axis:l,moveInto:i.page,isMoving:a});var c=e.displaced,h=e.displacedBy,d=c.all[0];if(d){var f=r[d];if(Gi(d,s))return YS({axis:l,moveRelativeTo:f.page,isMoving:a});var p=Nh(f.page,h.point);return YS({axis:l,moveRelativeTo:p,isMoving:a})}var v=o[o.length-1];if(v.descriptor.id===n.descriptor.id)return a.borderBox.center;if(Gi(v.descriptor.id,s)){var m=Nh(v.page,Ma(s.displacedBy.point));return QS({axis:l,moveRelativeTo:m,isMoving:a})}return QS({axis:l,moveRelativeTo:v.page,isMoving:a})},gv=function(t,e){var n=t.frame;return n?wt(e,n.scroll.diff.displacement):e},u$=function(e){var n=e.impact,r=e.draggable,i=e.droppable,s=e.draggables,o=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?l$({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:o}):s$({impact:n,draggables:s,afterCritical:o})},Kf=function(t){var e=u$(t),n=t.droppable,r=n?gv(n,e):e;return r},$A=function(t,e){var n=dn(e,t.scroll.initial),r=Ma(n),i=zn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),s={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return s};function XS(t,e){return t.map(function(n){return e[n]})}function c$(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var d$=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,s=t.maxScrollChange,o=$A(n,wt(n.scroll.current,s)),a=r.frame?Ow(r,wt(r.frame.scroll.current,s)):r,l=e.displaced,c=Cu({afterDragging:XS(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),h=Cu({afterDragging:XS(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},p=[l,c,h];l.all.forEach(function(m){var I=c$(m,p);if(I){f[m]=I;return}d[m]=!0});var v=ee({},e,{displaced:{all:l.all,invisible:d,visible:f}});return v},h$=function(t,e){return wt(t.scroll.diff.displacement,e)},Bw=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=h$(r,e),s=dn(i,n.page.borderBox.center);return wt(n.client.borderBox.center,s)},zA=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,s=t.withDroppableDisplacement,o=t.onlyOnMainAxis,a=o===void 0?!1:o,l=dn(r,e.page.borderBox.center),c=pc(e.page.borderBox,l),h={target:c,destination:n,withDroppableDisplacement:s,viewport:i};return a?X3(h):BA(h)},f$=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,s=t.previousImpact,o=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,c=t.afterCritical;if(!r.isEnabled)return null;var h=Va(r.descriptor.id,i),d=Fa(n,r),f=z3({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:s})||r$({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:h,previousImpact:s,viewport:o,afterCritical:c});if(!f)return null;var p=Kf({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:c}),v=zA({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var m=Bw({pageBorderBoxCenter:p,draggable:n,viewport:o});return{clientSelection:m,impact:f,scrollJumpRequest:null}}var I=dn(p,a),E=d$({impact:f,viewport:o,destination:r,draggables:i,maxScrollChange:I});return{clientSelection:l,impact:E,scrollJumpRequest:I}},Bt=function(e){var n=e.subject.active;return n||z(!1),n},p$=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,s=t.viewport,o=r.subject.active;if(!o)return null;var a=r.axis,l=Dn(o[a.start],o[a.end]),c=Hf(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return FA(s.frame)(Bt(d))}).filter(function(d){var f=Bt(d);return e?o[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<o[a.crossAxisStart]}).filter(function(d){var f=Bt(d),p=Dn(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||p(o[a.start])||p(o[a.end])}).sort(function(d,f){var p=Bt(d)[a.crossAxisStart],v=Bt(f)[a.crossAxisStart];return e?p-v:v-p}).filter(function(d,f,p){return Bt(d)[a.crossAxisStart]===Bt(p[0])[a.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var h=c.filter(function(d){var f=Dn(Bt(d)[a.start],Bt(d)[a.end]);return f(n[a.line])});return h.length===1?h[0]:h.length>1?h.sort(function(d,f){return Bt(d)[a.start]-Bt(f)[a.start]})[0]:c.sort(function(d,f){var p=qS(n,GS(Bt(d))),v=qS(n,GS(Bt(f)));return p!==v?p-v:Bt(d)[a.start]-Bt(f)[a.start]})[0]},JS=function(e,n){var r=e.page.borderBox.center;return Gi(e.descriptor.id,n)?dn(r,n.displacedBy.point):r},g$=function(e,n){var r=e.page.borderBox;return Gi(e.descriptor.id,n)?pc(r,Ma(n.displacedBy.point)):r},m$=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,s=t.afterCritical,o=i.filter(function(a){return BA({target:g$(a,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var c=Tu(e,gv(r,JS(a,s))),h=Tu(e,gv(r,JS(l,s)));return c<h?-1:h<c?1:a.descriptor.index-l.descriptor.index});return o[0]||null},gc=et(function(e,n){var r=n[e.line];return{value:r,point:Qs(e.line,r)}}),v$=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Qs(i.line,n[i.line]);var s=e.subject.page.contentBox[i.size],o=Va(e.descriptor.id,r),a=o.reduce(function(h,d){return h+d.client.marginBox[i.size]},0),l=a+n[i.line],c=l-s;return c<=0?null:Qs(i.line,c)},WA=function(e,n){return ee({},e,{scroll:ee({},e.scroll,{max:n})})},HA=function(e,n,r){var i=e.frame;Fa(n,e)&&z(!1),e.subject.withPlaceholder&&z(!1);var s=gc(e.axis,n.displaceBy).point,o=v$(e,s,r),a={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Ea({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return ee({},e,{subject:l})}var c=o?wt(i.scroll.max,o):i.scroll.max,h=WA(i,c),d=Ea({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:h});return ee({},e,{subject:d,frame:h})},y$=function(e){var n=e.subject.withPlaceholder;n||z(!1);var r=e.frame;if(!r){var i=Ea({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return ee({},e,{subject:i})}var s=n.oldFrameMaxScroll;s||z(!1);var o=WA(r,s),a=Ea({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return ee({},e,{subject:a,frame:o})},w$=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,s=t.draggables,o=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var c={displaced:xu,displacedBy:VA,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=Kf({impact:c,draggable:i,droppable:o,draggables:s,afterCritical:l}),d=Fa(i,o)?o:HA(o,i,s),f=zA({draggable:i,destination:d,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?c:null}var p=e[o.axis.line]<=n.page.borderBox.center[o.axis.line],v=function(){var I=n.descriptor.index;return n.descriptor.id===i.descriptor.id||p?I:I+1}(),m=gc(o.axis,i.displaceBy);return Vh({draggable:i,insideDestination:r,destination:o,viewport:a,displacedBy:m,last:xu,index:v})},_$=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,s=t.draggables,o=t.droppables,a=t.viewport,l=t.afterCritical,c=p$({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:o,viewport:a});if(!c)return null;var h=Va(c.descriptor.id,s),d=m$({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:h,afterCritical:l}),f=w$({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:s,moveRelativeTo:d,insideDestination:h,viewport:a,afterCritical:l});if(!f)return null;var p=Kf({impact:f,draggable:r,droppable:c,draggables:s,afterCritical:l}),v=Bw({pageBorderBoxCenter:p,draggable:r,viewport:a});return{clientSelection:v,impact:f,scrollJumpRequest:null}},fn=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},E$=function(e,n){var r=fn(e);return r?n[r]:null},I$=function(t){var e=t.state,n=t.type,r=E$(e.impact,e.dimensions.droppables),i=!!r,s=e.dimensions.droppables[e.critical.droppable.id],o=r||s,a=o.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,p=f.draggables,v=f.droppables;return l?f$({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:h,destination:o,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):_$({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:h,isOver:o,draggables:p,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function fs(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function qA(t){var e=Dn(t.top,t.bottom),n=Dn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function S$(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function b$(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,s=r.map(function(o){var a=o.axis,l=Qs(o.axis.line,e.center[a.line],o.page.borderBox.center[a.crossAxisLine]);return{id:o.descriptor.id,distance:Tu(i,l)}}).sort(function(o,a){return a.distance-o.distance});return s[0]?s[0].id:null}function T$(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=Hf(r).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!S$(e,o))return!1;if(qA(o)(e.center))return!0;var a=s.axis,l=o.center[a.crossAxisLine],c=e[a.crossAxisStart],h=e[a.crossAxisEnd],d=Dn(o[a.crossAxisStart],o[a.crossAxisEnd]),f=d(c),p=d(h);return!f&&!p?!0:f?c<l:h>l});return i.length?i.length===1?i[0].descriptor.id:b$({pageBorderBox:e,draggable:n,candidates:i}):null}var GA=function(e,n){return zn(pc(e,n))},x$=function(t,e){var n=t.frame;return n?GA(e,n.scroll.diff.value):e};function KA(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function C$(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var R$=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.last,o=t.viewport,a=t.afterCritical,l=r.axis,c=gc(r.axis,n.displaceBy),h=c.value,d=e[l.start],f=e[l.end],p=Gf(n,i),v=rs(p,function(I){var E=I.descriptor.id,y=I.page.borderBox.center[l.line],_=Gi(E,a),b=KA({displaced:s,id:E});return _?b?f<=y:d<y-h:b?f<=y+h:d<y}),m=C$({draggable:n,closest:v,inHomeList:Fa(n,r)});return Vh({draggable:n,insideDestination:i,destination:r,viewport:o,last:s,displacedBy:c,index:m})},A$=4,P$=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,s=t.insideDestination,o=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=gc(i.axis,e.displaceBy),c=l.value,h=n[a.start],d=n[a.end],f=Gf(e,s),p=rs(f,function(m){var I=m.descriptor.id,E=m.page.borderBox,y=E[a.size],_=y/A$,b=Gi(I,o),N=KA({displaced:r.displaced,id:I});return b?N?d>E[a.start]+_&&d<E[a.end]-_:h>E[a.start]-c+_&&h<E[a.end]-c-_:N?d>E[a.start]+c+_&&d<E[a.end]+c-_:h>E[a.start]+_&&h<E[a.end]-_});if(!p)return null;var v={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return v},QA=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,s=t.previousImpact,o=t.viewport,a=t.afterCritical,l=GA(n.page.borderBox,e),c=T$({pageBorderBox:l,draggable:n,droppables:i});if(!c)return W3;var h=i[c],d=Va(h.descriptor.id,r),f=x$(h,l);return P$({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:s,destination:h,insideDestination:d,afterCritical:a})||R$({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:h,insideDestination:d,last:s.displaced,viewport:o,afterCritical:a})},jw=function(t,e){var n;return ee({},t,(n={},n[e.descriptor.id]=e,n))},D$=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,s=fn(n),o=fn(r);if(!s||s===o)return i;var a=i[s];if(!a.subject.withPlaceholder)return i;var l=y$(a);return jw(i,l)},N$=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,s=t.impact,o=D$({previousImpact:i,impact:s,droppables:r}),a=fn(s);if(!a)return o;var l=r[a];if(Fa(e,l)||l.subject.withPlaceholder)return o;var c=HA(l,e,n);return jw(o,c)},Wl=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,s=t.impact,o=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,c=n||e.current.client.selection,h=dn(c,e.initial.client.selection),d={offset:h,selection:c,borderBoxCenter:wt(e.initial.client.borderBoxCenter,h)},f={selection:wt(d.selection,a.scroll.current),borderBoxCenter:wt(d.borderBoxCenter,a.scroll.current),offset:wt(d.offset,a.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return ee({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:p});var v=l.draggables[e.critical.draggable.id],m=s||QA({pageOffset:f.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),I=N$({draggable:v,impact:m,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),E=ee({},e,{current:p,dimensions:{draggables:l.draggables,droppables:I},impact:m,viewport:a,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return E};function k$(t,e){return t.map(function(n){return e[n]})}var YA=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,s=t.forceShouldAnimate,o=e.displaced,a=k$(o.all,r),l=Cu({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:o});return ee({},e,{displaced:l})},XA=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,s=t.viewport,o=t.afterCritical,a=Kf({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:o});return Bw({pageBorderBoxCenter:a,draggable:n,viewport:s})},JA=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&z(!1);var i=e.impact,s=r||e.viewport,o=n||e.dimensions,a=o.draggables,l=o.droppables,c=a[e.critical.draggable.id],h=fn(i);h||z(!1);var d=l[h],f=YA({impact:i,viewport:s,destination:d,draggables:a}),p=XA({impact:f,draggable:c,droppable:d,draggables:a,viewport:s,afterCritical:e.afterCritical});return Wl({impact:f,clientSelection:p,state:e,dimensions:o,viewport:s})},O$=function(t){return{index:t.index,droppableId:t.droppableId}},ZA=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,s=gc(n.axis,e.displaceBy),o=Va(n.descriptor.id,r),a=o.indexOf(e);a===-1&&z(!1);var l=o.slice(a+1),c=l.reduce(function(p,v){return p[v.descriptor.id]=!0,p},{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:c},d=Cu({afterDragging:l,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:s,at:{type:"REORDER",destination:O$(e.descriptor)}};return{impact:f,afterCritical:h}},L$=function(t,e){return{draggables:t.draggables,droppables:jw(t.droppables,e)}},M$=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=Nh(e.client,n),s=kh(i,r),o=ee({},e,{placeholder:ee({},e.placeholder,{client:i}),client:i,page:s});return o},V$=function(t){var e=t.frame;return e||z(!1),e},F$=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(s){var o=s.descriptor.droppableId,a=n[o],l=V$(a),c=l.scroll.diff.value,h=wt(i,c),d=M$({draggable:s,offset:h,initialWindowScroll:r.scroll.initial});return d})},U$=function(t){var e=t.state,n=t.published,r=n.modified.map(function(_){var b=e.dimensions.droppables[_.droppableId],N=Ow(b,_.scroll);return N}),i=ee({},e.dimensions.droppables,{},LA(r)),s=MA(F$({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),o=ee({},e.dimensions.draggables,{},s);n.removals.forEach(function(_){delete o[_]});var a={droppables:i,draggables:o},l=fn(e.impact),c=l?a.droppables[l]:null,h=a.draggables[e.critical.draggable.id],d=a.droppables[e.critical.droppable.id],f=ZA({draggable:h,home:d,draggables:o,viewport:e.viewport}),p=f.impact,v=f.afterCritical,m=c&&c.isCombineEnabled?e.impact:p,I=QA({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:v}),E=ee({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:I,onLiftImpact:p,dimensions:a,afterCritical:v,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return E;var y=ee({phase:"DROP_PENDING"},E,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return y},mv=function(e){return e.movementMode==="SNAP"},yg=function(e,n,r){var i=L$(e.dimensions,n);return!mv(e)||r?Wl({state:e,dimensions:i}):JA({state:e,dimensions:i})};function wg(t){return t.isDragging&&t.movementMode==="SNAP"?ee({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var ZS={phase:"IDLE",completed:null,shouldFlush:!1},B$=function(t,e){if(t===void 0&&(t=ZS),e.type==="FLUSH")return ee({},ZS,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&z(!1);var n=e.payload,r=n.critical,i=n.clientSelection,s=n.viewport,o=n.dimensions,a=n.movementMode,l=o.draggables[r.draggable.id],c=o.droppables[r.droppable.id],h={selection:i,borderBoxCenter:l.client.borderBox.center,offset:ht},d={client:h,page:{selection:wt(h.selection,s.scroll.initial),borderBoxCenter:wt(h.selection,s.scroll.initial),offset:wt(h.selection,s.scroll.diff.value)}},f=Hf(o.droppables).every(function(jr){return!jr.isFixedOnPage}),p=ZA({draggable:l,home:c,draggables:o.draggables,viewport:s}),v=p.impact,m=p.afterCritical,I={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:v,afterCritical:m,onLiftImpact:v,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return I}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&z(!1);var E=ee({phase:"COLLECTING"},t,{phase:"COLLECTING"});return E}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||z(!1),U$({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;fs(t)||z(!1);var y=e.payload.client;return Mi(y,t.current.client.selection)?t:Wl({state:t,clientSelection:y,impact:mv(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return wg(t);fs(t)||z(!1);var _=e.payload,b=_.id,N=_.newScroll,O=t.dimensions.droppables[b];if(!O)return t;var x=Ow(O,N);return yg(t,x,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;fs(t)||z(!1);var S=e.payload,C=S.id,R=S.isEnabled,D=t.dimensions.droppables[C];D||z(!1),D.isEnabled===R&&z(!1);var L=ee({},D,{isEnabled:R});return yg(t,L,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;fs(t)||z(!1);var A=e.payload,ie=A.id,Ne=A.isCombineEnabled,Ee=t.dimensions.droppables[ie];Ee||z(!1),Ee.isCombineEnabled===Ne&&z(!1);var Se=ee({},Ee,{isCombineEnabled:Ne});return yg(t,Se,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;fs(t)||z(!1),t.isWindowScrollAllowed||z(!1);var $=e.payload.newScroll;if(Mi(t.viewport.scroll.current,$))return wg(t);var Y=$A(t.viewport,$);return mv(t)?JA({state:t,viewport:Y}):Wl({state:t,viewport:Y})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fs(t))return t;var X=e.payload.maxScroll;if(Mi(X,t.viewport.scroll.max))return t;var se=ee({},t.viewport,{scroll:ee({},t.viewport.scroll,{max:X})});return ee({phase:"DRAGGING"},t,{viewport:se})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&z(!1);var te=I$({state:t,type:e.type});return te?Wl({state:t,impact:te.impact,clientSelection:te.clientSelection,scrollJumpRequest:te.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var de=e.payload.reason;t.phase!=="COLLECTING"&&z(!1);var Be=ee({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:de});return Be}if(e.type==="DROP_ANIMATE"){var Ve=e.payload,Kt=Ve.completed,Mt=Ve.dropDuration,ro=Ve.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||z(!1);var Ua={phase:"DROP_ANIMATING",completed:Kt,dropDuration:Mt,newHomeClientOffset:ro,dimensions:t.dimensions};return Ua}if(e.type==="DROP_COMPLETE"){var On=e.payload.completed;return{phase:"IDLE",completed:On,shouldFlush:!1}}return t},j$=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},$$=function(e){return{type:"LIFT",payload:e}},z$=function(e){return{type:"INITIAL_PUBLISH",payload:e}},W$=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},H$=function(){return{type:"COLLECTION_STARTING",payload:null}},q$=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},G$=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},K$=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},eP=function(e){return{type:"MOVE",payload:e}},Q$=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},Y$=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},X$=function(){return{type:"MOVE_UP",payload:null}},J$=function(){return{type:"MOVE_DOWN",payload:null}},Z$=function(){return{type:"MOVE_RIGHT",payload:null}},e9=function(){return{type:"MOVE_LEFT",payload:null}},$w=function(){return{type:"FLUSH",payload:null}},t9=function(e){return{type:"DROP_ANIMATE",payload:e}},zw=function(e){return{type:"DROP_COMPLETE",payload:e}},tP=function(e){return{type:"DROP",payload:e}},n9=function(e){return{type:"DROP_PENDING",payload:e}},nP=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},r9=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var o=s.payload,a=o.id,l=o.clientSelection,c=o.movementMode,h=n();h.phase==="DROP_ANIMATING"&&r(zw({completed:h.completed})),n().phase!=="IDLE"&&z(!1),r($w()),r(j$({draggableId:a,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},f={draggableId:a,scrollOptions:d},p=t.startPublishing(f),v=p.critical,m=p.dimensions,I=p.viewport;r(z$({critical:v,dimensions:m,clientSelection:l,movementMode:c,viewport:I}))}}}},i9=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},Ww={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ru={opacity:{drop:0,combining:.7},scale:{drop:.75}},Hw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},us=Hw.outOfTheWay+"s "+Ww.outOfTheWay,Hl={fluid:"opacity "+us,snap:"transform "+us+", opacity "+us,drop:function(e){var n=e+"s "+Ww.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+us,placeholder:"height "+us+", width "+us+", margin "+us},eb=function(e){return Mi(e,ht)?null:"translate("+e.x+"px, "+e.y+"px)"},vv={moveTo:eb,drop:function(e,n){var r=eb(e);return r?n?r+" scale("+Ru.scale.drop+")":r:null}},yv=Hw.minDropTime,rP=Hw.maxDropTime,s9=rP-yv,tb=1500,o9=.6,a9=function(t){var e=t.current,n=t.destination,r=t.reason,i=Tu(e,n);if(i<=0)return yv;if(i>=tb)return rP;var s=i/tb,o=yv+s9*s,a=r==="CANCEL"?o*o9:o;return Number(a.toFixed(2))},l9=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,s=t.afterCritical,o=r.draggables,a=r.droppables,l=fn(e),c=l?a[l]:null,h=a[n.descriptor.droppableId],d=XA({impact:e,draggable:n,draggables:o,afterCritical:s,droppable:c||h,viewport:i}),f=dn(d,n.client.borderBox.center);return f},u9=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,s=t.viewport,o=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=YA({draggables:e,impact:o,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=ee({},r,{displaced:xu});return{impact:l,didDropInsideDroppable:!0}},c9=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=e(),o=i.payload.reason;if(s.phase==="COLLECTING"){n(n9({reason:o}));return}if(s.phase!=="IDLE"){var a=s.phase==="DROP_PENDING"&&s.isWaiting;a&&z(!1),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||z(!1);var l=s.critical,c=s.dimensions,h=c.draggables[s.critical.draggable.id],d=u9({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=d.impact,p=d.didDropInsideDroppable,v=p?Mw(f):null,m=p?qf(f):null,I={index:l.draggable.index,droppableId:l.droppable.id},E={draggableId:h.descriptor.id,type:h.descriptor.type,source:I,reason:o,mode:s.movementMode,destination:v,combine:m},y=l9({impact:f,draggable:h,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),_={critical:s.critical,afterCritical:s.afterCritical,result:E,impact:f},b=!Mi(s.current.client.offset,y)||!!E.combine;if(!b){n(zw({completed:_}));return}var N=a9({current:s.current.client.offset,destination:y,reason:o}),O={newHomeClientOffset:y,dropDuration:N,completed:_};n(t9(O))}}}},iP=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function d9(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function h9(t){var e=t.onWindowScroll;function n(){e(iP())}var r=bu(n),i=d9(r),s=Li;function o(){return s!==Li}function a(){o()&&z(!1),s=Cn(window,[i])}function l(){o()||z(!1),r.cancel(),s(),s=Li}return{start:a,stop:l,isActive:o}}var f9=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},p9=function(t){var e=h9({onWindowScroll:function(r){t.dispatch(Q$({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&f9(r)&&e.stop(),n(r)}}},g9=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(o){e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=function(){return e},i},m9=function(){var t=[],e=function(s){var o=Lw(t,function(c){return c.timerId===s});o===-1&&z(!1);var a=t.splice(o,1),l=a[0];l.callback()},n=function(s){var o=setTimeout(function(){return e(o)}),a={timerId:o,callback:s};t.push(a)},r=function(){if(t.length){var s=[].concat(t);t.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},v9=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},y9=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},w9=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},dl=function(e,n){n()},ad=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},_g=function(e,n,r,i){if(!e){r(i(n));return}var s=g9(r),o={announce:s};e(n,o),s.wasCalled()||r(i(n))},_9=function(t,e){var n=m9(),r=null,i=function(f,p){r&&z(!1),dl("onBeforeCapture",function(){var v=t().onBeforeCapture;if(v){var m={draggableId:f,mode:p};v(m)}})},s=function(f,p){r&&z(!1),dl("onBeforeDragStart",function(){var v=t().onBeforeDragStart;v&&v(ad(f,p))})},o=function(f,p){r&&z(!1);var v=ad(f,p);r={mode:p,lastCritical:f,lastLocation:v.source,lastCombine:null},n.add(function(){dl("onDragStart",function(){return _g(t().onDragStart,v,e,Ld.onDragStart)})})},a=function(f,p){var v=Mw(p),m=qf(p);r||z(!1);var I=!w9(f,r.lastCritical);I&&(r.lastCritical=f);var E=!v9(r.lastLocation,v);E&&(r.lastLocation=v);var y=!y9(r.lastCombine,m);if(y&&(r.lastCombine=m),!(!I&&!E&&!y)){var _=ee({},ad(f,r.mode),{combine:m,destination:v});n.add(function(){dl("onDragUpdate",function(){return _g(t().onDragUpdate,_,e,Ld.onDragUpdate)})})}},l=function(){r||z(!1),n.flush()},c=function(f){r||z(!1),r=null,dl("onDragEnd",function(){return _g(t().onDragEnd,f,e,Ld.onDragEnd)})},h=function(){if(r){var f=ee({},ad(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(f)}};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:h}},E9=function(t,e){var n=_9(t,e);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;n.beforeStart(o,s.payload.movementMode),i(s),n.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),s.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},I9=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&z(!1),t.dispatch(zw({completed:r.completed}))}}},S9=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(nP())}};n=requestAnimationFrame(function(){n=null,e=Cn(window,[o])})}}}},b9=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},T9=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},x9=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},C9=function(t){return function(e){return function(n){return function(r){if(x9(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&z(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},R9=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(tP({reason:r.reason})))}}}},A9=cA,P9=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,s=t.announce,o=t.autoScroller;return uA(B$,A9(v6(i9(r),b9(e),r9(e),c9,I9,S9,R9,C9(o),p9,T9(n),E9(i,s))))},Eg=function(){return{additions:{},removals:{},modified:{}}};function D9(t){var e=t.registry,n=t.callbacks,r=Eg(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var h=r,d=h.additions,f=h.removals,p=h.modified,v=Object.keys(d).map(function(E){return e.draggable.getById(E).getDimension(ht)}).sort(function(E,y){return E.descriptor.index-y.descriptor.index}),m=Object.keys(p).map(function(E){var y=e.droppable.getById(E),_=y.callbacks.getScrollWhileDragging();return{droppableId:E,scroll:_}}),I={additions:v,removals:Object.keys(f),modified:m};r=Eg(),n.publish(I)}))},o=function(h){var d=h.descriptor.id;r.additions[d]=h,r.modified[h.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],s()},a=function(h){var d=h.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],s()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=Eg())};return{add:o,remove:a,stop:l}}var sP=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,s=dn({x:n,y:e},{x:i,y:r}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},oP=function(){var t=document.documentElement;return t||z(!1),t},aP=function(){var t=oP(),e=sP({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},N9=function(){var t=iP(),e=aP(),n=t.y,r=t.x,i=oP(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o,c=zn({top:n,left:r,right:a,bottom:l}),h={frame:c,scroll:{initial:t,current:t,max:e,diff:{value:ht,displacement:ht}}};return h},k9=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=N9(),s=i.scroll.current,o=e.droppable,a=r.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(s,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(s)}),c={draggables:MA(l),droppables:LA(a)},h={dimensions:c,critical:e,viewport:i};return h};function nb(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var O9=function(t,e){var n=null,r=D9({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(p,v){t.droppable.exists(p)||z(!1),n&&e.updateDroppableIsEnabled({id:p,isEnabled:v})},s=function(p,v){n&&(t.droppable.exists(p)||z(!1),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:v}))},o=function(p,v){n&&(t.droppable.exists(p)||z(!1),e.updateDroppableScroll({id:p,newScroll:v}))},a=function(p,v){n&&t.droppable.getById(p).callbacks.scroll(v)},l=function(){if(n){r.stop();var p=n.critical.droppable;t.droppable.getAllByType(p.type).forEach(function(v){return v.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(p){n||z(!1);var v=n.critical.draggable;p.type==="ADDITION"&&nb(t,v,p.value)&&r.add(p.value),p.type==="REMOVAL"&&nb(t,v,p.value)&&r.remove(p.value)},h=function(p){n&&z(!1);var v=t.draggable.getById(p.draggableId),m=t.droppable.getById(v.descriptor.droppableId),I={draggable:v.descriptor,droppable:m.descriptor},E=t.subscribe(c);return n={critical:I,unsubscribe:E},k9({critical:I,registry:t,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:h,stopPublishing:l};return d},lP=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},L9=function(t){window.scrollBy(t.x,t.y)},M9=et(function(t){return Hf(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),V9=function(e,n){var r=rs(M9(n),function(i){return i.frame||z(!1),qA(i.frame.pageMarginBox)(e)});return r},F9=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var s=V9(e,r);return s},Vi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},U9=function(t,e){var n=t[e.size]*Vi.startFromPercentage,r=t[e.size]*Vi.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},uP=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var s=r-e,o=s/i;return o},qw=1,B9=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Vi.maxPixelScroll;if(t===e.startScrollingFrom)return qw;var n=uP({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Vi.maxPixelScroll*Vi.ease(r);return Math.ceil(i)},rb=Vi.durationDampening.accelerateAt,ib=Vi.durationDampening.stopDampeningAt,j9=function(t,e){var n=e,r=ib,i=Date.now(),s=i-n;if(s>=ib)return t;if(s<rb)return qw;var o=uP({startOfRange:rb,endOfRange:r,current:s}),a=t*Vi.ease(o);return Math.ceil(a)},sb=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,s=B9(e,n);return s===0?0:i?Math.max(j9(s,r),qw):s},ob=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,s=t.shouldUseTimeDampening,o=U9(e,i),a=n[i.end]<n[i.start];return a?sb({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s}):-1*sb({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s})},$9=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,s=n.width>e.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},z9=kA(function(t){return t===0?0:t}),cP=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,s=t.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=ob({container:n,distanceToEdges:o,dragStartTime:e,axis:Vw,shouldUseTimeDampening:s}),l=ob({container:n,distanceToEdges:o,dragStartTime:e,axis:UA,shouldUseTimeDampening:s}),c=z9({x:l,y:a});if(Mi(c,ht))return null;var h=$9({container:n,subject:r,proposedScroll:c});return h?Mi(h,ht)?null:h:null},W9=kA(function(t){return t===0?0:t>0?1:-1}),Gw=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,s=wt(n,i),o={x:t(s.x,r.x),y:t(s.y,r.y)};return Mi(o,ht)?null:o}}(),dP=function(e){var n=e.max,r=e.current,i=e.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=W9(i),a=Gw({max:s,current:r,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Kw=function(e,n){return dP({current:e.scroll.current,max:e.scroll.max,change:n})},H9=function(e,n){if(!Kw(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return Gw({current:i,max:r,change:n})},Qw=function(e,n){var r=e.frame;return r?dP({current:r.scroll.current,max:r.scroll.max,change:n}):!1},q9=function(e,n){var r=e.frame;return!r||!Qw(e,n)?null:Gw({current:r.scroll.current,max:r.scroll.max,change:n})},G9=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,o=cP({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:s});return o&&Kw(e,o)?o:null},K9=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,o=e.frame;if(!o)return null;var a=cP({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return a&&Qw(e,a)?a:null},ab=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,s=t.scrollDroppable,o=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var c=e.viewport,h=G9({dragStartTime:n,viewport:c,subject:l,center:o,shouldUseTimeDampening:r});if(h){i(h);return}}var d=F9({center:o,destination:fn(e.impact),droppables:e.dimensions.droppables});if(d){var f=K9({dragStartTime:n,droppable:d,subject:l,center:o,shouldUseTimeDampening:r});f&&s(d.descriptor.id,f)}},Q9=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=bu(e),i=bu(n),s=null,o=function(h){s||z(!1);var d=s,f=d.shouldUseTimeDampening,p=d.dragStartTime;ab({state:h,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f})},a=function(h){s&&z(!1);var d=Date.now(),f=!1,p=function(){f=!0};ab({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),s={dragStartTime:d,shouldUseTimeDampening:f},f&&o(h)},l=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:a,stop:l,scroll:o}},Y9=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(c,h){var d=wt(c.current.client.selection,h);e({client:d})},s=function(c,h){if(!Qw(c,h))return h;var d=q9(c,h);if(!d)return n(c.descriptor.id,h),null;var f=dn(h,d);n(c.descriptor.id,f);var p=dn(h,f);return p},o=function(c,h,d){if(!c||!Kw(h,d))return d;var f=H9(h,d);if(!f)return r(d),null;var p=dn(d,f);r(p);var v=dn(d,p);return v},a=function(c){var h=c.scrollJumpRequest;if(h){var d=fn(c.impact);d||z(!1);var f=s(c.dimensions.droppables[d],h);if(f){var p=c.viewport,v=o(c.isWindowScrollAllowed,p,f);v&&i(c,v)}}};return a},X9=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=Q9({scrollWindow:n,scrollDroppable:e}),s=Y9({move:r,scrollWindow:n,scrollDroppable:e}),o=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&s(c)}},a={scroll:o,start:i.start,stop:i.stop};return a},Ia="data-rbd",Sa=function(){var t=Ia+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),wv=function(){var t=Ia+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),J9=function(){var t=Ia+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),lb={contextId:Ia+"-scroll-container-context-id"},Z9=function(e){return function(n){return"["+n+'="'+e+'"]'}},hl=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},ez="pointer-events: none;",tz=function(t){var e=Z9(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Sa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:ez,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+Hl.outOfTheWay+`;
    `;return{selector:e(wv.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(J9.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,i,s];return{always:hl(o,"always"),resting:hl(o,"resting"),dragging:hl(o,"dragging"),dropAnimating:hl(o,"dropAnimating"),userCancel:hl(o,"userCancel")}},pn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect,Ig=function(){var e=document.querySelector("head");return e||z(!1),e},ub=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function nz(t,e){var n=ve(function(){return tz(t)},[t]),r=F.useRef(null),i=F.useRef(null),s=J(et(function(d){var f=i.current;f||z(!1),f.textContent=d}),[]),o=J(function(d){var f=r.current;f||z(!1),f.textContent=d},[]);pn(function(){!r.current&&!i.current||z(!1);var d=ub(e),f=ub(e);return r.current=d,i.current=f,d.setAttribute(Ia+"-always",t),f.setAttribute(Ia+"-dynamic",t),Ig().appendChild(d),Ig().appendChild(f),o(n.always),s(n.resting),function(){var p=function(m){var I=m.current;I||z(!1),Ig().removeChild(I),m.current=null};p(r),p(i)}},[e,o,s,n.always,n.resting,t]);var a=J(function(){return s(n.dragging)},[s,n.dragging]),l=J(function(d){if(d==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=J(function(){i.current&&s(n.resting)},[s,n.resting]),h=ve(function(){return{dragging:a,dropping:l,resting:c}},[a,l,c]);return h}var hP=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Qf(t){return t instanceof hP(t).HTMLElement}function rz(t,e){var n="["+Sa.contextId+'="'+t+'"]',r=OA(document.querySelectorAll(n));if(!r.length)return null;var i=rs(r,function(s){return s.getAttribute(Sa.draggableId)===e});return!i||!Qf(i)?null:i}function iz(t){var e=F.useRef({}),n=F.useRef(null),r=F.useRef(null),i=F.useRef(!1),s=J(function(f,p){var v={id:f,focus:p};return e.current[f]=v,function(){var I=e.current,E=I[f];E!==v&&delete I[f]}},[]),o=J(function(f){var p=rz(t,f);p&&p!==document.activeElement&&p.focus()},[t]),a=J(function(f,p){n.current===f&&(n.current=p)},[]),l=J(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&o(f)}))},[o]),c=J(function(f){n.current=null;var p=document.activeElement;p&&p.getAttribute(Sa.draggableId)===f&&(n.current=f)},[]);pn(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var h=ve(function(){return{register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[s,c,l,a]);return h}function sz(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var p=e.indexOf(d);p!==-1&&e.splice(p,1)}}function r(d){e.length&&e.forEach(function(f){return f(d)})}function i(d){return t.draggables[d]||null}function s(d){var f=i(d);return f||z(!1),f}var o={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,p){var v=t.draggables[p.descriptor.id];v&&v.uniqueId===f.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var p=f.descriptor.id,v=i(p);v&&f.uniqueId===v.uniqueId&&(delete t.draggables[p],r({type:"REMOVAL",value:f}))},getById:s,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return Mh(t.draggables).filter(function(p){return p.descriptor.type===f})}};function a(d){return t.droppables[d]||null}function l(d){var f=a(d);return f||z(!1),f}var c={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return Mh(t.droppables).filter(function(p){return p.descriptor.type===f})}};function h(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:c,subscribe:n,clean:h}}function oz(){var t=ve(sz,[]);return F.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var Yw=Re.createContext(null),Fh=function(){var t=document.body;return t||z(!1),t},az={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},lz=function(e){return"rbd-announcement-"+e};function uz(t){var e=ve(function(){return lz(t)},[t]),n=F.useRef(null);F.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ee(s.style,az),Fh().appendChild(s),function(){setTimeout(function(){var l=Fh();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]);var r=J(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var cz=0,dz={separator:"::"};function Xw(t,e){return e===void 0&&(e=dz),ve(function(){return""+t+e.separator+cz++},[e.separator,t])}function hz(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function fz(t){var e=t.contextId,n=t.text,r=Xw("hidden-text",{separator:"-"}),i=ve(function(){return hz({contextId:e,uniqueId:r})},[r,e]);return F.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=n,o.style.display="none",Fh().appendChild(o),function(){var l=Fh();l.contains(o)&&l.removeChild(o)}},[i,n]),i}var Yf=Re.createContext(null);function fP(t){var e=F.useRef(t);return F.useEffect(function(){e.current=t}),e}function pz(){var t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&z(!1);var a={abandon:o};return t=a,a}function i(){t||z(!1),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}var gz=9,mz=13,Jw=27,pP=32,vz=33,yz=34,wz=35,_z=36,Ez=37,Iz=38,Sz=39,bz=40,ld,Tz=(ld={},ld[mz]=!0,ld[gz]=!0,ld),gP=function(t){Tz[t.keyCode]&&t.preventDefault()},Xf=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=rs(e,function(r){return"on"+r in document});return n||t}(),mP=0,cb=5;function xz(t,e){return Math.abs(e.x-t.x)>=cb||Math.abs(e.y-t.y)>=cb}var db={type:"IDLE"};function Cz(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(o){var a=o.button,l=o.clientX,c=o.clientY;if(a===mP){var h={x:l,y:c},d=r();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(h);return}d.type!=="PENDING"&&z(!1);var f=d.point;if(xz(f,h)){o.preventDefault();var p=d.actions.fluidLift(h);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:function(o){var a=r();if(a.type==="PENDING"){e();return}if(o.keyCode===Jw){o.preventDefault(),e();return}gP(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(o){var a=r();if(a.type==="IDLE"&&z(!1),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Xf,fn:e}]}function Rz(t){var e=F.useRef(db),n=F.useRef(Li),r=ve(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===mP&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(f){var p=t.tryGetLock(f,o,{sourceEvent:d});if(p){d.preventDefault();var v={x:d.clientX,y:d.clientY};n.current(),c(p,v)}}}}}},[t]),i=ve(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(f){var p=t.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}}}},[t]),s=J(function(){var d={passive:!1,capture:!0};n.current=Cn(window,[i,r],d)},[i,r]),o=J(function(){var h=e.current;h.type!=="IDLE"&&(e.current=db,n.current(),s())},[s]),a=J(function(){var h=e.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),l=J(function(){var d={capture:!0,passive:!1},f=Cz({cancel:a,completed:o,getPhase:function(){return e.current},setPhase:function(v){e.current=v}});n.current=Cn(window,f,d)},[a,o]),c=J(function(d,f){e.current.type!=="IDLE"&&z(!1),e.current={type:"PENDING",point:f,actions:d},l()},[l]);pn(function(){return s(),function(){n.current()}},[s])}var yo;function Az(){}var Pz=(yo={},yo[yz]=!0,yo[vz]=!0,yo[_z]=!0,yo[wz]=!0,yo);function Dz(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===Jw){s.preventDefault(),n();return}if(s.keyCode===pP){s.preventDefault(),r();return}if(s.keyCode===bz){s.preventDefault(),t.moveDown();return}if(s.keyCode===Iz){s.preventDefault(),t.moveUp();return}if(s.keyCode===Sz){s.preventDefault(),t.moveRight();return}if(s.keyCode===Ez){s.preventDefault(),t.moveLeft();return}if(Pz[s.keyCode]){s.preventDefault();return}gP(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Xf,fn:n}]}function Nz(t){var e=F.useRef(Az),n=ve(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==pP)return;var o=t.findClosestDraggableId(s);if(!o)return;var a=t.tryGetLock(o,h,{sourceEvent:s});if(!a)return;s.preventDefault();var l=!0,c=a.snapLift();e.current();function h(){l||z(!1),l=!1,e.current(),r()}e.current=Cn(window,Dz(c,h),{capture:!0,passive:!1})}}},[t]),r=J(function(){var s={passive:!1,capture:!0};e.current=Cn(window,[n],s)},[n]);pn(function(){return r(),function(){e.current()}},[r])}var Sg={type:"IDLE"},kz=120,Oz=.15;function Lz(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===Jw&&i.preventDefault(),e()}},{eventName:Xf,fn:e}]}function Mz(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;var a=s.touches[0],l=a.clientX,c=a.clientY,h={x:l,y:c};s.preventDefault(),o.actions.move(h)}},{eventName:"touchend",fn:function(s){var o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(s){var o=r();o.type==="IDLE"&&z(!1);var a=s.touches[0];if(a){var l=a.force>=Oz;if(l){var c=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){c&&e();return}if(c){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}}}},{eventName:Xf,fn:e}]}function Vz(t){var e=F.useRef(Sg),n=F.useRef(Li),r=J(function(){return e.current},[]),i=J(function(p){e.current=p},[]),s=ve(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var v=t.findClosestDraggableId(p);if(v){var m=t.tryGetLock(v,a,{sourceEvent:p});if(m){var I=p.touches[0],E=I.clientX,y=I.clientY,_={x:E,y};n.current(),d(m,_)}}}}}},[t]),o=J(function(){var p={capture:!0,passive:!1};n.current=Cn(window,[s],p)},[s]),a=J(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(Sg),n.current(),o())},[o,i]),l=J(function(){var f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=J(function(){var p={capture:!0,passive:!1},v={cancel:l,completed:a,getPhase:r},m=Cn(window,Mz(v),p),I=Cn(window,Lz(v),p);n.current=function(){m(),I()}},[l,r,a]),h=J(function(){var p=r();p.type!=="PENDING"&&z(!1);var v=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),d=J(function(p,v){r().type!=="IDLE"&&z(!1);var m=setTimeout(h,kz);i({type:"PENDING",point:v,actions:p,longPressTimerId:m}),c()},[c,r,i,h]);pn(function(){return o(),function(){n.current();var v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(Sg))}},[r,o,i]),pn(function(){var p=Cn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var Fz={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function vP(t,e){if(e==null)return!1;var n=!!Fz[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:vP(t,e.parentElement)}function Uz(t,e){var n=e.target;return Qf(n)?vP(t,n):!1}var Bz=function(t){return zn(t.getBoundingClientRect()).center};function jz(t){return t instanceof hP(t).Element}var $z=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=rs(e,function(r){return r in Element.prototype});return n||t}();function yP(t,e){return t==null?null:t[$z](e)?t:yP(t.parentElement,e)}function zz(t,e){return t.closest?t.closest(e):yP(t,e)}function Wz(t){return"["+Sa.contextId+'="'+t+'"]'}function Hz(t,e){var n=e.target;if(!jz(n))return null;var r=Wz(t),i=zz(n,r);return!i||!Qf(i)?null:i}function qz(t,e){var n=Hz(t,e);return n?n.getAttribute(Sa.draggableId):null}function Gz(t,e){var n="["+wv.contextId+'="'+t+'"]',r=OA(document.querySelectorAll(n)),i=rs(r,function(s){return s.getAttribute(wv.id)===e});return!i||!Qf(i)?null:i}function Kz(t){t.preventDefault()}function ud(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function wP(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!lP(n.getState(),i))}function Qz(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,s=t.draggableId,o=t.forceSensorStop,a=t.sourceEvent,l=wP({lockAPI:e,store:r,registry:i,draggableId:s});if(!l)return null;var c=i.draggable.getById(s),h=Gz(n,c.descriptor.id);if(!h||a&&!c.options.canDragInteractiveElements&&Uz(h,a))return null;var d=e.claim(o||Li),f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function v(){return e.isActive(d)}function m(O,x){ud({expected:O,phase:f,isLockActive:v,shouldWarn:!0})&&r.dispatch(x())}var I=m.bind(null,"DRAGGING");function E(O){function x(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(x(),f!=="PRE_DRAG"&&z(!1)),r.dispatch($$(O.liftActionArgs)),f="DRAGGING";function S(C,R){if(R===void 0&&(R={shouldBlockNextClick:!1}),O.cleanup(),R.shouldBlockNextClick){var D=Cn(window,[{eventName:"click",fn:Kz,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}x(),r.dispatch(tP({reason:C}))}return ee({isActive:function(){return ud({expected:"DRAGGING",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(R){return S("DROP",R)},cancel:function(R){return S("CANCEL",R)}},O.actions)}function y(O){var x=bu(function(C){I(function(){return eP({client:C})})}),S=E({liftActionArgs:{id:s,clientSelection:O,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return ee({},S,{move:x})}function _(){var O={moveUp:function(){return I(X$)},moveRight:function(){return I(Z$)},moveDown:function(){return I(J$)},moveLeft:function(){return I(e9)}};return E({liftActionArgs:{id:s,clientSelection:Bz(h),movementMode:"SNAP"},cleanup:Li,actions:O})}function b(){var O=ud({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!0});O&&e.release()}var N={isActive:function(){return ud({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:y,snapLift:_,abort:b};return N}var Yz=[Rz,Nz,Vz];function Xz(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,s=t.enableDefaultSensors,o=[].concat(s?Yz:[],i||[]),a=F.useState(function(){return pz()})[0],l=J(function(y,_){y.isDragging&&!_.isDragging&&a.tryAbandon()},[a]);pn(function(){var y=n.getState(),_=n.subscribe(function(){var b=n.getState();l(y,b),y=b});return _},[a,n,l]),pn(function(){return a.tryAbandon},[a.tryAbandon]);for(var c=J(function(E){return wP({lockAPI:a,registry:r,store:n,draggableId:E})},[a,r,n]),h=J(function(E,y,_){return Qz({lockAPI:a,registry:r,contextId:e,store:n,draggableId:E,forceSensorStop:y,sourceEvent:_&&_.sourceEvent?_.sourceEvent:null})},[e,a,r,n]),d=J(function(E){return qz(e,E)},[e]),f=J(function(E){var y=r.draggable.findById(E);return y?y.options:null},[r.draggable]),p=J(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch($w()))},[a,n]),v=J(a.isClaimed,[a]),m=ve(function(){return{canGetLock:c,tryGetLock:h,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:v}},[c,h,d,f,p,v]),I=0;I<o.length;I++)o[I](m)}var Jz=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function fl(t){return t.current||z(!1),t.current}function Zz(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,s=t.dragHandleUsageInstructions,o=F.useRef(null),a=fP(t),l=J(function(){return Jz(a.current)},[a]),c=uz(e),h=fz({contextId:e,text:s}),d=nz(e,i),f=J(function(C){fl(o).dispatch(C)},[]),p=ve(function(){return LS({publishWhileDragging:W$,updateDroppableScroll:q$,updateDroppableIsEnabled:G$,updateDroppableIsCombineEnabled:K$,collectionStarting:H$},f)},[f]),v=oz(),m=ve(function(){return O9(v,p)},[v,p]),I=ve(function(){return X9(ee({scrollWindow:L9,scrollDroppable:m.scrollDroppable},LS({move:eP},f)))},[m.scrollDroppable,f]),E=iz(e),y=ve(function(){return P9({announce:c,autoScroller:I,dimensionMarshal:m,focusMarshal:E,getResponders:l,styleMarshal:d})},[c,I,m,E,l,d]);o.current=y;var _=J(function(){var C=fl(o),R=C.getState();R.phase!=="IDLE"&&C.dispatch($w())},[]),b=J(function(){var C=fl(o).getState();return C.isDragging||C.phase==="DROP_ANIMATING"},[]),N=ve(function(){return{isDragging:b,tryAbort:_}},[b,_]);n(N);var O=J(function(C){return lP(fl(o).getState(),C)},[]),x=J(function(){return fs(fl(o).getState())},[]),S=ve(function(){return{marshal:m,focus:E,contextId:e,canLift:O,isMovementAllowed:x,dragHandleUsageInstructionsId:h,registry:v}},[e,m,h,E,O,x,v]);return Xz({contextId:e,store:y,registry:v,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),F.useEffect(function(){return _},[_]),Re.createElement(Yf.Provider,{value:S},Re.createElement(I6,{context:Yw,store:y},t.children))}var e5=0;function t5(){return ve(function(){return""+e5++},[])}function n5(t){var e=t5(),n=t.dragHandleUsageInstructions||Ld.dragHandleUsageInstructions;return Re.createElement(N3,null,function(r){return Re.createElement(Zz,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var _P=function(e){return function(n){return e===n}},r5=_P("scroll"),i5=_P("auto"),hb=function(e,n){return n(e.overflowX)||n(e.overflowY)},s5=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return hb(r,r5)||hb(r,i5)},o5=function(){return!1},a5=function t(e){return e==null?null:e===document.body?o5()?e:null:e===document.documentElement?null:s5(e)?e:t(e.parentElement)},_v=function(t){return{x:t.scrollLeft,y:t.scrollTop}},l5=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},u5=function(t){var e=a5(t),n=l5(t);return{closestScrollable:e,isFixedOnPage:n}},c5=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,s=t.direction,o=t.client,a=t.page,l=t.closest,c=function(){if(!l)return null;var p=l.scrollSize,v=l.client,m=sP({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:ht,displacement:ht}}}}(),h=s==="vertical"?Vw:UA,d=Ea({page:a,withPlaceholder:null,axis:h,frame:c}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:h,isEnabled:n,client:o,page:a,frame:c,subject:d};return f},d5=function(e,n){var r=AA(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,o=i+n.scrollHeight,a=s+n.scrollWidth,l={top:i,right:a,bottom:o,left:s},c=Nw(l,r.border),h=kw({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return h},h5=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,s=t.direction,o=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,c=r.closestScrollable,h=d5(e,c),d=kh(h,i),f=function(){if(!c)return null;var v=AA(c),m={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:kh(v,i),scroll:_v(c),scrollSize:m,shouldClipSubject:l}}(),p=c5({descriptor:n,isEnabled:!o,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:s,client:h,page:d,closest:f});return p},f5={passive:!1},p5={passive:!0},fb=function(t){return t.shouldPublishImmediately?f5:p5};function Uh(t){var e=F.useContext(t);return e||z(!1),e}var cd=function(e){return e&&e.env.closestScrollable||null};function g5(t){var e=F.useRef(null),n=Uh(Yf),r=Xw("droppable"),i=n.registry,s=n.marshal,o=fP(t),a=ve(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=F.useRef(a),c=ve(function(){return et(function(b,N){e.current||z(!1);var O={x:b,y:N};s.updateDroppableScroll(a.id,O)})},[a.id,s]),h=J(function(){var b=e.current;return!b||!b.env.closestScrollable?ht:_v(b.env.closestScrollable)},[]),d=J(function(){var b=h();c(b.x,b.y)},[h,c]),f=ve(function(){return bu(d)},[d]),p=J(function(){var b=e.current,N=cd(b);b&&N||z(!1);var O=b.scrollOptions;if(O.shouldPublishImmediately){d();return}f()},[f,d]),v=J(function(b,N){e.current&&z(!1);var O=o.current,x=O.getDroppableRef();x||z(!1);var S=u5(x),C={ref:x,descriptor:a,env:S,scrollOptions:N};e.current=C;var R=h5({ref:x,descriptor:a,env:S,windowScroll:b,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),D=S.closestScrollable;return D&&(D.setAttribute(lb.contextId,n.contextId),D.addEventListener("scroll",p,fb(C.scrollOptions))),R},[n.contextId,a,p,o]),m=J(function(){var b=e.current,N=cd(b);return b&&N||z(!1),_v(N)},[]),I=J(function(){var b=e.current;b||z(!1);var N=cd(b);e.current=null,N&&(f.cancel(),N.removeAttribute(lb.contextId),N.removeEventListener("scroll",p,fb(b.scrollOptions)))},[p,f]),E=J(function(b){var N=e.current;N||z(!1);var O=cd(N);O||z(!1),O.scrollTop+=b.y,O.scrollLeft+=b.x},[]),y=ve(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:I,scroll:E}},[I,v,m,E]),_=ve(function(){return{uniqueId:r,descriptor:a,callbacks:y}},[y,a,r]);pn(function(){return l.current=_.descriptor,i.droppable.register(_),function(){e.current&&I(),i.droppable.unregister(_)}},[y,a,I,_,s,i.droppable]),pn(function(){e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),pn(function(){e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function bg(){}var pb={width:0,height:0,margin:F3},m5=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?pb:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},v5=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,s=m5({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Hl.placeholder:null}};function y5(t){var e=F.useRef(null),n=J(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,s=t.onClose,o=t.contextId,a=F.useState(t.animate==="open"),l=a[0],c=a[1];F.useEffect(function(){return l?r!=="open"?(n(),c(!1),bg):e.current?bg:(e.current=setTimeout(function(){e.current=null,c(!1)}),n):bg},[r,l,n]);var h=J(function(f){f.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=v5({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return Re.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:h,ref:t.innerRef})}var w5=Re.memo(y5),Zw=Re.createContext(null),_5=function(t){bw(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(Re.PureComponent),gb={dragging:5e3,dropAnimating:4500},E5=function(e,n){return n?Hl.drop(n.duration):e?Hl.snap:Hl.fluid},I5=function(e,n){return e?n?Ru.opacity.drop:Ru.opacity.combining:null},S5=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function b5(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,s=t.dropping,o=!!i,a=S5(t),l=!!s,c=l?vv.drop(r,o):vv.moveTo(r),h={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:E5(a,s),transform:c,opacity:I5(o,l),zIndex:l?gb.dropAnimating:gb.dragging,pointerEvents:"none"};return h}function T5(t){return{transform:vv.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function x5(t){return t.type==="DRAGGING"?b5(t):T5(t)}function C5(t,e,n){n===void 0&&(n=ht);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=RA(i,r),o=kh(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height},c={descriptor:t,placeholder:a,displaceBy:l,client:s,page:o};return c}function R5(t){var e=Xw("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,s=t.canDragInteractiveElements,o=t.shouldRespectForcePress,a=t.isEnabled,l=ve(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}},[s,a,o]),c=J(function(p){var v=i();return v||z(!1),C5(n,v,p)},[n,i]),h=ve(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:c}},[n,c,l,e]),d=F.useRef(h),f=F.useRef(!0);pn(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),pn(function(){if(f.current){f.current=!1;return}var p=d.current;d.current=h,r.draggable.update(h,p)},[h,r.draggable])}function A5(t){t.preventDefault()}function P5(t){var e=F.useRef(null),n=J(function(C){e.current=C},[]),r=J(function(){return e.current},[]),i=Uh(Yf),s=i.contextId,o=i.dragHandleUsageInstructionsId,a=i.registry,l=Uh(Zw),c=l.type,h=l.droppableId,d=ve(function(){return{id:t.draggableId,index:t.index,type:c,droppableId:h}},[t.draggableId,t.index,c,h]),f=t.children,p=t.draggableId,v=t.isEnabled,m=t.shouldRespectForcePress,I=t.canDragInteractiveElements,E=t.isClone,y=t.mapped,_=t.dropAnimationFinished;if(!E){var b=ve(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:I,shouldRespectForcePress:m,isEnabled:v}},[d,a,r,I,m,v]);R5(b)}var N=ve(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:A5}:null},[s,o,p,v]),O=J(function(C){y.type==="DRAGGING"&&y.dropping&&C.propertyName==="transform"&&_()},[_,y]),x=ve(function(){var C=x5(y),R=y.type==="DRAGGING"&&y.dropping?O:null,D={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":p,style:C,onTransitionEnd:R},dragHandleProps:N};return D},[s,N,p,y,O,n]),S=ve(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(x,y.snapshot,S)}var EP=function(t,e){return t===e},IP=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},D5=function(e){return e.combine?e.combine.draggableId:null},N5=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function k5(){var t=et(function(i,s){return{x:i,y:s}}),e=et(function(i,s,o,a,l){return{isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null}}),n=et(function(i,s,o,a,l,c,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:h,snapshot:e(s,a,l,c,null)}}}),r=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var a=s.current.client.offset,l=s.dimensions.draggables[o.draggableId],c=fn(s.impact),h=N5(s.impact),d=s.forceShouldAnimate;return n(t(a.x,a.y),s.movementMode,l,o.isClone,c,h,d)}if(s.phase==="DROP_ANIMATING"){var f=s.completed;if(f.result.draggableId!==o.draggableId)return null;var p=o.isClone,v=s.dimensions.draggables[o.draggableId],m=f.result,I=m.mode,E=IP(m),y=D5(m),_=s.dropDuration,b={duration:_,curve:Ww.drop,moveTo:s.newHomeClientOffset,opacity:y?Ru.opacity.drop:null,scale:y?Ru.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:v,dropping:b,draggingOver:E,combineWith:y,mode:I,forceShouldAnimate:null,snapshot:e(I,p,E,y,b)}}}return null};return r}function SP(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var O5={mapped:{type:"SECONDARY",offset:ht,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:SP(null)}};function L5(){var t=et(function(o,a){return{x:o,y:a}}),e=et(SP),n=et(function(o,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(ht,a,!0):null},i=function(a,l,c,h){var d=c.displaced.visible[a],f=!!(h.inVirtualList&&h.effected[a]),p=qf(c),v=p&&p.draggableId===a?l:null;if(!d){if(!f)return r(v);if(c.displaced.invisible[a])return null;var m=Ma(h.displacedBy.point),I=t(m.x,m.y);return n(I,v,!0)}if(f)return r(v);var E=c.displacedBy.point,y=t(E.x,E.y);return n(y,v,d.shouldAnimate)},s=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var c=a.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return s}var M5=function(){var e=k5(),n=L5(),r=function(s,o){return e(s,o)||n(s,o)||O5};return r},V5={dropAnimationFinished:nP},F5=xA(M5,V5,null,{context:Yw,pure:!0,areStatePropsEqual:EP})(P5);function bP(t){var e=Uh(Zw),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:Re.createElement(F5,t)}function U5(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Re.createElement(bP,ee({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function B5(t){var e=F.useContext(Yf);e||z(!1);var n=e.contextId,r=e.isMovementAllowed,i=F.useRef(null),s=F.useRef(null),o=t.children,a=t.droppableId,l=t.type,c=t.mode,h=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,p=t.isCombineEnabled,v=t.snapshot,m=t.useClone,I=t.updateViewportMaxScroll,E=t.getContainerForClone,y=J(function(){return i.current},[]),_=J(function(D){i.current=D},[]);J(function(){return s.current},[]);var b=J(function(D){s.current=D},[]),N=J(function(){r()&&I({maxScroll:aP()})},[r,I]);g5({droppableId:a,type:l,mode:c,direction:h,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:y});var O=Re.createElement(_5,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(D){var L=D.onClose,A=D.data,ie=D.animate;return Re.createElement(w5,{placeholder:A,onClose:L,innerRef:b,animate:ie,contextId:n,onTransitionEnd:N})}),x=ve(function(){return{innerRef:_,placeholder:O,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,O,_]),S=m?m.dragging.draggableId:null,C=ve(function(){return{droppableId:a,type:l,isUsingCloneFor:S}},[a,S,l]);function R(){if(!m)return null;var D=m.dragging,L=m.render,A=Re.createElement(bP,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ie,Ne){return L(ie,Ne,D)});return Pk.createPortal(A,E())}return Re.createElement(Zw.Provider,{value:C},o(x,v),R())}var Tg=function(e,n){return e===n.droppable.type},mb=function(e,n){return n.draggables[e.draggable.id]},j5=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=ee({},e,{shouldAnimatePlaceholder:!1}),r=et(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=et(function(o,a,l,c,h,d){var f=h.descriptor.id,p=h.descriptor.droppableId===o;if(p){var v=d?{render:d,dragging:r(h.descriptor)}:null,m={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:v}}if(!a)return n;if(!c)return e;var I={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:I,useClone:null}}),s=function(a,l){var c=l.droppableId,h=l.type,d=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var p=a.critical;if(!Tg(h,p))return n;var v=mb(p,a.dimensions),m=fn(a.impact)===c;return i(c,d,m,m,v,f)}if(a.phase==="DROP_ANIMATING"){var I=a.completed;if(!Tg(h,I.critical))return n;var E=mb(I.critical,a.dimensions);return i(c,d,IP(I.result)===c,fn(I.impact)===c,E,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var y=a.completed;if(!Tg(h,y.critical))return n;var _=fn(y.impact)===c,b=!!(y.impact.at&&y.impact.at.type==="COMBINE"),N=y.critical.droppable.id===c;return _?b?e:n:N?e:n}return n};return s},$5={updateViewportMaxScroll:Y$};function z5(){return document.body||z(!1),document.body}var W5={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:z5},TP=xA(j5,$5,null,{context:Yw,pure:!0,areStatePropsEqual:EP})(B5);TP.defaultProps=W5;const H5=({className:t=""})=>{const{data:e,isLoading:n,error:r}=Nf(),i=aA(),[s,o]=F.useState({[_e.TODO]:10,[_e.IN_PROGRESS]:5,[_e.REVIEW]:3,[_e.DONE]:20}),a=F.useMemo(()=>[{id:_e.TODO,title:"할 일",color:"bg-gray-100",wipLimit:s[_e.TODO]},{id:_e.IN_PROGRESS,title:"진행 중",color:"bg-blue-100",wipLimit:s[_e.IN_PROGRESS]},{id:_e.REVIEW,title:"검토",color:"bg-yellow-100",wipLimit:s[_e.REVIEW]},{id:_e.DONE,title:"완료",color:"bg-green-100",wipLimit:s[_e.DONE]}],[s]),l=F.useMemo(()=>e?e.reduce((p,v)=>{const m=v.status;return p[m]||(p[m]=[]),p[m].push(v),p},{}):{},[e]),c=async p=>{var b;const{destination:v,source:m,draggableId:I}=p;if(!v||v.droppableId===m.droppableId&&v.index===m.index)return;const E=m.droppableId,y=v.droppableId,_=l[y]||[];if(y!==E&&s[y]&&_.length>=s[y]){alert(`${(b=a.find(N=>N.id===y))==null?void 0:b.title} 컬럼의 WIP 제한에 도달했습니다.`);return}try{const N=e==null?void 0:e.find(O=>O.id===I);if(!N)return;await i.mutateAsync({taskId:I,updateData:{status:y,id:I,version:N.version||1}})}catch(N){console.error("태스크 상태 업데이트 실패:",N),alert("태스크 상태 업데이트에 실패했습니다.")}},h=(p,v)=>{o(m=>({...m,[p]:v}))},d=p=>{switch(p){case Fe.LOW:return"text-gray-500";case Fe.MEDIUM:return"text-blue-500";case Fe.HIGH:return"text-orange-500";case Fe.URGENT:return"text-red-500";default:return"text-gray-500"}},f=p=>new Date(p).toLocaleDateString("ko-KR",{month:"short",day:"numeric"});return n?P.jsx("div",{className:"flex justify-center items-center h-64",children:"로딩 중..."}):r?P.jsx("div",{className:"text-red-500",children:"태스크 목록을 불러오는데 실패했습니다."}):P.jsxs("div",{className:`${t}`,children:[P.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-t-lg border-b border-gray-200",children:[P.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"칸반 보드"}),P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("span",{className:"text-sm text-gray-600",children:"WIP 제한 설정:"}),a.map(p=>P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"text-xs text-gray-500",children:p.title}),P.jsx("input",{type:"number",min:"0",max:"50",value:s[p.id],onChange:v=>h(p.id,parseInt(v.target.value)||0),className:"w-12 px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]},p.id))]})]}),P.jsx(n5,{onDragEnd:c,children:P.jsx("div",{className:"flex gap-4 p-4 bg-gray-50 min-h-96",children:a.map(p=>{const v=l[p.id]||[],m=s[p.id]&&v.length>s[p.id];return P.jsx("div",{className:"flex-1 min-w-0",children:P.jsxs("div",{className:`${p.color} rounded-lg p-4 h-full`,children:[P.jsxs("div",{className:"flex items-center justify-between mb-4",children:[P.jsx("h3",{className:"font-semibold text-gray-900",children:p.title}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsxs("span",{className:"text-sm text-gray-600",children:[v.length,s[p.id]&&`/${s[p.id]}`]}),m&&P.jsx("span",{className:"text-xs text-red-600 font-medium",children:"초과!"})]})]}),P.jsx(TP,{droppableId:p.id,children:(I,E)=>P.jsxs("div",{ref:I.innerRef,...I.droppableProps,className:`min-h-64 transition-colors ${E.isDraggingOver?"bg-blue-50":""} ${m?"bg-red-50":""}`,children:[v.map((y,_)=>P.jsx(U5,{draggableId:y.id,index:_,children:(b,N)=>P.jsxs("div",{ref:b.innerRef,...b.draggableProps,...b.dragHandleProps,className:`bg-white p-3 rounded-lg shadow-sm border border-gray-200 mb-3 cursor-move transition-shadow ${N.isDragging?"shadow-lg":"hover:shadow-md"}`,children:[P.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-2 line-clamp-2",children:y.title}),y.description&&P.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:y.description}),P.jsxs("div",{className:"flex items-center justify-between text-xs",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:`font-medium ${d(y.priority)}`,children:y.priority}),y.dueDate&&P.jsx("span",{className:"text-gray-500",children:f(y.dueDate)})]}),P.jsx("span",{className:"text-gray-400",children:y.assigneeId})]})]})},y.id)),I.placeholder]})})]})},p.id)})})}),(e==null?void 0:e.length)===0&&P.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-b-lg",children:"등록된 태스크가 없습니다."})]})},xP=6048e5,q5=864e5,vb=Symbol.for("constructDateFrom");function Ki(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&vb in t?t[vb](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xn(t,e){return Ki(e||t,t)}let G5={};function Jf(){return G5}function Au(t,e){var a,l,c,h;const n=Jf(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=Xn(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Bh(t,e){return Au(t,{...e,weekStartsOn:1})}function CP(t,e){const n=Xn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ki(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Bh(i),o=Ki(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Bh(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function yb(t){const e=Xn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function K5(t,...e){const n=Ki.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function wb(t,e){const n=Xn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Q5(t,e,n){const[r,i]=K5(n==null?void 0:n.in,t,e),s=wb(r),o=wb(i),a=+s-yb(s),l=+o-yb(o);return Math.round((a-l)/q5)}function Y5(t,e){const n=CP(t,e),r=Ki((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Bh(r)}function X5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function J5(t){return!(!X5(t)&&typeof t!="number"||isNaN(+Xn(t)))}function Z5(t,e){const n=Xn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tW=(t,e,n)=>{let r;const i=eW[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sW={date:xg({formats:nW,defaultWidth:"full"}),time:xg({formats:rW,defaultWidth:"full"}),dateTime:xg({formats:iW,defaultWidth:"full"})},oW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aW=(t,e,n,r)=>oW[t];function pl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const lW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pW=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gW={ordinalNumber:pW,era:pl({values:lW,defaultWidth:"wide"}),quarter:pl({values:uW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pl({values:cW,defaultWidth:"wide"}),day:pl({values:dW,defaultWidth:"wide"}),dayPeriod:pl({values:hW,defaultWidth:"wide",formattingValues:fW,defaultFormattingWidth:"wide"})};function gl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?vW(a,d=>d.test(o)):mW(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function mW(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function vW(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yW(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const wW=/^(\d+)(th|st|nd|rd)?/i,_W=/\d+/i,EW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IW={any:[/^b/i,/^(a|c)/i]},SW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bW={any:[/1/i,/2/i,/3/i,/4/i]},TW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DW={ordinalNumber:yW({matchPattern:wW,parsePattern:_W,valueCallback:t=>parseInt(t,10)}),era:gl({matchPatterns:EW,defaultMatchWidth:"wide",parsePatterns:IW,defaultParseWidth:"any"}),quarter:gl({matchPatterns:SW,defaultMatchWidth:"wide",parsePatterns:bW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gl({matchPatterns:TW,defaultMatchWidth:"wide",parsePatterns:xW,defaultParseWidth:"any"}),day:gl({matchPatterns:CW,defaultMatchWidth:"wide",parsePatterns:RW,defaultParseWidth:"any"}),dayPeriod:gl({matchPatterns:AW,defaultMatchWidth:"any",parsePatterns:PW,defaultParseWidth:"any"})},NW={code:"en-US",formatDistance:tW,formatLong:sW,formatRelative:aW,localize:gW,match:DW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kW(t,e){const n=Xn(t,e==null?void 0:e.in);return Q5(n,Z5(n))+1}function OW(t,e){const n=Xn(t,e==null?void 0:e.in),r=+Bh(n)-+Y5(n);return Math.round(r/xP)+1}function RP(t,e){var h,d,f,p;const n=Xn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Jf(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ki((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Au(o,e),l=Ki((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Au(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function LW(t,e){var a,l,c,h;const n=Jf(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,i=RP(t,e),s=Ki((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Au(s,e)}function MW(t,e){const n=Xn(t,e==null?void 0:e.in),r=+Au(n,e)-+LW(n,e);return Math.round(r/xP)+1}function be(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return be(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):be(n+1,2)},d(t,e){return be(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return be(t.getHours()%12||12,e.length)},H(t,e){return be(t.getHours(),e.length)},m(t,e){return be(t.getMinutes(),e.length)},s(t,e){return be(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return be(i,e.length)}},wo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_b={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Qr.y(t,e)},Y:function(t,e,n,r){const i=RP(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return be(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):be(s,e.length)},R:function(t,e){const n=CP(t);return be(n,e.length)},u:function(t,e){const n=t.getFullYear();return be(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return be(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return be(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return be(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=MW(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):be(i,e.length)},I:function(t,e,n){const r=OW(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):be(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qr.d(t,e)},D:function(t,e,n){const r=kW(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):be(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return be(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return be(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return be(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=wo.noon:r===0?i=wo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=wo.evening:r>=12?i=wo.afternoon:r>=4?i=wo.morning:i=wo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qr.s(t,e)},S:function(t,e){return Qr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ib(r);case"XXXX":case"XX":return ps(r);case"XXXXX":case"XXX":default:return ps(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ib(r);case"xxxx":case"xx":return ps(r);case"xxxxx":case"xxx":default:return ps(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Eb(r,":");case"OOOO":default:return"GMT"+ps(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Eb(r,":");case"zzzz":default:return"GMT"+ps(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return be(r,e.length)},T:function(t,e,n){return be(+t,e.length)}};function Eb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+be(s,2)}function Ib(t,e){return t%60===0?(t>0?"-":"+")+be(Math.abs(t)/60,2):ps(t,e)}function ps(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=be(Math.trunc(r/60),2),s=be(r%60,2);return n+i+e+s}const Sb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VW=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Sb(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Sb(r,e)).replace("{{time}}",AP(i,e))},FW={p:AP,P:VW},UW=/^D+$/,BW=/^Y+$/,jW=["D","DD","YY","YYYY"];function $W(t){return UW.test(t)}function zW(t){return BW.test(t)}function WW(t,e,n){const r=HW(t,e,n);if(console.warn(r),jW.includes(t))throw new RangeError(r)}function HW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KW=/^'([^]*?)'?$/,QW=/''/g,YW=/[a-zA-Z]/;function dd(t,e,n){var h,d,f,p,v,m,I,E;const r=Jf(),i=(n==null?void 0:n.locale)??r.locale??NW,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((E=(I=r.locale)==null?void 0:I.options)==null?void 0:E.weekStartsOn)??0,a=Xn(t,n==null?void 0:n.in);if(!J5(a))throw new RangeError("Invalid time value");let l=e.match(GW).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=FW[_];return b(y,i.formatLong)}return y}).join("").match(qW).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:XW(y)};if(_b[_])return{isToken:!0,value:y};if(_.match(YW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zW(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&$W(_))&&WW(_,e,String(t));const b=_b[_[0]];return b(a,_,i.localize,c)}).join("")}function XW(t){const e=t.match(KW);return e?e[1].replace(QW,"'"):t}const JW=()=>{const{user:t}=Br(),{t:e}=Ra(),[n,r]=F.useState({zoomLevel:Zr.WEEK,showDependencies:!0,showProgress:!0,showDelayedTasks:!0,dateRange:{start:new Date,end:new Date(Date.now()+30*24*60*60*1e3)}}),{data:i,isLoading:s,error:o}=Nf({teamId:(t==null?void 0:t.teamId)||""}),a=F.useMemo(()=>i?i.map(d=>{const f=d.startDate||d.createdAt,p=d.endDate||d.dueDate||new Date(f.getTime()+7*24*60*60*1e3),v=d.dueDate?new Date>d.dueDate&&d.status!=="DONE":!1,m=d.dueDate?new Date>d.dueDate:!1;return{id:d.id,title:d.title,startDate:f,endDate:p,progress:d.progress||0,status:d.status,priority:d.priority,assigneeId:d.assigneeId,dependencies:d.dependencies||[],isDelayed:v,isOverdue:m}}):[],[i]),l=d=>{r(f=>({...f,zoomLevel:d}))},c=()=>{const{start:d,end:f}=n.dateRange,p=Math.ceil((f.getTime()-d.getTime())/(24*60*60*1e3));return P.jsx("div",{className:"flex border-b border-gray-200",children:Array.from({length:p},(v,m)=>{const I=new Date(d.getTime()+m*24*60*60*1e3);return P.jsx("div",{className:"flex-1 text-xs text-gray-500 border-r border-gray-100 p-1 text-center",children:dd(I,"MM/dd")},m)})})},h=d=>{const{start:f,end:p}=n.dateRange,v=Math.ceil((p.getTime()-f.getTime())/(24*60*60*1e3)),m=Math.max(0,(d.startDate.getTime()-f.getTime())/(24*60*60*1e3)),I=Math.ceil((d.endDate.getTime()-d.startDate.getTime())/(24*60*60*1e3)),E=m/v*100,y=I/v*100,_=b=>{switch(b){case"TODO":return"bg-gray-300";case"IN_PROGRESS":return"bg-blue-500";case"REVIEW":return"bg-yellow-500";case"DONE":return"bg-green-500";default:return"bg-gray-300"}};return P.jsx("div",{className:`absolute h-6 rounded ${_(d.status)} ${d.isDelayed?"border-2 border-red-500":""}`,style:{left:`${E}%`,width:`${y}%`,top:"2px"},title:`${d.title} (마감일: ${dd(d.endDate,"MM/dd")})`,children:P.jsxs("div",{className:"flex items-center justify-between px-2 h-full text-white text-xs",children:[P.jsx("span",{className:"truncate",children:d.title}),d.progress>0&&P.jsxs("span",{className:"ml-1",children:[d.progress,"%"]})]})})};return s?P.jsx("div",{className:"p-4",children:"로딩 중..."}):o?P.jsxs("div",{className:"p-4 text-red-500",children:["오류가 발생했습니다: ",o.message]}):P.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e("view.gantt")}),P.jsxs("div",{className:"flex space-x-2",children:[P.jsxs("select",{value:n.zoomLevel,onChange:d=>l(d.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[P.jsx("option",{value:Zr.DAY,children:"일"}),P.jsx("option",{value:Zr.WEEK,children:"주"}),P.jsx("option",{value:Zr.MONTH,children:"월"}),P.jsx("option",{value:Zr.QUARTER,children:"분기"}),P.jsx("option",{value:Zr.YEAR,children:"년"})]}),P.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[P.jsx("input",{type:"checkbox",checked:n.showDependencies,onChange:d=>r(f=>({...f,showDependencies:d.target.checked})),className:"rounded"}),P.jsx("span",{children:"의존성 표시"})]}),P.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[P.jsx("input",{type:"checkbox",checked:n.showProgress,onChange:d=>r(f=>({...f,showProgress:d.target.checked})),className:"rounded"}),P.jsx("span",{children:"진행률 표시"})]})]})]}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("div",{className:"min-w-full",children:[c(),P.jsx("div",{className:"relative",children:a.map(d=>P.jsxs("div",{className:"relative h-10 border-b border-gray-100",children:[P.jsxs("div",{className:"absolute left-0 top-0 w-48 h-full bg-gray-50 border-r border-gray-200 p-2",children:[P.jsx("div",{className:"text-sm font-medium truncate",children:d.title}),P.jsxs("div",{className:"text-xs text-gray-500",children:[dd(d.startDate,"MM/dd")," -"," ",dd(d.endDate,"MM/dd")]})]}),P.jsx("div",{className:"ml-48 relative h-full",children:h(d)})]},d.id))})]})})]})},ZW=({currentView:t,onViewChange:e,className:n=""})=>{const{t:r}=Ra(),i=[{id:"list",label:r("view.list"),icon:"📋",description:r("view.listDescription")},{id:"grid",label:r("view.grid"),icon:"📊",description:r("view.gridDescription")},{id:"kanban",label:r("view.kanban"),icon:"📋",description:r("view.kanbanDescription")},{id:"gantt",label:r("view.gantt"),icon:"📅",description:r("view.ganttDescription")}];return P.jsxs("div",{className:`bg-white rounded-lg shadow border border-gray-200 ${n}`,children:[P.jsxs("div",{className:"p-4 border-b border-gray-200",children:[P.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r("view.switchView")}),P.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r("view.selectViewDescription")})]}),P.jsx("div",{className:"p-4",children:P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(s=>P.jsx("button",{onClick:()=>e(s.id),className:`p-4 rounded-lg border-2 transition-all duration-200 ${t===s.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("span",{className:"text-2xl",children:s.icon}),P.jsxs("div",{className:"text-left",children:[P.jsx("div",{className:"font-medium",children:s.label}),P.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.description})]})]})},s.id))})})]})},eH=()=>{const{i18n:t,t:e}=Ra(),n=r=>{t.changeLanguage(r)};return P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsxs("span",{className:"text-sm text-gray-600",children:[e("app.language"),":"]}),P.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[P.jsx("button",{onClick:()=>n("ko"),className:`px-3 py-1 text-sm rounded-md transition-colors ${t.language==="ko"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e("language.korean")}),P.jsx("button",{onClick:()=>n("vi"),className:`px-3 py-1 text-sm rounded-md transition-colors ${t.language==="vi"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e("language.vietnamese")})]})]})},tH=()=>{const[t,e]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(!1),{signIn:o,error:a}=Br(),l=async c=>{if(c.preventDefault(),!(!t||!n)){s(!0);try{await o(t,n)}catch(h){console.error("로그인 실패:",h)}finally{s(!1)}}};return P.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:P.jsxs("div",{className:"max-w-md w-full space-y-8",children:[P.jsxs("div",{children:[P.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ALMUS ToDo List"}),P.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"팀 업무를 효율적으로 관리하세요"})]}),P.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[P.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"이메일 주소"}),P.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"이메일 주소",value:t,onChange:c=>e(c.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"password",className:"sr-only",children:"비밀번호"}),P.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"비밀번호",value:n,onChange:c=>r(c.target.value)})]})]}),a&&P.jsx("div",{className:"text-red-600 text-sm text-center",children:a}),P.jsx("div",{children:P.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?P.jsxs("div",{className:"flex items-center",children:[P.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"로그인 중..."]}):"로그인"})}),P.jsx("div",{className:"text-center",children:P.jsx("p",{className:"text-sm text-gray-600",children:"테스트 계정: admin@almus.com / password123"})})]})]})})};function nH(){const[t,e]=F.useState("list"),{t:n}=Ra(),{loading:r,isAuthenticated:i}=Br(),s=()=>{switch(t){case"grid":return P.jsx(h6,{});case"kanban":return P.jsx(H5,{});case"gantt":return P.jsx(JW,{});case"list":default:return P.jsx(Xj,{})}};return r?P.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),P.jsx("p",{className:"mt-4 text-gray-600",children:"로딩 중..."})]})}):i?P.jsx(_L,{children:P.jsx("div",{className:"min-h-screen bg-gray-50",children:P.jsxs("div",{className:"container mx-auto px-4 py-8",children:[P.jsx("header",{className:"mb-8",children:P.jsxs("div",{className:"flex justify-between items-start mb-4",children:[P.jsxs("div",{children:[P.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("app.title")}),P.jsx("p",{className:"text-gray-600 mt-2",children:n("app.subtitle")})]}),P.jsx(eH,{})]})}),P.jsxs("main",{className:"space-y-8",children:[P.jsx(e6,{}),P.jsx(ZW,{currentView:t,onViewChange:e,className:"mb-6"}),s()]})]})})}):P.jsx(tH,{})}const rH=new nx({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Cg.createRoot(document.getElementById("root")).render(P.jsx(Re.StrictMode,{children:P.jsx(sx,{client:rH,children:P.jsx(wO,{children:P.jsx(nH,{})})})}));
//# sourceMappingURL=index-fe0e8292.js.map
